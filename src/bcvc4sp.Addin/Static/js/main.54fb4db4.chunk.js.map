{"version":3,"sources":["services/connector/index.ts","components/embeds/EmbedLayoutMode.ts","components/common/AccountPicker.tsx","components/common/CopyToClipboard.tsx","components/common/DatePicker.tsx","components/common/FolderPicker.tsx","components/common/GroupPicker.tsx","components/common/LoadingProgess.tsx","components/common/IngestProfilePicker.tsx","components/common/PlayerPicker.tsx","components/common/Spinner.tsx","components/brightcove-experience/BrightcoveExperience.tsx","components/manage-videos/VideoSearchControls.tsx","components/brightcove-player/BrightcovePlayer.tsx","components/brightcove-player/BrightcovePlayerControls.tsx","components/brightcove-player/BrightcovePlayerUtils.ts","components/manage-videos/ManageVideos.tsx","components/brightcove-preview/BrightcovePreview.tsx","components/manage-videos/TextTrackTypes.ts","components/manage-videos/EditVideo.tsx","components/manage-videos/EditVideoTextTracks.tsx","components/manage-playlists/ManagePlaylists.tsx","components/manage-playlists/EditPlaylist.tsx","components/manage-playlists/PlaylistSearchControls.tsx","components/brightcove-experience/index.ts","util/useDebounce.ts","components/brightcove-experience/BrightcoveExperienceControls.tsx","components/brightcove-experience/BrightcoveExperienceUtils.ts","components/embeds/ExperienceEmbed.tsx","components/embeds/PlaylistEmbed.tsx","components/embeds/VideoEmbed.tsx","components/mini-experiences/MiniExperiences.tsx","components/mini-playlists/MiniPlaylists.tsx","components/mini-videos/MiniVideos.tsx","Mini.tsx","components/part-video/EditPartVideo.tsx","components/part-playlist/EditPartPlaylist.tsx","components/part-experience/EditPartExperience.tsx","Part.tsx","components/home/home.tsx","components/account-management/AccountFieldRow.tsx","components/account-management/AccountManagement.tsx","components/account-management/AccountView.tsx","components/add-videos/AddVideos.tsx","components/manage-experiences/ManageExperiences.tsx","components/manage-experiences/PreviewExperience.tsx","components/installation-validation/InstallationValidation.tsx","Manage.tsx","App.tsx","index.tsx","services/index.ts","services/Utils.ts","services/BrightcoveSettings.ts","services/ResourceLoader.ts","services/BCSPAccessTokenService.ts","services/connector/ConnectorVideo.ts","services/connector/PlaylistSearch.ts","services/connector/UserRole.ts","services/connector/VideoSearch.ts","services/connector/behaviors/validateConfiguration.ts","services/connector/behaviors/performDynamicIngest.ts","services/connector/behaviors/searchForBrightcoveVideos.ts","services/connector/ConnectorContext.ts","services/sharepoint/BrightcoveSettingsManager.ts","services/sharepoint/SPGroups.ts","services/sharepoint/SPWebPartConfig.ts","services/sharepoint/SharePointApiGateway.ts","services/sharepoint/SPUtility.ts","services/sharepoint/SPProxy.ts","services/sharepoint/SPEmbedUtil.ts","services/sharepoint/index.ts","../../brightcove-video-cloud-sdk/dist/index.js","assets/BrightcoveEmbedHelper.html","../../brightcove-video-cloud-sdk/dist/dto/index.js","../../brightcove-video-cloud-sdk/dist/dto/Playlist.js","../../brightcove-video-cloud-sdk/dist/dto/Videos.js","../../brightcove-video-cloud-sdk/dist/AssetsApi.js","../../brightcove-video-cloud-sdk/dist/BrightcoveApiGateway.js","../../brightcove-video-cloud-sdk/dist/ClientCredentialsApi.js","../../brightcove-video-cloud-sdk/dist/DynamicIngestApi.js","../../brightcove-video-cloud-sdk/dist/ExperiencesApi.js","../../brightcove-video-cloud-sdk/dist/FoldersApi.js","../../brightcove-video-cloud-sdk/dist/IngestProfilesApi.js","../../brightcove-video-cloud-sdk/dist/PlayerManagementApi.js","../../brightcove-video-cloud-sdk/dist/PlaylistsApi.js","../../brightcove-video-cloud-sdk/dist/VideosApi.js","../../brightcove-video-cloud-sdk/dist/Endpoints.js","../../brightcove-video-cloud-sdk/dist/utils.js"],"names":["SortOrder","EmbedLayoutMode","AccountPicker","props","availableAccounts","selectedAccountId","onChange","disabled","className","useState","isLoadingAccounts","setIsLoadingAccounts","useEffect","length","newSelectedAccount","FormControl","componentClass","placeholder","value","event","target","selectedAccount","find","account","accountId","map","i","key","title","CopyToClipboard","_cb","this","ClipboardJS","id","destroy","data-clipboard-target","style","margin","onClick","icon","faCopy","React","DatePicker","openCalendar","Button","timeFormat","renderInput","renderDateTime","inputProps","FolderPicker","context","state","isLoadingFolders","allFolders","loadFolders","currentAccountId","connectorContext","setState","bcApiGateway","foldersApi","getFolders","orderBy","selectedFolder","folder","selectedFolderId","handleFieldChange","name","autobind","GroupPicker","isLoadingGroups","allGroups","spApiGateway","spGroups","getSiteGroups","group","LoadingProgress","isLoadingIngestProfiles","allIngestProfiles","getIngestProfiles","nextProps","ingestProfilesApi","getDefaultProfile","defaultIngestProfile","getAllIngestProfiles","selectedIngestProfile","undefined","selectedIngestProfileId","bcPlaceholder","bcIngestProfileId","handlePlayerChange","ingestProfile","loadingMessage","src","alt","role","PlayerPicker","retrieveAllPlayers","playerFilter","playerType","defaultPlayerId","selectedPlayerId","isLoadingPlayers","setIsLoadingPlayers","allPlayers","setAllPlayers","filteredPlayers","setFilteredPlayers","setSelectedPlayer","filterPlayers","strFilter","toLowerCase","filter","player","indexOf","isPlaylistPlayer","get","plugins","registry_id","defaultPlayerIndex","findIndex","p","defaultPlayer","splice","selectedPlayer","loadPlayers","a","filterPlayerResult","width","bcPlayerId","Spinner","loadingText","textAlign","faSpinner","spin","size","BrightcoveExperience","_scriptElement","_embedElement","embedCodeOverride","range","document","createRange","selectNodeContents","deleteContents","appendChild","createContextualFragment","parentElement","newScriptElement","createElement","removeChild","experienceId","renderMode","overrideExperienceVideos","experienceOverrideMode","experienceOverrideModeIds","scriptUri","URI","addQuery","sharepointVersion","connectorVersion","BrightcoveExperienceOverrideMode","Playlist","join","scriptUrl","toString","replace","display","position","height","top","bottom","right","left","border","marginLeft","marginRight","allowFullScreen","webkitallowfullscreen","mozallowfullscreen","divProps","Videos","ref","el","embedType","sizing","markup","__html","dangerouslySetInnerHTML","renderIFrameFixed","renderJavaScriptFixed","renderJavaScriptResponsive","Error","VideoSearchControls","e","searchParameters","onSearchParametersChanged","searchTerms","newSearchTarget","searchTarget","newSelectedFolder","folderId","searchLimit","parseInt","newSortField","sortField","newSortOrder","sortOrder","onSearchForVideos","showSearchTarget","labelClass","controlClass","formControlClass","shouldShowSearchTarget","type","onKeyPress","handleSearchTermsChange","checked","SearchTarget","SharePoint","handleSearchTargetChanged","VideoCloud","bsSize","handleSelectedFolderChange","handleSearchLimitChange","VideoSortField","Name","handleSortFieldChanged","UpdatedDate","CreationDate","StartDate","TotalPlays","Ascending","handleSortOrderChanged","Descending","BrightcovePlayerAspectRatio","BrightcovePlayer","mode","modeId","playerWidth","playerHeight","autoplay","muted","playerId","units","videoProps","controls","autoPlay","iFrameUri","window","location","protocol","iframeUrl","outerStyle","iframeStyle","playerNumThumbnails","playlistItemWidth","Math","round","parseFloat","playlistItemHeight","playerPaddingTop","getVideoProps","styleTag","paddingTop","bypassPlayerPadding","divStyle","minWidth","maxWidth","renderIFrameResponsive","BrightcovePlayerControls","showEmbedCustomizations","showAdvancedEmbedCustomizations","bcPlayerProps","showUnitsCustomizations","onPlayerPropsChanged","whClass","setPlayerFilter","calculatePlayerHeight","aspectRatio","newPlayerHeight","Widescreen","Standard","handleEmbedTypeChange","handleSizingChange","allowResponsive","Custom","BrightcovePlayerUtils","process","info","query","result","getDefaultBrightcovePlayerProps","part","body","html","documentElement","max","scrollWidth","offsetWidth","clientWidth","SPProductNumber","uri","setQuery","ManageVideos","getDefaultVideoSearchParameters","isLoadingVideos","showEmbedModal","defaultVideoPlayerId","searchForVideos","searchParams","searchForBrightcoveVideos","videos","newAccount","onAccountChange","embedPlayerProps","fieldChanged","videoId","videoTitle","spAddinContext","embedVideoTitle","cell","video","editVideoUrl","tagsToDisplay","tags","tag","startsWith","thumbnailUrl","to","shortDescription","complete","padding","bsStyle","handleAccountChange","handleSearchParametersChanged","data","striped","bordered","pagination","options","paginationPosition","dataField","isKey","dataFormat","renderVideoCell","Modal","show","onHide","hideEmbedModal","Header","closeButton","Title","Body","layoutMode","Full","doesEmbedHelperExist","showUploadWebPartButton","handleEmbedPlayerPropsChanged","Footer","TextTrackAddMode","BrightcovePreview","previewData","previewIFrame","showCaptureOverlay","capturePosterChecked","captureThumbnailChecked","renderPreview","snapshotDataUrl","snapshotBlob","savingCaptureStatus","onCaptureComplete","dynamicIngestApi","getUploadUrls","uploadUrls","posterUrl","api_request_url","fetch","signed_url","method","credentials","headers","addCustomImages","contentDocument","playerPreviewElement","getElementById","videoElement","querySelector","newCanvasElement","videoWidth","videoHeight","clientHeight","ctx","getContext","drawImage","toDataURL","toBlob","blob","ReactDOMServer","data-vjs-player","data-video-id","data-account","data-player","data-embed","offsetTop","clientLeft","offsetHeight","handleCapturePosterChanged","handleCaptureThumbnailChanged","cancelCapture","completeCapture","showToolbar","background","captureSnapshot","faCameraRetro","sandbox","srcDoc","renderCaptureOverlay","EditVideo","isLoadingVideo","isSavingVideo","savingVideoStatus","showBrightcoveProcessingModal","getVideo","hash","getBrightcoveVideo","videoInfo","cloneDeep","originalVideo","bcVideo","customFields","videosApi","getVideoById","mapBCVideoToMVideo","getCustomFields","custom_fields","textTrack","textTracks","push","ix","forEach","tt","default","newPosterImage","newThumbnailImage","mapMVideoToBCVideo","t","text_tracks","isEqual","pick","updateVideo","bcUpdatedVideo","updatedVideo","newTextTracks","newFileTextTracks","file","newFileTextTrack","addTextTracks","newImageUrls","set","momentValue","toDate","split","s","trim","acceptedFiles","posterDropzoneRef","thumbnailDropzoneRef","isSaveDisabled","validationErrors","customField","required","display_name","referenceId","handleInputChange","longDescription","handleTextAreaChange","handleSelectChange","relatedLinkUrl","relatedLinkText","startAvailabilityDate","handleDateChange","endAvailabilityDate","economics","enum_values","possibleValue","description","onAddTextTrack","addVideoTextTrack","onRemoveTextTrack","removeVideoTextTrack","onDefaultTextTrackChanged","setVideoTextTrackAsDefault","handleCaptureCompleted","videoStillUrl","node","onDrop","handleDropPosterImage","disableClick","multiple","accept","open","marginTop","paddingLeft","paddingRight","handleDropThumbnail","paddingBottom","validationError","when","message","hideBrightcoveProcessingModal","textTrackLanguages","defaultTextTrack","srclang","label","kind","BCVideoTextTrackKind","Captions","mime_type","urlRegex","EditVideoTextTracks","activeTextTrack","textTrackAddMode","FileUpload","isFetchingUrlUpload","uploadUrlResultText","uploadUrl","resultText","cache","arrayBuffer","None","UrlUpload","RemoteUrl","match","newAddMode","files","reader","FileReader","that","onload","isArrayBuffer","readAsArrayBuffer","canAddTextTrack","validateAddTextTrack","canUrlUpload","validateUrlUpload","handleTextTrackAddModeChange","handleFileUpload","fontSize","handleUploadUrlChange","fetchUrlUpload","handleSrcChange","handleSrcLangChange","language","handleLabelChange","handleKindChange","handleAddTextTrack","handleDefaultTextTrackChange","handleRemoveTextTrack","ManagePlaylists","isAddingPlaylist","isLoadingPlaylists","setIsLoadingPlaylists","isEmbedModalShowing","setIsEmbedModalShowing","getDefaultPlaylistSearchParameters","setSearchParameters","defaultPlaylistPlayerId","setDefaultPlaylistPlayerId","playlists","setPlaylists","embedPlaylistTitle","setEmbedPlaylistTitle","getDefaultBrightcovePlaylistProps","setEmbedPlayerProps","searchForPlaylists","playlistsApi","bcParams","getBCPlaylistSearchParams","getPlaylists","onSearchForPlaylists","playlist","editPlaylistUrl","video_ids","float","BCPlaylistType","Manual","dataSort","playlistId","playlistTitle","faPlusCircle","DefaultPlaylist","favorite","reference_id","search","account_id","EditPlaylist","isLoadingPlaylist","isSavingPlaylist","playlistType","isLoadingAvailableVideos","availableVideosSearchTerms","availableVideos","selectedAvailableVideos","isLoadingPlaylistVideos","playlistVideos","selectedPlaylistVideos","originalPlaylist","showDeleteModal","getPlaylistById","getAvailableVideos","getVideosInPlaylist","getVideos","limit","sort","q","selectedVideo","containsVideo","pull","selectedAvailableVideo","pullAllWith","v1","v2","videoIndex","pullAt","tagsRegex","tagsType","matches","exec","searchField","parseSearchField","deletePlaylist","ActivatedDateNewestFirst","createPlaylist","updatePlaylist","unselectedAvailableVideos","differenceWith","hasSelectedAvailableVideos","hasSelectedPlaylistVideos","handlePlaylistTypeChange","handleAvailableVideosSearchTermsChange","moveSelectedPlaylistVideoUp","moveSelectedPlaylistVideoDown","videoClass","thumbnailSrc","toggleSelectAvailableVideo","addSelectedAvailableVideos","removeSelectedPlaylistVideos","toggleSelectPlaylistVideo","populateSearchField","fontWeight","previewSmartPlaylistVideos","createOrUpdatePlaylist","deleteCancel","deleteConfirm","BrightcoveExperienceUnits","PlaylistSearchControls","searchTerm","setSearchTerm","debouncedSearchTerm","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","PlaylistSortField","DisplayName","ModifiedDate","BrightcoveExperienceControls","isLoading","playlistSearchParameters","videoSearchParameters","bcExperienceProps","loadOverrideItems","getBCVideoSearchParams","bcSearchParams","folder_id","onExperiencePropsChanged","overrideWidth","overrideHeight","playerUnits","handleExperienceOverrideModeChange","selectedMode","eventKey","isSelected","without","images","thumbnail","disableOverrideForJavaScriptEmbeds","selectPlaylistRow","clickToSelect","onSelect","handlePlaylistSelected","selected","selectVideoRow","handleVideoSelected","onSelectAll","handleAllVideosSelected","handlePlayerWidthChange","handlePlayerHeightChange","handleOverrideExperienceVideosChange","Tabs","activeKey","Tab","handleVideoSearchParametersChanged","selectRow","renderVideoNameCell","formatExtraData","hidden","handlePlaylistSearchParametersChanged","renderPlaylistNameCell","BrightcoveExperienceUtils","Pixels","Pct","experienceProps","ExperienceEmbed","isWebPartUploading","embedCodeInput","embedCode","generateExperienceEmbedCode","spEmbedUtil","insertContentEditorWebPart","Referrer","experience","webPartName","webPartTitle","getWebPartTitle","webPart","SPEmbedUtil","generateScriptEditorWebPart","dt","moment","filename","format","uploadWebPartToGallery","SPUtility","closeParentDialog","FileSaver","Blob","handleExperiencePropsChanged","wordBreak","spellCheck","handleEmbedCodeChange","downloadScriptEditorWebPart","faDownload","faUpload","hideExperienceName","experienceSharableUrl","layoutSize","previewUrl","href","rel","renderMini","renderPart","renderFull","PlaylistEmbed","generatePlaylistEmbedCode","playerPreviewUrl","handlePlayerPropsChanged","VideoEmbed","generateVideoEmbedCode","embedElement","MiniExperiences","getDefaultBrightcoveExperienceProps","experiencesFilter","isLoadingExperiences","allExperiences","filteredExperiences","loadExperiences","experiencesApi","getExperiences","experiencesResponse","items","ex","selectedExperience","origin","pathname","removeQuery","template","experienceSelected","handleExperiencesFilterChange","defaultSortName","defaultSortOrder","renderExperienceNameCell","Mini","MiniPlaylists","selectedPlaylist","playlistSelected","handlePlayerEmbedCodeChanged","MiniVideos","videoSelected","isDialog","IsDlg","initialize","miniStyle","backgroundColor","path","exact","EditPartVideo","playerProps","isSaving","webPartId","wpId","spWebPartConfig","setBrightcoveWebPartProps","reload","canApply","Part","applyWebpartChanges","cancelWebpartChanges","EditPartPlaylist","EditPartExperience","isEditing","editmode","senderId","SenderId","embedCodeUrl","getBrightcovePlayerPropsFromQueryString","getBrightcoveExperiencePropsFromQueryString","getBrightcoveWebPartProps","redirect","response","text","require","partStyle","renderPlaylist","renderVideo","renderExperience","Home","AccountFieldRow","showFieldModal","newFieldValue","fieldValue","updateFieldValue","fieldName","fieldDescription","fieldValueType","truncate","hideFieldModal","ControlLabel","handleFieldChange2","notifyUpdateFieldUpdate","AccountManagement","isAddingAccount","isSavingSettings","isImportingSettings","showConnectorSettings","currentConnectorSettings","defaultBrightcoveSettings","connectorSettings","validationResult","accountEmptyGroups","currentUserRole","UserRole","Author","settingsManager","loadBrightcoveSettings","settings","accounts","brightcoveAccounts","saveBrightcoveSettings","JSON","stringify","readFileAsJson","raiseError","newId","makeId","accountAuthorsGroupName","accountViewersGroupName","clientId","clientSecret","embedHelperBlob","generateEmbedHelper","SPHostUrl","SPAppWebUrl","getEmbedHelperFileNameFromAppWebUrl","dropzoneRef","hasChanges","faCog","addNewAccount","downloadEmbedHelper","hideConnectorSettings","proxySettings","proxyUrl","newValue","importConnectorSettings","exportConnectorSettings","saveConnectorSettings","AccountView","isDeletingAccount","isSavingAccount","isLoadingAccount","isLoadingCustomFields","showCustomFieldsModal","originalAccount","existingAccount","merge","refreshAccounts","saveAccountChanges","deleteAccount","AddVideos","videoFiles","currentTags","uploadingVideo","targetFolder","fileName","isUploading","isComplete","hasError","status","progress","performDynamicIngest","videoIx","str","uploadingVideoFiles","strCurrentTags","handleSelectedAccountChange","faArrowCircleUp","color","handleOnTagsChange","ProgressBar","now","active","ManageExperiences","experiences","embedExperienceProps","embedExperience","videoIds","noDataText","renderEditLink","PreviewExperience","isLoadingExperience","getExperience","getExperienceById","bcExperience","substr","InstallationValidation","isPerformingInstallationAction","installationActionMessage","isProxyDefined","areAccountsAvailable","accountEmptyAccountId","accountName","missingGroups","missingGroup","RouteButton","activeOnlyWhenExact","children","linkClass","Manage","showInstallationModal","isValid","isSettingsListCreated","isAccountsListCreated","isVideosListCreated","currentUserAvailableAccounts","currentUserMaxRole","validateConfiguration","pathMatch","matchPath","params","accountActionPath","showAccountManagement","component","render","accountSharePointId","hideInstallationModel","App","_notificationSystem","ConnectorContext","mini","ns","setNotificationSystem","addNotification","level","autoDismiss","ReactDOM","possible","charAt","floor","random","temporaryFileReader","Promise","resolve","reject","onerror","abort","isString","parse","readAsText","ResourceLoader","$document","$promises","normalize","_loader","iframe","tabIndex","frameBorder","script","head","url","promise","innerRequest","innerReject","element","onreadystatechange","readyState","BCSPAccessTokenService","errorCallback","_spApiGateway","_proxyUrl","_accessTokens","_errorCallback","brightcoveSettings","endsWith","finalProxyUrl","Date","getTime","apiCredentials","client_id","client_secret","existingAccessToken","accessToken","expiration","isAfter","accessTokenInfo","json","access_token","expires_in","obtainedAt","add","clearAccessTokenInFuture","err","errorMessage","outerErr","clearAccessToken","long_description","link","creationDate","created_at","schedule","starts_at","ends_at","poster","bcspTags","toISOString","bcspTag","currentUserEmail","siteGroups","getUserGroups","currentUserGroups","currentUserIsAuthor","currentUserIsViewer","Viewer","statusUpdateCallback","onError","createVideo","createdVideo","addVideoToFolder","axios","onUploadProgress","pctComplete","loaded","total","toFixed","makeIngestRequest","makeIngestResponse","ingestResponse","waitUntilVideoThumbnailUrlsExist","watchInterval","monitorTimer","setInterval","videoThumbnail","videoThumbnailSrc","clearInterval","addinWebId","_spAddinContext","_bcApiGateway","_players","setup","sp","Accept","defaultsDeep","ProductId","SPLanguage","SPClientTag","referrer","SharePointApiGateway","accessTokenService","BrightcoveApiGateway","allAccounts","userGroups","refreshUserGroups","refreshEmbedHelper","force","playerManagementApi","getAllPlayers","playersResponse","item_count","call","observable","computed","action","bind","BrightcoveSettingsManager","hostWebUrl","addinWebUrl","_addinWebUrl","_hostWebUrl","_webUrl","_web","Web","decryptSecrets","savedSettings","error","encryptSecrets","settingsPath","encrypedSecret","CryptoJS","encrypt","getFolderByServerRelativeUrl","SPGroups","crossDomainWeb","groupName","groups","mapGroups","userEmail","currentUser","select","siteUsers","getByEmail","getById","Id","SPWebPartConfig","_docLibPath","defaultProps","webPartConfigServerRelativeUrl","getFileByServerRelativeUrl","getJSON","savedProps","webPartConfigPath","_spGroups","_spEmbedUtil","_spWebPartConfig","_connectorSettingsManager","spHostUrl","spAddinUrl","scriptFileName","scriptLoadedPromise","resolvePromise","SP","SOD","registerSod","executeFunc","executeQueryPromise","resolveExecuteQuery","rejectExecuteQuery","executeQueryAsync","sender","args","get_message","spError","webUrl","web","webInfo","folderRelativeUrl","addedFileInfo","refresh","parent","postMessage","resizeMessage","webPartPageUrl","properties","fooFile","ClientSidePage","fromFile","page","wpid2","csWebPart","findControlById","setProperties","save","ClientContext","appContextSite","AppContextSite","referrerWeb","get_web","webPartManager","getLimitedWebPartManager","WebParts","PersonalizationScope","shared","webParts","get_webParts","webPartDef","getByControlId","webPartProperties","get_webPart","get_properties","Object","keys","prop","set_item","saveWebPartChanges","executePendingQuery","defaultSPProxyConfig","createProxyTimeout","messagePrefix","messageResponseTimeout","SPProxy","proxyOrigin","proxyIFrame","config","_window","_origin","_messageId","_iFrame","_config","_messageCounter","_isRemoved","command","targetOrigin","transferrablePropertyPath","contentWindow","$$command","$$postMessageId","transferrableProperty","timeout","transferrablePath","onProgress","invokePromise","Bluebird","innerResolve","messageListener","ev","originalEvent","$$origin","$$result","$$spproxy","stack","hasOwnProperty","invokeTimeoutError","finally","removeEventListener","addEventListener","proxyAbsoluteUrl","proxyUri","$proxies","v","$resourceLoader","loadIFrame","elemIFrame","proxy","invoke","pingResponse","proxyParent","SharePointPageType","getContentWebPartXml","content","_doesEmbedHelperExist","embedHelperServerRelativeUrl","embedHelper","Exists","pageUrl","equals","referrerServerRelativeUrl","relativeTo","listItemAllFields","pageType","Other","ContentTypeId","WikiPage","PublishingPageLayout","PublishingPage","getWebPartPageType","WebPartPage","getOrCreateProxy","webPartXml","zoneId","zoneIndex","isWikiPage","isPublishingPage","webPartFileName","addInWebUrl","activationPageData","responseOrigin","trustedOriginAuthorities","expression","activationPage","appWebUrl","hostname","escape","__export","m","exports","defineProperty","_regeneratorRuntime","_classCallCheck","_createClass","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","done","then","apply","__importDefault","mod","__esModule","Endpoints_1","utils_1","cross_fetch_1","AssetsApi","mark","_callee","wrap","_context","prev","obtainAccessToken","sent","concat","CmsEndpointUrl","getQueryString","token_type","abrupt","stop","_1","_accessTokenService","_assetsApi","_dynamicIngestApi","DynamicIngestApi","_experiencesApi","ExperiencesApi","_foldersApi","FoldersApi","_ingestProfilesApi","IngestProfilesApi","_playerManagementApi","PlayerManagementApi","_playlistsApi","PlaylistsApi","_videosApi","VideosApi","ClientCredentialsApi","ClientCredentialsEndpointUrl","uuidv4","v4","lodash_1","kebabCase","encodeURIComponent","IngestEndpointUrl","apiRequestUrl","_callee2","_context2","master","profile","_callee3","newTracks","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context3","Symbol","iterator","t0","return","finish","_callee4","requestBody","_context4","ExperiencesEndpointUrl","IngestProfilesEndpointUrl","PlayerManagementEndpointUrl","playlistRequest","_callee5","_context5","_callee6","_context6","ingestJobId","_callee7","_context7","_callee8","_context8","AccessTokenEndpointUrl","queryTerms","esc","_i","_Object$keys"],"mappings":"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,QACA,QACA,QACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,QACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,KACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,QACA,QACA,QACA,QACA,KACA,QACA,KACA,QACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,QACA,KACA,QACA,oCACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,QACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,QACA,UACA,aACA,aACA,aACA,QACA,QACA,KACA,QACA,KACA,QACA,gCACA,KACA,QACA,KACA,QACA,KACA,QACA,KACA,QACA,QACA,QACA,SE7JIC,GAAoC,CACxCna,IAAK,GACLoa,QAAS,QACTC,MAAO,GACPC,KAAMC,wBAAqBC,SAE3BC,UAAW,YAGPC,GAAW,oKAEJC,IAAb,eACE,WAAYpgB,EAA2B+C,GAAgB,IAAD,8BACpD,4CAAM/C,EAAO+C,KAERC,MAAQ,CACXqd,gBAAiB9F,oBAAUqF,IAC3BU,iBAAkBlK,GAAiBmK,WACnCC,qBAAqB,EACrBC,oBAAqB,IAP6B,EADxD,2MAc2C7e,KAAKoB,MAApC0d,EAdZ,EAcYA,UAAWL,EAdvB,EAcuBA,gBAEdK,EAhBT,wDAoBI9e,KAAK0B,SAAS,CACZkd,qBAAqB,IAGnBG,EAAa,iBAxBrB,kBA2ByBtJ,MAAMqJ,EAAW,CAClCnJ,OAAQ,MACR9I,KAAM,UACNmS,MAAO,WACPpJ,YAAa,gBA/BrB,cA2BY5C,EA3BZ,iBAkCmCA,EAAKiM,cAlC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","file":"static/js/main.54fb4db4.chunk.js","sourcesContent":["export * from './ConnectorContext';\nexport * from './ConnectorVideo';\nexport * from './ConnectorVideoFile';\nexport * from './ConnectorValidationResult';\nexport * from './PlaylistSearch';\nexport * from './UserRole';\nexport * from './VideoSearch';\n\nexport enum SortOrder {\n  Ascending = 'ascending',\n  Descending = 'descending'\n}\n","export enum EmbedLayoutMode {\n  Part = 'Part',\n  Mini = 'Mini',\n  Full = 'Full'\n}\n","import * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport { FormControl } from 'react-bootstrap';\n\nimport { BrightcoveAccount } from 'services';\n\nimport { find } from 'lodash';\n\nexport const AccountPicker = (props: AccountPickerProps) => {\n  const { availableAccounts, selectedAccountId, onChange, disabled, className } = props;\n  const [isLoadingAccounts, setIsLoadingAccounts] = useState(true);\n\n  useEffect(() => {\n    setIsLoadingAccounts(true);\n    if (!selectedAccountId && availableAccounts && availableAccounts.length > 0) {\n      const newSelectedAccount = availableAccounts[0];\n      if (onChange) {\n        onChange(newSelectedAccount);\n      }\n    }\n\n    setIsLoadingAccounts(false);\n  }, [isLoadingAccounts]);\n\n  const handleFieldChange = (event: React.FormEvent<FormControl>) => {\n    const target = event.target as any;\n\n    const selectedAccount = find(availableAccounts, account => {\n      return account.accountId === target.value;\n    });\n\n    if (selectedAccount && onChange) {\n      onChange(selectedAccount);\n    }\n  };\n\n  if (isLoadingAccounts) {\n    return (\n      <FormControl className={className} componentClass=\"select\" disabled={true}>\n        <option>Loading Accounts...</option>\n      </FormControl>\n    );\n  }\n\n  if (!availableAccounts || availableAccounts.length <= 0) {\n    return (\n      <FormControl className={className} componentClass=\"select\" disabled={true}>\n        <option>There are no available accounts.</option>\n      </FormControl>\n    );\n  }\n\n  return (\n    <FormControl className={className} componentClass=\"select\" placeholder=\"Select an account...\" value={selectedAccountId} onChange={handleFieldChange} disabled={disabled || false}>\n      {availableAccounts.map((account, i) => (\n        <option key={i} value={account.accountId}>\n          {account.title}\n        </option>\n      ))}\n    </FormControl>\n  );\n};\n\ninterface AccountPickerProps {\n  className?: string;\n  availableAccounts: Array<BrightcoveAccount>;\n  selectedAccountId?: string;\n  onChange?: (selectedAccount: BrightcoveAccount) => void;\n  disabled?: boolean;\n}\n","import * as React from 'react';\nimport ClipboardJS from 'clipboard';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCopy } from '@fortawesome/free-solid-svg-icons';\n\nexport class CopyToClipboard extends React.Component<CopyToClipboardProps> {\n  private _cb: ClipboardJS | undefined;\n\n  componentDidMount() {\n    this._cb = new ClipboardJS(`#${this.props.id || 'copyToClipboard'}`);\n  }\n\n  componentWillUnmount() {\n    this._cb && this._cb.destroy();\n  }\n\n  render() {\n    const id = this.props.id || 'copyToClipboard';\n    return (\n      <div id={id} className=\"btn btn-success btn-sm pull-right\" data-clipboard-target=\"#embedCode\" style={{ margin: '2px' }} onClick={() => null}>\n        <FontAwesomeIcon icon={faCopy} /> Copy to Clipboard\n      </div>\n    );\n  }\n}\n\nexport interface CopyToClipboardProps {\n  id?: string;\n}\n","import * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport Datetime, { EventOrValueHandler } from 'react-datetime';\n\nexport class DatePicker extends React.Component<DatePickerProps> {\n  renderDateTime(props: any, openCalendar: React.MouseEventHandler<Button>): JSX.Element {\n    return (\n      <div className=\"input-group\">\n        <input className=\"form-control\" {...props} />\n        <div className=\"input-group-btn\">\n          <Button onClick={openCalendar} disabled={props.disabled}>\n            &nbsp;\n            <i className=\"glyphicon glyphicon-calendar\" />\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { value, placeholder, onChange, disabled } = this.props;\n\n    return <Datetime value={value} onChange={onChange} timeFormat={false} renderInput={this.renderDateTime} inputProps={{ placeholder: placeholder, disabled: disabled }} />;\n  }\n}\n\nexport interface DatePickerProps {\n  name?: string;\n  value?: Date;\n  placeholder?: string;\n  onChange?: EventOrValueHandler<React.ChangeEvent<any>>;\n  disabled?: boolean;\n}\n","import * as React from 'react';\nimport { FormControl } from 'react-bootstrap';\nimport autobind from 'autobind-decorator';\n\nimport { BCFolder } from '@brightcove/video-cloud-sdk';\nimport { ConnectorContext } from '../../services/connector';\n\nimport { find, orderBy } from 'lodash';\n\nexport class FolderPicker extends React.Component<FolderPickerProps, FolderPickerState> {\n  constructor(props: FolderPickerProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isLoadingFolders: true,\n      allFolders: []\n    };\n  }\n\n  async componentDidMount() {\n    this.loadFolders();\n  }\n\n  async componentDidUpdate() {\n    const { accountId } = this.props;\n    const { isLoadingFolders, currentAccountId } = this.state;\n\n    if (isLoadingFolders) {\n      return;\n    }\n\n    if (accountId && accountId !== currentAccountId) {\n      await this.loadFolders();\n    }\n  }\n\n  @autobind\n  async loadFolders() {\n    const { connectorContext, accountId } = this.props;\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingFolders: true\n    });\n\n    // Get the folders.\n    const allFolders = await connectorContext.bcApiGateway.foldersApi.getFolders(accountId);\n\n    this.setState({\n      isLoadingFolders: false,\n      allFolders: orderBy(allFolders, ['name']),\n      currentAccountId: accountId\n    });\n  }\n\n  @autobind\n  handleFieldChange(event: React.FormEvent<FormControl>) {\n    const { onChange } = this.props;\n    const { allFolders } = this.state;\n\n    const target = event.target as any;\n\n    const selectedFolder = find(allFolders, folder => folder.id === target.value);\n\n    if (onChange) {\n      onChange(selectedFolder);\n    }\n  }\n\n  render() {\n    const { accountId, className, placeholder, selectedFolderId } = this.props;\n    const { isLoadingFolders, allFolders } = this.state;\n\n    if (!accountId) {\n      return (\n        <FormControl className={className} componentClass=\"select\" disabled={true}>\n          <option>Please select an account...</option>\n        </FormControl>\n      );\n    }\n\n    if (isLoadingFolders) {\n      return (\n        <FormControl className={className} componentClass=\"select\" disabled={true}>\n          <option>Loading Folders...</option>\n        </FormControl>\n      );\n    }\n\n    return (\n      <FormControl className={className} componentClass=\"select\" placeholder={placeholder} value={selectedFolderId} onChange={this.handleFieldChange}>\n        <option value=\"\">- No Folder -</option>\n        {allFolders.map((folder, i) => (\n          <option key={i} value={folder.id}>\n            {folder.name}\n          </option>\n        ))}\n      </FormControl>\n    );\n  }\n}\n\ninterface FolderPickerProps {\n  accountId: string;\n  className?: string;\n  placeholder?: string;\n  connectorContext: ConnectorContext;\n  selectedFolderId?: string;\n  onChange?: (selectedFolder?: BCFolder) => void;\n}\n\ninterface FolderPickerState {\n  isLoadingFolders: boolean;\n  currentAccountId?: string;\n  allFolders: Array<BCFolder>;\n}\n","import * as React from 'react';\nimport { FormControl } from 'react-bootstrap';\nimport autobind from 'autobind-decorator';\n\nimport { SPGroup } from '../../services/sharepoint';\nimport { ConnectorContext } from '../../services/connector';\n\nexport class GroupPicker extends React.Component<GroupPickerProps, GroupPickerState> {\n  constructor(props: GroupPickerProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isLoadingGroups: true,\n      allGroups: []\n    };\n  }\n\n  async componentDidMount() {\n    const { connectorContext } = this.props;\n\n    // Get the groups from the host web.\n    const allGroups = await connectorContext.spApiGateway.spGroups.getSiteGroups();\n\n    this.setState({\n      isLoadingGroups: false,\n      allGroups\n    });\n  }\n\n  @autobind\n  handleFieldChange(event: React.FormEvent<FormControl>) {\n    if (this.props.onChange) {\n      this.props.onChange(event);\n    }\n  }\n\n  render() {\n    if (this.state.isLoadingGroups) {\n      return <div>Loading Groups...</div>;\n    }\n\n    return (\n      <FormControl componentClass=\"select\" placeholder=\"Select a group...\" value={this.props.value} onChange={this.handleFieldChange}>\n        <option value=\"\" />\n        {this.state.allGroups.map((group, i) => (\n          <option key={i} value={group.title}>\n            {group.title}\n          </option>\n        ))}\n      </FormControl>\n    );\n  }\n}\n\ninterface GroupPickerProps {\n  connectorContext: ConnectorContext;\n  value: string;\n  onChange?: (event: React.FormEvent<FormControl>) => void;\n}\n\ninterface GroupPickerState {\n  isLoadingGroups: boolean;\n  allGroups: Array<SPGroup>;\n}\n","import * as React from 'react';\n\nexport const LoadingProgress = (props: LoadingProgressProps) => {\n  let { loadingMessage } = props;\n  if (!loadingMessage) {\n    loadingMessage = 'Loading Brightcove Video Connector for SharePoint...';\n  }\n\n  return (\n    <div className=\"loading-progress\">\n      <div className=\"loading-progress-content\">\n        <div className=\"loading-logo\">\n          <img src=\"images/brightcove-logo-vertical-grey.png\" alt=\"logo\" />\n        </div>\n        <div className=\"loading-progress-bar\" role=\"progressbar\">\n          <div className=\"progressContainer\">\n            <div className=\"primaryProgress\" />\n          </div>\n        </div>\n        <div className=\"loading-progress-message\">{loadingMessage}</div>\n      </div>\n    </div>\n  );\n};\n\nexport interface LoadingProgressProps {\n  loadingMessage?: string;\n}\n","import * as React from 'react';\nimport { FormControl } from 'react-bootstrap';\nimport autobind from 'autobind-decorator';\n\nimport { BrightcoveApiGateway, BCIngestProfile, BCGetDefaultIngestProfileResponse } from '@brightcove/video-cloud-sdk';\n\nimport { find } from 'lodash';\n\nexport class IngestProfilePicker extends React.Component<IngestProfilePickerProps, IngestProfilePickerState> {\n  constructor(props: IngestProfilePickerProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isLoadingIngestProfiles: true,\n      allIngestProfiles: []\n    };\n  }\n\n  async UNSAFE_componentWillMount() {\n    if (this.props.accountId) {\n      this.getIngestProfiles(this.props);\n    }\n  }\n\n  async UNSAFE_componentWillReceiveProps(nextProps: IngestProfilePickerProps) {\n    const { accountId } = nextProps;\n    const { allIngestProfiles } = this.state;\n\n    if (accountId && nextProps.accountId !== this.props.accountId && allIngestProfiles.length === 0) {\n      await this.getIngestProfiles(nextProps);\n    }\n  }\n\n  @autobind\n  async getIngestProfiles(props: IngestProfilePickerProps) {\n    const { accountId, bcApiGateway, onChange } = props;\n    const { ingestProfilesApi } = bcApiGateway;\n\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingIngestProfiles: true\n    });\n\n    const defaultIngestProfile = await ingestProfilesApi.getDefaultProfile(accountId);\n\n    const allIngestProfiles = await ingestProfilesApi.getAllIngestProfiles(accountId);\n\n    // map the profiles to a hash.\n\n    let selectedIngestProfile: BCIngestProfile | undefined = undefined;\n    if (allIngestProfiles && allIngestProfiles.length > 0) {\n      if (defaultIngestProfile) {\n        selectedIngestProfile = find(allIngestProfiles, { id: defaultIngestProfile.id });\n      }\n\n      if (!selectedIngestProfile) {\n        selectedIngestProfile = allIngestProfiles[0];\n      }\n\n      if (selectedIngestProfile && onChange) {\n        onChange(selectedIngestProfile);\n      }\n    }\n\n    // Sort the players alphabetically by namewith the default player on top.\n\n    this.setState({\n      isLoadingIngestProfiles: false,\n      selectedIngestProfile\n    });\n  }\n\n  @autobind\n  handlePlayerChange(event: React.FormEvent<FormControl>) {\n    const { onChange } = this.props;\n    const { allIngestProfiles } = this.state;\n    const target = event.target as any;\n\n    const selectedIngestProfile = find(allIngestProfiles, { id: target.value });\n\n    if (selectedIngestProfile && onChange) {\n      onChange(selectedIngestProfile);\n    }\n  }\n\n  render() {\n    const { placeholder, className, accountId, selectedIngestProfileId } = this.props;\n    const { isLoadingIngestProfiles, allIngestProfiles, defaultIngestProfile } = this.state;\n\n    if (!accountId) {\n      return (\n        <FormControl className={className} componentClass=\"select\" disabled={true}>\n          <option>Please select an account...</option>\n        </FormControl>\n      );\n    }\n\n    if (isLoadingIngestProfiles) {\n      return (\n        <FormControl className={className} componentClass=\"select\" disabled={true}>\n          <option>Loading Ingest Profiles...</option>\n        </FormControl>\n      );\n    }\n\n    let bcPlaceholder = placeholder;\n    if (!bcPlaceholder) {\n      bcPlaceholder = 'Select an ingest profile...';\n    }\n\n    let bcIngestProfileId = selectedIngestProfileId;\n    if (!bcIngestProfileId && defaultIngestProfile) {\n      bcIngestProfileId = defaultIngestProfile.id;\n    }\n\n    return (\n      <FormControl className={className} componentClass=\"select\" placeholder={bcPlaceholder} value={bcIngestProfileId} onChange={this.handlePlayerChange}>\n        {allIngestProfiles.map((ingestProfile, i) => (\n          <option key={i} value={ingestProfile.id}>\n            {ingestProfile.name}\n          </option>\n        ))}\n      </FormControl>\n    );\n  }\n}\n\nexport interface IngestProfilePickerProps {\n  className?: string;\n  placeholder?: string;\n  bcApiGateway: BrightcoveApiGateway;\n  accountId?: string;\n  selectedIngestProfileId?: string;\n  onChange?: (selectedIngestProfile: BCIngestProfile) => void;\n}\n\nexport interface IngestProfilePickerState {\n  isLoadingIngestProfiles: boolean;\n  defaultIngestProfile?: BCGetDefaultIngestProfileResponse;\n  allIngestProfiles: Array<BCIngestProfile>;\n  ingestProfilesObj?: Array<BCIngestProfile>;\n  selectedIngestProfile?: BCIngestProfile;\n}\n","import * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport { FormControl } from 'react-bootstrap';\n\nimport { BCPlayer } from '@brightcove/video-cloud-sdk';\n\nimport { get, find, filter, orderBy } from 'lodash';\n\nexport const PlayerPicker = (props: PlayerPickerProps) => {\n  const { accountId, retrieveAllPlayers, playerFilter, playerType, defaultPlayerId, selectedPlayerId, onChange, placeholder, className } = props;\n  const [isLoadingPlayers, setIsLoadingPlayers] = useState(true);\n  const [allPlayers, setAllPlayers] = useState<BCPlayer[]>([]);\n  const [filteredPlayers, setFilteredPlayers] = useState<BCPlayer[]>([]);\n  const [, setSelectedPlayer] = useState<BCPlayer>();\n\n  const filterPlayers = (allPlayers: Array<BCPlayer>): { filteredPlayers: Array<BCPlayer>; selectedPlayer?: BCPlayer } => {\n    // If a player filter string is specified, filter the players by it.\n    let filteredPlayers = allPlayers;\n    if (playerFilter && playerFilter.length > 0) {\n      const strFilter = playerFilter.toLowerCase();\n      filteredPlayers = filter(filteredPlayers, player => {\n        if (player.name && player.name.toLowerCase().indexOf(strFilter) > -1) {\n          return true;\n        }\n        return false;\n      });\n    }\n\n    // Filter players by selected type.\n    filteredPlayers = filter(filteredPlayers, player => {\n      let isPlaylistPlayer = false;\n\n      const playlistSetting = get(player, 'branches.master.configuration.playlist');\n      if (playlistSetting) {\n        isPlaylistPlayer = true;\n      }\n\n      if (!isPlaylistPlayer) {\n        const plugins = get(player, 'branches.master.configuration.plugins');\n        if (plugins) {\n          // eslint-disable-next-line @typescript-eslint/camelcase\n          const bcPlaylistUIPlayers = filter(plugins, { registry_id: '@brightcove/videojs-bc-playlist-ui' });\n          if (bcPlaylistUIPlayers.length > 0) {\n            isPlaylistPlayer = true;\n          }\n        }\n      }\n\n      if (playerType === 'Video' && isPlaylistPlayer) {\n        return false;\n      }\n\n      if (playerType === 'Playlist' && !isPlaylistPlayer) {\n        return false;\n      }\n\n      return true;\n    });\n\n    // Sort the players alphabetically by name with the default player on top.\n    filteredPlayers = orderBy(filteredPlayers, ['name']);\n    const defaultPlayerIndex = filteredPlayers.findIndex(p => p.id === 'default');\n    if (defaultPlayerIndex > 0) {\n      const defaultPlayer = filteredPlayers.splice(defaultPlayerIndex, 1);\n      filteredPlayers.splice(0, 0, defaultPlayer[0]);\n    }\n\n    // Select the player based on the set we have now.\n    let selectedPlayer: BCPlayer | undefined = undefined;\n    if (filteredPlayers && filteredPlayers.length > 0) {\n      selectedPlayer = find(filteredPlayers, { id: defaultPlayerId || selectedPlayerId || 'default' });\n      if (!selectedPlayer) {\n        selectedPlayer = filteredPlayers[0];\n      }\n      if (selectedPlayer && selectedPlayer.id !== selectedPlayerId && onChange) {\n        onChange(selectedPlayer);\n      }\n    }\n\n    return {\n      filteredPlayers,\n      selectedPlayer\n    };\n  };\n\n  const loadPlayers = async () => {\n    if (!accountId) {\n      return;\n    }\n\n    setIsLoadingPlayers(true);\n\n    const allPlayers = await retrieveAllPlayers(accountId);\n    const filterPlayerResult = filterPlayers(allPlayers);\n\n    setAllPlayers(allPlayers);\n    setFilteredPlayers(filterPlayerResult.filteredPlayers);\n    setSelectedPlayer(filterPlayerResult.selectedPlayer);\n\n    setIsLoadingPlayers(false);\n  };\n\n  const handlePlayerChange = (event: React.FormEvent<FormControl>) => {\n    const target = event.target as any;\n\n    const selectedPlayer = find(allPlayers, { id: target.value });\n    setSelectedPlayer(selectedPlayer);\n    if (selectedPlayer && onChange) {\n      onChange(selectedPlayer);\n    }\n  };\n\n  useEffect(() => {\n    if (isLoadingPlayers || !allPlayers) {\n      loadPlayers();\n    }\n  }, [accountId, isLoadingPlayers]);\n\n  useEffect(() => {\n    const filterPlayerResult = filterPlayers(allPlayers);\n    setFilteredPlayers(filterPlayerResult.filteredPlayers);\n  }, [playerFilter]);\n\n  if (!accountId) {\n    return (\n      <FormControl className={className} componentClass=\"select\" disabled={true} style={{ width: '100%' }}>\n        <option>Please select an account...</option>\n      </FormControl>\n    );\n  }\n\n  if (isLoadingPlayers) {\n    return (\n      <FormControl className={className} componentClass=\"select\" disabled={true} style={{ width: '100%' }}>\n        <option>Loading Players...</option>\n      </FormControl>\n    );\n  }\n\n  if ((!filteredPlayers || filteredPlayers.length <= 0) && playerFilter && playerFilter.length > 0) {\n    return (\n      <FormControl className={className} componentClass=\"select\" disabled={true} style={{ width: '100%' }}>\n        <option>All players were filtered out</option>\n      </FormControl>\n    );\n  }\n\n  if (!filteredPlayers || filteredPlayers.length <= 0) {\n    return (\n      <FormControl className={className} componentClass=\"select\" disabled={true} style={{ width: '100%' }}>\n        <option>There are no players available for this content.</option>\n      </FormControl>\n    );\n  }\n\n  let bcPlaceholder = placeholder;\n  if (!bcPlaceholder) {\n    bcPlaceholder = 'Select a player...';\n  }\n\n  let bcPlayerId = selectedPlayerId;\n  if (!bcPlayerId) {\n    bcPlayerId = 'default';\n  }\n\n  return (\n    <FormControl className={className} componentClass=\"select\" placeholder={bcPlaceholder} value={bcPlayerId} onChange={handlePlayerChange} style={{ width: '100%' }}>\n      {filteredPlayers.map((player, i) => (\n        <option key={i} value={player.id}>\n          {player.name}\n        </option>\n      ))}\n    </FormControl>\n  );\n};\n\nexport interface PlayerPickerProps {\n  retrieveAllPlayers: (accountId: string) => Promise<BCPlayer[]>;\n  accountId?: string;\n  className?: string;\n  placeholder?: string;\n  playerFilter?: string;\n  playerType: 'Video' | 'Playlist';\n  defaultPlayerId?: string;\n  selectedPlayerId?: string;\n  onChange?: (selectedPlayer: BCPlayer) => void;\n}\n","import * as React from 'react';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons'\n\nexport class Spinner extends React.Component<SpinnerProps> {\n  render() {\n\n    const loadingText = this.props.loadingText || 'Loading...';\n\n    return (\n      <div style={{ textAlign: 'center' }}>\n        <FontAwesomeIcon icon={faSpinner} spin={true} size=\"2x\" />\n        <br />\n        <span>{loadingText}</span>\n      </div>\n    );\n  }\n}\n\ninterface SpinnerProps {\n  loadingText?: string;\n}\n","import * as React from 'react';\nimport autobind from 'autobind-decorator';\n\nimport { BrightcoveExperienceUnits, BrightcoveExperienceOverrideMode } from '.';\nimport { BCExperience } from '@brightcove/video-cloud-sdk';\n\nimport URI from 'urijs';\n\nexport class BrightcoveExperience extends React.Component<BrightcoveExperienceProps> {\n  private _scriptElement: HTMLScriptElement | null | undefined;\n  private _embedElement: HTMLDivElement | null | undefined;\n\n  componentDidMount() {\n    const { embedCodeOverride } = this.props;\n    if (this._embedElement && embedCodeOverride) {\n      const range = document.createRange();\n      range.selectNodeContents(this._embedElement);\n      range.deleteContents();\n      this._embedElement.appendChild(range.createContextualFragment(embedCodeOverride));\n    }\n\n    if (this._scriptElement && this._scriptElement.parentElement) {\n      const parentElement = this._scriptElement.parentElement;\n\n      const newScriptElement = document.createElement('script');\n      newScriptElement.src = this._scriptElement.src;\n      parentElement.removeChild(this._scriptElement);\n      parentElement.appendChild(newScriptElement);\n    }\n  }\n\n  @autobind\n  renderIFrameFixed() {\n    const { accountId, experienceId, renderMode, overrideExperienceVideos, experienceOverrideMode, experienceOverrideModeIds } = this.props;\n\n    const scriptUri = new URI(`https://players.brightcove.net/${accountId}/experience_${experienceId}/index.html`);\n    scriptUri.addQuery('usage', `cms:sharepoint:${this.props.sharepointVersion}:${this.props.connectorVersion}:experienceiframe`);\n    if (overrideExperienceVideos) {\n      switch (experienceOverrideMode) {\n        case BrightcoveExperienceOverrideMode.Playlist:\n          if (experienceOverrideModeIds) {\n            scriptUri.addQuery('videoIds', '');\n            scriptUri.addQuery('playlistId', experienceOverrideModeIds.join(','));\n          }\n          break;\n        default:\n          if (experienceOverrideModeIds) {\n            scriptUri.addQuery('videoIds', experienceOverrideModeIds.join(','));\n            scriptUri.addQuery('playlistId', '');\n          }\n          break;\n      }\n    }\n\n    const scriptUrl = scriptUri.toString().replace(/%2C/g, ',');\n\n    if (renderMode === 'Embed') {\n      return (\n        <div style={{ display: 'block', position: 'relative', width: '640px', height: '640px' }}>\n          <iframe\n            title=\"Embed\"\n            style={{ width: '100%', height: '100%', top: '0px', bottom: '0px', right: '0px', left: '0px', border: 'none', marginLeft: 'auto', marginRight: 'auto', position: 'absolute' }}\n            src={scriptUrl}\n            allowFullScreen={true}\n            webkitallowfullscreen=\"\"\n            mozallowfullscreen=\"\"\n          />\n        </div>\n      );\n    }\n\n    return (\n      <iframe\n        title=\"Full\"\n        style={{ width: '100%', height: '100%', top: '0px', bottom: '0px', right: '0px', left: '0px', border: 'none', marginLeft: 'auto', marginRight: 'auto', position: 'absolute' }}\n        src={scriptUrl}\n        allowFullScreen={true}\n        webkitallowfullscreen=\"\"\n        mozallowfullscreen=\"\"\n      />\n    );\n  }\n\n  @autobind\n  renderJavaScriptFixed() {\n    const { accountId, experienceId, overrideExperienceVideos, experienceOverrideMode, experienceOverrideModeIds } = this.props;\n\n    const scriptUrl = `https://players.brightcove.net/${accountId}/experience_${experienceId}/live.js`;\n\n    const divProps: any = {\n      'data-experience': experienceId,\n      'data-usage': `cms:sharepoint:${this.props.sharepointVersion}:${this.props.connectorVersion}:experiencejavascript`\n    };\n\n    if (overrideExperienceVideos) {\n      switch (experienceOverrideMode) {\n        case BrightcoveExperienceOverrideMode.Playlist:\n          if (experienceOverrideModeIds) {\n            divProps['data-video-ids'] = '';\n            divProps['data-playlist-id'] = experienceOverrideModeIds.join(',');\n          }\n          break;\n        default:\n        case BrightcoveExperienceOverrideMode.Videos:\n          if (experienceOverrideModeIds) {\n            divProps['data-video-ids'] = experienceOverrideModeIds.join(',');\n            divProps['data-playlist-id'] = '';\n          }\n          break;\n      }\n    }\n\n    return (\n      <>\n        <div {...divProps} />\n        <script ref={el => (this._scriptElement = el)} src={scriptUrl} />\n      </>\n    );\n  }\n\n  @autobind\n  renderJavaScriptResponsive() {\n    const { accountId, experienceId, overrideExperienceVideos, experienceOverrideMode, experienceOverrideModeIds } = this.props;\n\n    const scriptUrl = `https://players.brightcove.net/${accountId}/experience_${experienceId}/live.js`;\n\n    const divProps: any = {\n      'data-experience': experienceId,\n      'data-usage': `cms:sharepoint:${this.props.sharepointVersion}:${this.props.connectorVersion}:experiencejavascript`\n    };\n\n    if (overrideExperienceVideos) {\n      switch (experienceOverrideMode) {\n        case BrightcoveExperienceOverrideMode.Playlist:\n          if (experienceOverrideModeIds) {\n            divProps['data-video-ids'] = '';\n            divProps['data-playlist-id'] = experienceOverrideModeIds.join(',');\n          }\n          break;\n        default:\n        case BrightcoveExperienceOverrideMode.Videos:\n          if (experienceOverrideModeIds) {\n            divProps['data-video-ids'] = experienceOverrideModeIds.join(',');\n            divProps['data-playlist-id'] = '';\n          }\n          break;\n      }\n    }\n\n    return (\n      <>\n        <div {...divProps} />\n        <script ref={el => (this._scriptElement = el)} src={scriptUrl} />\n      </>\n    );\n  }\n\n  render() {\n    const { embedType, sizing, embedCodeOverride } = this.props;\n\n    if (embedCodeOverride && embedCodeOverride.length > 0) {\n      const markup = { __html: embedCodeOverride };\n      return <div ref={el => (this._embedElement = el)} dangerouslySetInnerHTML={markup} />;\n    }\n\n    switch (embedType) {\n      case 'Standard':\n        return this.renderIFrameFixed();\n      case 'Advanced':\n        switch (sizing) {\n          case 'Fixed':\n            return this.renderJavaScriptFixed();\n          case 'Responsive':\n            return this.renderJavaScriptResponsive();\n          default:\n            throw new Error('Unknown or unsupported embed sizing.');\n        }\n      default:\n        throw new Error('Unknown or supported embed type.');\n    }\n  }\n}\n\nexport interface BrightcoveExperienceProps {\n  accountId: string;\n  sharepointVersion: string;\n  connectorVersion: string;\n  experience?: BCExperience;\n  experienceId: string;\n  embedType: 'Standard' | 'Advanced';\n  sizing: 'Responsive' | 'Fixed';\n  overrideWidth: boolean;\n  playerWidth?: string;\n  overrideHeight: boolean;\n  playerHeight?: string;\n  playerUnits?: BrightcoveExperienceUnits;\n  overrideExperienceVideos: boolean;\n  experienceOverrideMode: BrightcoveExperienceOverrideMode;\n  experienceOverrideModeIds?: Array<string>;\n  embedCodeOverride?: string;\n  renderMode?: 'Full' | 'Part' | 'Embed';\n}\n","import * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport autobind from 'autobind-decorator';\n\nimport { BCFolder } from '@brightcove/video-cloud-sdk';\nimport { ConnectorContext, SearchTarget, VideoSortField, SortOrder, VideoSearchParameters } from '../../services/connector';\nimport { FolderPicker } from '../common';\n\nexport class VideoSearchControls extends React.Component<VideoSearchControlsProps> {\n  @autobind\n  async handleSearchTermsChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const { searchParameters, onSearchParametersChanged } = this.props;\n    searchParameters.searchTerms = e.target.value;\n\n    onSearchParametersChanged(searchParameters, 'searchTerms');\n  }\n\n  @autobind\n  handleSearchTargetChanged(newSearchTarget: SearchTarget) {\n    const { searchParameters, onSearchParametersChanged } = this.props;\n    searchParameters.searchTarget = newSearchTarget;\n\n    onSearchParametersChanged(searchParameters);\n  }\n\n  @autobind\n  handleSelectedFolderChange(newSelectedFolder?: BCFolder) {\n    const { searchParameters, onSearchParametersChanged } = this.props;\n    if (newSelectedFolder) {\n      searchParameters.folderId = newSelectedFolder.id;\n    } else {\n      searchParameters.folderId = '';\n    }\n\n    onSearchParametersChanged(searchParameters);\n  }\n\n  @autobind\n  handleSearchLimitChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const { searchParameters, onSearchParametersChanged } = this.props;\n    if (e.target.value) {\n      searchParameters.searchLimit = parseInt(e.target.value, 10) || undefined;\n    } else {\n      searchParameters.searchLimit = undefined;\n    }\n\n    onSearchParametersChanged(searchParameters);\n  }\n\n  @autobind\n  async handleSortFieldChanged(newSortField: VideoSortField) {\n    const { searchParameters, onSearchParametersChanged } = this.props;\n    searchParameters.sortField = newSortField;\n\n    onSearchParametersChanged(searchParameters);\n  }\n\n  @autobind\n  async handleSortOrderChanged(newSortOrder: SortOrder) {\n    const { searchParameters, onSearchParametersChanged } = this.props;\n    searchParameters.sortOrder = newSortOrder;\n\n    onSearchParametersChanged(searchParameters);\n  }\n\n  render() {\n    const { accountId, connectorContext, searchParameters, onSearchForVideos, showSearchTarget, labelClass, controlClass, formControlClass } = this.props;\n    const { searchTerms, searchTarget, sortField, sortOrder } = searchParameters;\n\n    const shouldShowSearchTarget = showSearchTarget === undefined || showSearchTarget === true;\n\n    return (\n      <>\n        {shouldShowSearchTarget && (\n          <div className=\"row\">\n            <div className=\"form-group col-md-5\">\n              <label>Search</label>\n              <div>\n                <div className=\"input-group\">\n                  <input\n                    type=\"search\"\n                    placeholder=\"Search\"\n                    className={`form-control ${formControlClass}`}\n                    value={searchTerms}\n                    onKeyPress={e => e.key === 'Enter' && onSearchForVideos(accountId, searchParameters)}\n                    onChange={this.handleSearchTermsChange}\n                  />\n                  <div className=\"input-group-btn\">\n                    <Button onClick={() => onSearchForVideos(accountId, searchParameters)}>\n                      &nbsp;\n                      <i className=\"glyphicon glyphicon-search\" />\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-md-1\" />\n            <div className={`form-group col-md-6`}>\n              <label>Target</label>\n              <div>\n                <div className=\"input-group\">\n                  <label className=\"radio-inline\">\n                    <input type=\"radio\" checked={searchTarget === SearchTarget.SharePoint} onChange={() => this.handleSearchTargetChanged(SearchTarget.SharePoint)} />\n                    SharePoint only\n                  </label>\n                  <label className=\"radio-inline\">\n                    <input type=\"radio\" checked={searchTarget === SearchTarget.VideoCloud} onChange={() => this.handleSearchTargetChanged(SearchTarget.VideoCloud)} />\n                    Video Cloud only\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        {!shouldShowSearchTarget && (\n          <div className=\"form-group\">\n            <label className={labelClass}>Available Videos:</label>\n            <div className={controlClass}>\n              <div className=\"input-group\">\n                <input\n                  type=\"search\"\n                  placeholder=\"Video Filter\"\n                  className={`form-control ${formControlClass}`}\n                  value={searchTerms}\n                  onKeyPress={e => e.key === 'Enter' && onSearchForVideos(accountId, searchParameters)}\n                  onChange={this.handleSearchTermsChange}\n                />\n                <div className=\"input-group-btn\">\n                  <Button bsSize={formControlClass && formControlClass.indexOf('input-sm') > -1 ? 'small' : undefined} onClick={() => onSearchForVideos(accountId, searchParameters)}>\n                    &nbsp;\n                    <i className=\"glyphicon glyphicon-search\" />\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        <div className=\"form-group\">\n          <label className={labelClass}>Folder: </label>\n          <div className={controlClass}>\n            <FolderPicker\n              accountId={accountId}\n              className={formControlClass}\n              connectorContext={connectorContext}\n              selectedFolderId={searchParameters.folderId}\n              onChange={this.handleSelectedFolderChange}\n            />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className={labelClass}>Limit: </label>\n          <div className={controlClass}>\n            <input type=\"number\" value={searchParameters.searchLimit} onChange={this.handleSearchLimitChange} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className={labelClass}>Sort results by: </label>\n          <div className={controlClass}>\n            <div className=\"input-group\">\n              <label className=\"radio-inline\">\n                <input type=\"radio\" checked={sortField === VideoSortField.Name} onChange={() => this.handleSortFieldChanged(VideoSortField.Name)} />\n                display name\n              </label>\n              <label className=\"radio-inline\">\n                <input type=\"radio\" checked={sortField === VideoSortField.UpdatedDate} onChange={() => this.handleSortFieldChanged(VideoSortField.UpdatedDate)} />\n                updated date\n              </label>\n              <label className=\"radio-inline\">\n                <input type=\"radio\" checked={sortField === VideoSortField.CreationDate} onChange={() => this.handleSortFieldChanged(VideoSortField.CreationDate)} />\n                creation date\n              </label>\n              <br />\n              <label className=\"radio-inline\">\n                <input type=\"radio\" checked={sortField === VideoSortField.StartDate} onChange={() => this.handleSortFieldChanged(VideoSortField.StartDate)} />\n                start date\n              </label>\n              <label className=\"radio-inline\">\n                <input type=\"radio\" checked={sortField === VideoSortField.TotalPlays} onChange={() => this.handleSortFieldChanged(VideoSortField.TotalPlays)} />\n                total plays\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className={labelClass}>Order: </label>\n          <div className={controlClass}>\n            <div className=\"input-group\">\n              <label className=\"radio-inline\">\n                <input type=\"radio\" checked={sortOrder === SortOrder.Ascending} onChange={() => this.handleSortOrderChanged(SortOrder.Ascending)} />\n                ascending\n              </label>\n              <label className=\"radio-inline\">\n                <input type=\"radio\" checked={sortOrder === SortOrder.Descending} onChange={() => this.handleSortOrderChanged(SortOrder.Descending)} />\n                descending\n              </label>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport interface VideoSearchControlsProps {\n  accountId: string;\n  connectorContext: ConnectorContext;\n  showSearchTarget?: boolean;\n  labelClass?: string;\n  controlClass?: string;\n  formControlClass?: string;\n  searchParameters: Partial<VideoSearchParameters>;\n  onSearchParametersChanged: (searchParameters: Partial<VideoSearchParameters>, fieldUpdated?: string) => void;\n  onSearchForVideos: (accountId: string, searchParameters: Partial<VideoSearchParameters>) => void;\n}\n","import * as React from 'react';\nimport autobind from 'autobind-decorator';\nimport URI from 'urijs';\n\nexport class BrightcovePlayer extends React.Component<BrightcovePlayerProps> {\n  private _scriptElement: HTMLScriptElement | null | undefined;\n  private _embedElement: HTMLDivElement | null | undefined;\n\n  componentDidMount() {\n    const { embedCodeOverride } = this.props;\n    if (this._embedElement && embedCodeOverride) {\n      const range = document.createRange();\n      range.selectNodeContents(this._embedElement);\n      range.deleteContents();\n      this._embedElement.appendChild(range.createContextualFragment(embedCodeOverride));\n      return;\n    }\n\n    if (this._scriptElement && this._scriptElement.parentElement) {\n      const parentElement = this._scriptElement.parentElement;\n\n      const newScriptElement = document.createElement('script');\n      newScriptElement.src = this._scriptElement.src;\n      parentElement.removeChild(this._scriptElement);\n      parentElement.appendChild(newScriptElement);\n    }\n  }\n\n  @autobind\n  getVideoProps(): any {\n    const { accountId, mode, modeId, playerWidth, playerHeight, autoplay, muted } = this.props;\n    let { playerId, units } = this.props;\n    playerId = playerId || 'default';\n    units = units || 'px';\n\n    let videoProps: any = {};\n\n    switch (mode) {\n      case 'Playlist':\n        videoProps['data-playlist-id'] = modeId;\n        break;\n      case 'Video':\n        videoProps['data-video-id'] = modeId;\n        break;\n      default:\n        throw new Error(`Unsupported mode: ${mode}`);\n    }\n\n    videoProps = {\n      ...videoProps,\n      'data-account': accountId,\n      'data-player': playerId,\n      'data-embed': 'default',\n      'data-usage': `cms:sharepoint:${this.props.sharepointVersion}:${this.props.connectorVersion}:javascript`,\n      className: 'video-js',\n      controls: true,\n      style: {\n        width: playerWidth ? `${playerWidth}${units}` : undefined,\n        height: playerHeight ? `${playerHeight}${units}` : undefined,\n        position: 'relative',\n        top: '0px',\n        bottom: '0px',\n        right: '0px',\n        left: '0px'\n      }\n    };\n\n    if (autoplay === true) {\n      videoProps.autoPlay = autoplay;\n    }\n\n    if (muted === true) {\n      videoProps.muted = muted;\n    }\n\n    switch (mode) {\n      case 'Playlist':\n        break;\n      case 'Video':\n        videoProps.style.position = 'absolute';\n        break;\n      default:\n        throw new Error(`Unsupported mode: ${mode}`);\n    }\n\n    return videoProps;\n  }\n\n  renderIFrameFixed() {\n    const { accountId, mode, modeId, playerWidth, playerHeight, autoplay, muted, renderMode } = this.props;\n    let { playerId, units } = this.props;\n    playerId = playerId || 'default';\n    units = units || 'px';\n\n    if (!playerWidth || !playerHeight) {\n      return <>Please enter correct values for width/height</>;\n    }\n\n    const iFrameUri = new URI(`${window.location.protocol}//players.brightcove.net/${accountId}/${playerId}_default/index.html`);\n    switch (mode) {\n      case 'Video':\n        iFrameUri.addQuery('videoId', modeId);\n        break;\n      case 'Playlist':\n        iFrameUri.addQuery('playlistId', modeId);\n        break;\n      default:\n        throw new Error('Unknown Video Mode');\n    }\n\n    iFrameUri.addQuery('usage', `cms:sharepoint:${this.props.sharepointVersion}:${this.props.connectorVersion}:iframe`);\n\n    if (autoplay === true) {\n      iFrameUri.addQuery('autoplay');\n    }\n\n    if (muted === true) {\n      iFrameUri.addQuery('muted');\n    }\n\n    const iframeUrl = iFrameUri.toString();\n\n    const outerStyle: React.CSSProperties = {\n      display: 'block',\n      position: 'relative'\n    };\n\n    if (playerWidth) {\n      outerStyle.width = `${playerWidth}${units}`;\n    }\n\n    if (playerHeight) {\n      outerStyle.height = `${playerHeight}${units}`;\n    }\n\n    const iframeStyle: React.CSSProperties = {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      top: '0px',\n      bottom: '0px',\n      right: '0px',\n      left: '0px'\n    };\n\n    if (mode === 'Playlist' || (mode === 'Video' && renderMode === 'Embed')) {\n      return (\n        <div style={outerStyle}>\n          <iframe title={mode} src={iframeUrl} style={iframeStyle} allowFullScreen={true} webkitallowfullscreen=\"\" mozallowfullscreen=\"\" />\n        </div>\n      );\n    }\n\n    return <iframe title={mode} src={iframeUrl} style={iframeStyle} allowFullScreen={true} webkitallowfullscreen=\"\" mozallowfullscreen=\"\" />;\n  }\n\n  renderIFrameResponsive() {\n    const { accountId, mode, modeId, playerWidth, playerHeight, autoplay, muted } = this.props;\n    let { playerId, units } = this.props;\n    playerId = playerId || 'default';\n    units = units || 'px';\n\n    if (!playerWidth || !playerHeight) {\n      return <>Please enter correct values for width/height</>;\n    }\n\n    const iFrameUri = new URI(`${window.location.protocol}//players.brightcove.net/${accountId}/${playerId}_default/index.html`);\n    switch (mode) {\n      case 'Video':\n        iFrameUri.addQuery('videoId', modeId);\n        break;\n      case 'Playlist':\n        iFrameUri.addQuery('playlistId', modeId);\n        break;\n      default:\n        throw new Error('Unknown Video Mode');\n    }\n\n    iFrameUri.addQuery('usage', `cms:sharepoint:${this.props.sharepointVersion}:${this.props.connectorVersion}:iframe`);\n\n    if (autoplay === true) {\n      iFrameUri.addQuery('autoplay');\n    }\n\n    if (muted === true) {\n      iFrameUri.addQuery('muted');\n    }\n\n    const iframeUrl = iFrameUri.toString();\n\n    const outerStyle: React.CSSProperties = {\n      display: 'block',\n      position: 'relative'\n    };\n\n    if (playerWidth) {\n      outerStyle.width = `${playerWidth}${units}`;\n    }\n\n    if (playerHeight) {\n      outerStyle.height = `${playerHeight}${units}`;\n    }\n\n    const iframeStyle: React.CSSProperties = {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      top: '0px',\n      bottom: '0px',\n      right: '0px',\n      left: '0px'\n    };\n\n    return (\n      <div style={outerStyle}>\n        <iframe title=\"responsive\" src={iframeUrl} style={iframeStyle} allowFullScreen={true} webkitallowfullscreen=\"\" mozallowfullscreen=\"\" />\n      </div>\n    );\n  }\n\n  renderJavaScriptFixed() {\n    const { accountId, mode, playerWidth, playerHeight, playerNumThumbnails } = this.props;\n    let { playerId, units } = this.props;\n    playerId = playerId || 'default';\n    units = units || 'px';\n\n    if (!playerWidth || !playerHeight) {\n      return <>Please enter correct values for width/height</>;\n    }\n\n    const playlistItemWidth = Math.round((parseFloat(playerWidth) - (playerNumThumbnails || 1) * 4) / (playerNumThumbnails || 1));\n    const playlistItemHeight = Math.round((playlistItemWidth * parseFloat(playerHeight || '0')) / parseFloat(playerWidth || '0'));\n\n    let playerPaddingTop: number | undefined = undefined;\n    if (playerHeight && playerWidth) {\n      playerPaddingTop = (parseFloat(playerHeight) / parseFloat(playerWidth)) * 100;\n    }\n\n    const scriptUrl = `//players.brightcove.net/${accountId}/${playerId}_default/index.min.js`;\n    const videoProps = this.getVideoProps();\n\n    const styleTag = (\n      <style type=\"text/css\">\n        {' '}\n        {`\n.vjs-playlist {\n    width: ${playerWidth}${units};\n    height: calc(${playlistItemHeight}${units} + 16px);\n    text-align: center;\n    overflow-x: scroll;\n    overflow-y: hidden;\n    white-space: nowrap;\n    margin: 0;\n    padding: 0;\n}\n.vjs-playlist-title-container {\n    color: #FFFFFF;\n    /*display: none;*/\n    opacity: 1;\n    font-size: 0.7em;\n    font-family: sans-serif;\n    font-weight: bold;\n}\n.vjs-playlist-now-playing-text {\n    color: #FFFFFF;\n    /*display: none;*\n    opacity: 1;\n    font-size: 0.7em;\n    font-family: sans-serif;\n    font-weight: bold;\n}\n.vjs-up-next-text {\n    color: #FFFFFF;\n    /*display: none;*/\n    opacity: 1;\n    font-family: sans-serif;\n    font-weight: bold;\n    text-align: right;\n}\n.vjs-playlist-duration {\n    color: #FFFFFF;\n    /*display: none;*/\n    opacity: 1;\n    font-family: sans-serif;\n    font-weight: bold;\n}\n.vjs-mouse.vjs-playlist {\n    background-color: #000000;\n}\nli.vjs-playlist-item {\n    background-color: #000000;\n    height: ${playlistItemHeight}${units};\n    width: ${playlistItemWidth}${units};\n    display: inline-block;\n    border: 2px solid #000000;\n    padding: 0;\n    margin: 0;\n    cursor: pointer;\n    vertical-align: middle;\n}\nli.vjs-playlist-item:hover {\n    border-color: #FFFFFF;\n}`}\n      </style>\n    );\n\n    const outerStyle: React.CSSProperties = {\n      display: 'block',\n      position: 'relative',\n      width: `${playerWidth}${units}`\n    };\n\n    if (mode === 'Playlist') {\n      outerStyle.height = `calc(${playerHeight}${units} + ${playlistItemHeight}${units} + 16px)`;\n    } else {\n      outerStyle.height = `${playerHeight}${units}`;\n    }\n\n    return (\n      <>\n        {mode === 'Playlist' && styleTag}\n        <div style={outerStyle}>\n          {mode === 'Playlist' && (\n            <>\n              <video {...videoProps} />\n              <script ref={el => (this._scriptElement = el)} src={scriptUrl} />\n              <ol className=\"vjs-playlist vjs-csspointerevents vjs-mouse\" />\n            </>\n          )}\n          {mode === 'Video' && (\n            <div style={{ paddingTop: playerPaddingTop ? `${playerPaddingTop}%` : undefined }}>\n              <video {...videoProps} />\n              <script ref={el => (this._scriptElement = el)} src={scriptUrl} />\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }\n\n  renderJavaScriptResponsive() {\n    const { accountId, playerWidth, playerHeight, bypassPlayerPadding, mode, renderMode } = this.props;\n    let { playerId, units } = this.props;\n    playerId = playerId || 'default';\n    units = units || 'px';\n\n    let playerPaddingTop: number | undefined;\n\n    if (mode === 'Playlist' && bypassPlayerPadding === true) {\n      playerPaddingTop = 0;\n    } else {\n      if (!playerWidth || !playerHeight) {\n        return <>Please enter correct values for width/height</>;\n      }\n\n      if (playerHeight && playerWidth) {\n        playerPaddingTop = (parseFloat(playerHeight) / parseFloat(playerWidth)) * 100;\n      }\n    }\n\n    const scriptUrl = `//players.brightcove.net/${accountId}/${playerId}_default/index.min.js`;\n    const videoProps = this.getVideoProps();\n    videoProps.style.width = '100%';\n    videoProps.style.height = '100%';\n\n    let divStyle = {};\n    // Non-Embed mode only, don't include a min/max width. (for now)\n    if (renderMode !== 'Embed') {\n      divStyle = { display: 'block', position: 'relative' };\n    } else {\n      divStyle = { display: 'block', position: 'relative', minWidth: '0px', maxWidth: `${playerWidth}${units}` };\n    }\n\n    // When in Embed render mode, don't render the outer div in video mode (for now)\n    if (mode === 'Video' && renderMode === 'Embed') {\n      return (\n        <div style={{ display: 'block', position: 'relative', paddingTop: playerPaddingTop ? `${playerPaddingTop}%` : undefined }}>\n          <video {...videoProps} />\n          <script ref={el => (this._scriptElement = el)} src={scriptUrl} />\n        </div>\n      );\n    }\n\n    return (\n      <div style={divStyle}>\n        <div style={{ paddingTop: playerPaddingTop ? `${playerPaddingTop}%` : undefined }}>\n          <video {...videoProps} />\n          <script ref={el => (this._scriptElement = el)} src={scriptUrl} />\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { embedType, sizing, embedCodeOverride } = this.props;\n\n    if (embedCodeOverride && embedCodeOverride.length > 0) {\n      const markup = { __html: embedCodeOverride };\n      return <div ref={el => (this._embedElement = el)} dangerouslySetInnerHTML={markup} />;\n    }\n\n    switch (embedType) {\n      case 'Standard':\n        switch (sizing) {\n          case 'Fixed':\n            return this.renderIFrameFixed();\n          case 'Responsive':\n            return this.renderIFrameResponsive();\n          default:\n            throw new Error('Unknown or unsupported embed sizing.');\n        }\n      case 'Advanced':\n        switch (sizing) {\n          case 'Fixed':\n            return this.renderJavaScriptFixed();\n          case 'Responsive':\n            return this.renderJavaScriptResponsive();\n          default:\n            throw new Error('Unknown or unsupported embed sizing.');\n        }\n      default:\n        throw new Error('Unknown or supported embed type.');\n    }\n  }\n}\n\nexport enum BrightcovePlayerAspectRatio {\n  Widescreen = '16:9',\n  Standard = '4:3',\n  Custom = 'Custom'\n}\n\nexport interface BrightcovePlayerProps {\n  accountId: string;\n  sharepointVersion: string;\n  connectorVersion: string;\n  mode: 'Video' | 'Playlist';\n  modeId: string;\n  playerId?: string;\n  autoplay: boolean;\n  muted: boolean;\n  embedType: 'Standard' | 'Advanced';\n  sizing: 'Responsive' | 'Fixed';\n  aspectRatio: BrightcovePlayerAspectRatio;\n  playerWidth?: string;\n  playerHeight?: string;\n  playerNumThumbnails?: number;\n  units?: 'px' | 'em';\n  bypassPlayerPadding?: boolean;\n  embedCodeOverride?: string;\n  renderMode?: 'Full' | 'Part' | 'Embed';\n}\n","import * as React from 'react';\nimport { useState } from 'react';\n\nimport { BrightcovePlayerProps, BrightcovePlayerAspectRatio } from '.';\nimport { Button } from 'react-bootstrap';\nimport { PlayerPicker } from '../common';\n\nimport { BCPlayer } from '@brightcove/video-cloud-sdk';\n\nexport const BrightcovePlayerControls = (props: BrightcovePlayerControlsProps) => {\n  const {\n    playerType,\n    retrieveAllPlayers,\n    defaultPlayerId,\n    labelClass,\n    controlClass,\n    formControlClass,\n    showEmbedCustomizations,\n    showAdvancedEmbedCustomizations,\n    bcPlayerProps,\n    showUnitsCustomizations,\n    onPlayerPropsChanged\n  } = props;\n\n  let { whClass } = props;\n  const [playerFilter, setPlayerFilter] = useState('');\n\n  const calculatePlayerHeight = (aspectRatio: BrightcovePlayerAspectRatio, playerWidth?: string, playerHeight?: string): string | undefined => {\n    let newPlayerHeight = playerHeight;\n\n    if (!playerWidth) {\n      return '';\n    }\n\n    switch (aspectRatio) {\n      case BrightcovePlayerAspectRatio.Widescreen:\n        newPlayerHeight = Math.round((9 / 16) * parseFloat(playerWidth)).toString();\n        break;\n      case BrightcovePlayerAspectRatio.Standard:\n        newPlayerHeight = Math.round((3 / 4) * parseFloat(playerWidth)).toString();\n        break;\n      default:\n        // Do Nothing;\n        break;\n    }\n    return newPlayerHeight;\n  };\n\n  const handleAutoplayChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onPlayerPropsChanged({\n      ...bcPlayerProps,\n      autoplay: event.target.checked\n    });\n  };\n\n  const handleMutedChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onPlayerPropsChanged({\n      ...bcPlayerProps,\n      muted: event.target.checked\n    });\n  };\n\n  const handlePlayerFilterChange = (value: string) => {\n    setPlayerFilter(value);\n  };\n\n  const handlePlayerChange = (selectedPlayer: BCPlayer) => {\n    onPlayerPropsChanged({\n      ...bcPlayerProps,\n      playerId: selectedPlayer.id\n    });\n  };\n\n  const handleEmbedTypeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    bcPlayerProps.embedType = event.target.value as 'Standard' | 'Advanced';\n    if (bcPlayerProps.embedType === 'Standard') {\n      bcPlayerProps.sizing = 'Fixed';\n    }\n\n    if (showAdvancedEmbedCustomizations === false) {\n      bcPlayerProps.sizing = 'Responsive';\n    } else {\n      bcPlayerProps.sizing = 'Fixed';\n    }\n\n    onPlayerPropsChanged({\n      ...bcPlayerProps\n    });\n  };\n\n  const handleNumThumbnailsChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.value) {\n      bcPlayerProps.playerNumThumbnails = parseInt(event.target.value, 10);\n    } else {\n      bcPlayerProps.playerNumThumbnails = undefined;\n    }\n\n    onPlayerPropsChanged({\n      ...bcPlayerProps\n    });\n  };\n\n  const handleSizingChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    bcPlayerProps.sizing = event.target.value as 'Responsive' | 'Fixed';\n    onPlayerPropsChanged({\n      ...bcPlayerProps\n    });\n  };\n\n  const handleAspectRatioChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const { playerWidth, playerHeight } = bcPlayerProps;\n\n    bcPlayerProps.aspectRatio = event.target.value as BrightcovePlayerAspectRatio;\n    if (bcPlayerProps.aspectRatio !== BrightcovePlayerAspectRatio.Custom) {\n      bcPlayerProps.playerHeight = calculatePlayerHeight(bcPlayerProps.aspectRatio, playerWidth, playerHeight);\n    } else {\n      bcPlayerProps.playerHeight = '';\n    }\n\n    onPlayerPropsChanged({\n      ...bcPlayerProps\n    });\n  };\n\n  const handleWidthChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    bcPlayerProps.playerWidth = event.target.value || '';\n\n    if (bcPlayerProps.aspectRatio !== BrightcovePlayerAspectRatio.Custom) {\n      bcPlayerProps.playerHeight = calculatePlayerHeight(bcPlayerProps.aspectRatio || BrightcovePlayerAspectRatio.Widescreen, bcPlayerProps.playerWidth, bcPlayerProps.playerHeight);\n    } else {\n      bcPlayerProps.playerHeight = undefined;\n    }\n\n    onPlayerPropsChanged({\n      ...bcPlayerProps\n    });\n  };\n\n  const handleHeightChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    bcPlayerProps.playerHeight = event.target.value || '';\n\n    onPlayerPropsChanged({\n      ...bcPlayerProps\n    });\n  };\n\n  const handleUnitsChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    bcPlayerProps.units = event.target.value as 'px' | 'em';\n\n    onPlayerPropsChanged({\n      ...bcPlayerProps\n    });\n  };\n\n  if (!whClass) {\n    whClass = 'col-md-6';\n  }\n\n  const allowFixed = true;\n  let allowResponsive = true;\n  if (playerType === 'Video') {\n    if (bcPlayerProps.embedType === 'Standard') {\n      allowResponsive = false;\n    } else {\n      allowResponsive = true;\n    }\n  } else {\n    if (bcPlayerProps.embedType === 'Advanced') {\n      allowResponsive = false;\n    }\n  }\n\n  return (\n    <>\n      <div className=\"form-group\">\n        <label className={labelClass}>Options</label>\n        <div className={controlClass}>\n          <div className={`input-group ${formControlClass}`}>\n            <label className={`checkbox-inline ${formControlClass}`}>\n              <input type=\"checkbox\" checked={bcPlayerProps.autoplay} onChange={handleAutoplayChange} />\n              Autoplay\n            </label>\n            <label className={`checkbox-inline ${formControlClass}`}>\n              <input type=\"checkbox\" checked={bcPlayerProps.muted} onChange={handleMutedChange} />\n              Muted\n            </label>\n          </div>\n        </div>\n      </div>\n      <div className=\"form-group\">\n        <label className={labelClass}>Player Filter:</label>\n        <div className={controlClass}>\n          <div className=\"input-group\">\n            <input type=\"search\" placeholder=\"Search\" className=\"form-control input-sm\" value={playerFilter} onChange={e => handlePlayerFilterChange(e.target.value)} />\n            <div className=\"input-group-btn searchButton\">\n              <Button bsSize=\"small\">\n                &nbsp;\n                <i className=\"glyphicon glyphicon-search\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"form-group\">\n        <label className={labelClass}>Player:</label>\n        <div className={controlClass}>\n          <PlayerPicker\n            className=\"input-sm\"\n            accountId={bcPlayerProps.accountId}\n            retrieveAllPlayers={retrieveAllPlayers}\n            playerType={playerType}\n            playerFilter={playerFilter}\n            defaultPlayerId={defaultPlayerId}\n            selectedPlayerId={bcPlayerProps.playerId}\n            onChange={handlePlayerChange}\n          />\n        </div>\n      </div>\n      {showEmbedCustomizations === true && (\n        <>\n          <div className=\"form-group\">\n            <label className={labelClass}>Embed Type</label>\n            <div className={controlClass}>\n              <div className={`input-group ${formControlClass}`}>\n                <label className=\"radio-inline\">\n                  <input type=\"radio\" name=\"embedType\" value=\"Standard\" checked={bcPlayerProps.embedType === 'Standard'} onChange={handleEmbedTypeChange} /> iFrame\n                </label>\n                <label className=\"radio-inline\">\n                  <input type=\"radio\" name=\"embedType\" value=\"Advanced\" checked={bcPlayerProps.embedType === 'Advanced'} onChange={handleEmbedTypeChange} /> JavaScript\n                </label>\n              </div>\n            </div>\n          </div>\n          {showAdvancedEmbedCustomizations === true && (\n            <>\n              {playerType === 'Playlist' && (\n                <div className=\"form-group\">\n                  <label className={labelClass}>Number of Thumbnails</label>\n                  <div className={controlClass}>\n                    <input\n                      className={`form-control ${formControlClass}`}\n                      type=\"number\"\n                      placeholder=\"auto\"\n                      disabled={bcPlayerProps.embedType !== 'Advanced'}\n                      value={bcPlayerProps.playerNumThumbnails}\n                      onChange={handleNumThumbnailsChange}\n                    />\n                  </div>\n                </div>\n              )}\n              <div className=\"form-group\">\n                <label className={labelClass}>Sizing</label>\n                <div className={controlClass}>\n                  <div className={`input-group ${formControlClass}`}>\n                    <label className=\"radio-inline\">\n                      <input type=\"radio\" name=\"sizing\" value=\"Fixed\" disabled={!allowFixed} checked={bcPlayerProps.sizing === 'Fixed'} onChange={handleSizingChange} /> Fixed\n                    </label>\n                    <label className=\"radio-inline\">\n                      <input type=\"radio\" name=\"sizing\" value=\"Responsive\" disabled={!allowResponsive} checked={bcPlayerProps.sizing === 'Responsive'} onChange={handleSizingChange} /> Responsive\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className={labelClass}>Aspect Ratio</label>\n                <div className={controlClass}>\n                  <select className={`form-control ${formControlClass}`} value={bcPlayerProps.aspectRatio} onChange={handleAspectRatioChange}>\n                    <option>16:9</option>\n                    <option>4:3</option>\n                    <option>Custom</option>\n                  </select>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className={labelClass}>WxH</label>\n                <div className={controlClass}>\n                  <div className={`form-group ${formControlClass} ${whClass}`}>\n                    <label className={labelClass} style={{ paddingTop: '0' }}>\n                      Player Width\n                    </label>\n                    <div className={controlClass}>\n                      <div className=\"input-group\">\n                        <input className={`form-control ${formControlClass}`} type=\"number\" placeholder=\"auto\" value={bcPlayerProps.playerWidth} onChange={handleWidthChange} />\n                        <span className=\"input-group-addon\">{bcPlayerProps.units || 'px'}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className={`form-group ${formControlClass} ${whClass}`}>\n                    <label className={labelClass} style={{ paddingTop: '0' }}>\n                      Player Height\n                    </label>\n                    <div className={controlClass}>\n                      <div className=\"input-group\">\n                        <input\n                          className={`form-control ${formControlClass}`}\n                          type=\"number\"\n                          placeholder=\"auto\"\n                          value={bcPlayerProps.playerHeight}\n                          disabled={bcPlayerProps.aspectRatio !== BrightcovePlayerAspectRatio.Custom}\n                          onChange={handleHeightChange}\n                        />\n                        <span className=\"input-group-addon\">{bcPlayerProps.units || 'px'}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n          {showUnitsCustomizations && (\n            <div className=\"form-group\">\n              <label className={labelClass}>Units</label>\n              <div className={controlClass}>\n                <select className={`form-control ${formControlClass}`} value={bcPlayerProps.units} onChange={handleUnitsChange}>\n                  <option>px</option>\n                  <option>em</option>\n                </select>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport interface BrightcovePlayerControlsProps {\n  defaultPlayerId?: string;\n  playerType: 'Video' | 'Playlist';\n  renderMode: 'Full' | 'Part' | 'Embed';\n  retrieveAllPlayers: (accountId: string) => Promise<BCPlayer[]>;\n  labelClass?: string;\n  controlClass?: string;\n  formControlClass?: string;\n  showEmbedCustomizations: boolean;\n  showAdvancedEmbedCustomizations: boolean;\n  showUnitsCustomizations?: boolean;\n  whClass?: string;\n  bcPlayerProps: Partial<BrightcovePlayerProps>;\n  onPlayerPropsChanged: (bcPlayerProps: Partial<BrightcovePlayerProps>) => void;\n}\n","import { BrightcovePlayerProps, BrightcovePlayerAspectRatio } from '.';\nimport URI from 'urijs';\n\nexport class BrightcovePlayerUtils {\n  public static getDefaultBrightcovePlayerProps(): Partial<BrightcovePlayerProps> {\n    return {\n      connectorVersion: process.env.REACT_APP_VERSION,\n      autoplay: false,\n      muted: false,\n      embedType: 'Advanced',\n      sizing: 'Responsive',\n      playerNumThumbnails: 5,\n      aspectRatio: BrightcovePlayerAspectRatio.Widescreen,\n      playerWidth: '640',\n      playerHeight: '360',\n      units: 'px'\n    };\n  }\n\n  public static getDefaultBrightcovePlaylistProps(): Partial<BrightcovePlayerProps> {\n    return {\n      mode: 'Playlist',\n      connectorVersion: process.env.REACT_APP_VERSION,\n      autoplay: false,\n      muted: false,\n      embedType: 'Standard',\n      sizing: 'Fixed',\n      playerNumThumbnails: 5,\n      aspectRatio: BrightcovePlayerAspectRatio.Widescreen,\n      playerWidth: '640',\n      playerHeight: '360',\n      units: 'px'\n    };\n  }\n\n  public static getBrightcovePlayerPropsFromQueryString(): Partial<BrightcovePlayerProps> {\n    const uri = URI();\n    const info = uri.query(true) as { [key: string]: string };\n\n    const result = BrightcovePlayerUtils.getDefaultBrightcovePlayerProps();\n\n    result.accountId = info.accountId;\n    switch (info.part) {\n      case 'playlist':\n        result.mode = 'Playlist';\n        break;\n      case 'video':\n      default:\n        result.mode = 'Video';\n        break;\n    }\n\n    const body = document.body;\n    const html = document.documentElement;\n\n    result.playerWidth = `${Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth)}`;\n    // result.playerHeight = `${Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight)}`;\n\n    result.playerId = info.playerId || 'default';\n    result.modeId = info.modeId;\n    result.sharepointVersion = info.SPProductNumber;\n\n    if (info.autoplay === 'true') {\n      result.autoplay = true;\n    }\n\n    if (info.muted === 'true') {\n      result.muted = true;\n    }\n\n    if (info.embedType === 'Standard' || info.embedType === 'Advanced') {\n      result.embedType = info.embedType;\n    } else {\n      result.embedType = 'Advanced';\n    }\n\n    if (info.sizing === 'Fixed' || info.sizing === 'Responsive') {\n      result.sizing = info.sizing;\n    } else {\n      result.sizing = 'Responsive';\n    }\n\n    return result;\n  }\n\n  public static augmentCurrentUriWithPlayerProps(bcPlayerProps: Partial<BrightcovePlayerProps>) {\n    const uri = URI();\n\n    uri.setQuery('accountId', bcPlayerProps.accountId || '');\n    uri.setQuery('playerId', bcPlayerProps.playerId || 'default');\n    uri.setQuery('modeId', bcPlayerProps.modeId || '');\n    uri.setQuery('autoplay', bcPlayerProps.autoplay === true ? 'true' : 'false');\n    uri.setQuery('muted', bcPlayerProps.muted === true ? 'true' : 'false');\n\n    if (bcPlayerProps.embedType) {\n      uri.setQuery('embedType', bcPlayerProps.embedType);\n    }\n\n    if (bcPlayerProps.sizing) {\n      uri.setQuery('sizing', bcPlayerProps.sizing);\n    }\n\n    return uri.toString();\n  }\n}\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Modal } from 'react-bootstrap';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { VideoEmbed, EmbedLayoutMode } from '../embeds';\nimport { VideoSearchControls } from './VideoSearchControls';\nimport { AccountPicker, Spinner } from '../common';\nimport autobind from 'autobind-decorator';\n\nimport { BrightcoveAccount } from 'services';\nimport { ConnectorContext, ConnectorVideo } from '../../services/connector';\nimport { SearchTarget, VideoSearchParameters, getDefaultVideoSearchParameters } from '../../services/connector';\n\nimport { find, filter, startsWith } from 'lodash';\n\nimport './ManageVideos.css';\nimport { BrightcovePlayerProps, BrightcovePlayerUtils } from '../brightcove-player';\n\nexport class ManageVideos extends React.Component<ManageVideosProps, ManageVideosState> {\n  constructor(props: ManageVideosProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      searchParameters: getDefaultVideoSearchParameters(),\n      isLoadingVideos: false,\n      showEmbedModal: false,\n      defaultVideoPlayerId: ''\n    };\n  }\n\n  @autobind\n  async UNSAFE_componentWillMount() {\n    const { accountId, connectorContext } = this.props;\n\n    const selectedAccount = find(connectorContext.availableAccounts, account => {\n      return account.accountId === accountId;\n    });\n    if (selectedAccount) {\n      this.setState({\n        defaultVideoPlayerId: selectedAccount.defaultVideoPlayerId\n      });\n    }\n\n    this.searchForVideos(this.props.accountId, this.state.searchParameters);\n  }\n\n  @autobind\n  async UNSAFE_componentWillUpdate(nextProps: ManageVideosProps) {\n    if (nextProps.accountId !== this.props.accountId) {\n      this.searchForVideos(nextProps.accountId, this.state.searchParameters);\n    }\n  }\n\n  @autobind\n  async searchForVideos(accountId: string, searchParams: Partial<VideoSearchParameters>): Promise<void> {\n    const { connectorContext } = this.props;\n\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingVideos: true\n    });\n\n    let videos: Array<ConnectorVideo>;\n    switch (searchParams.searchTarget) {\n      case SearchTarget.VideoCloud:\n        videos = await connectorContext.searchForBrightcoveVideos(accountId, searchParams);\n        break;\n      default:\n        return;\n    }\n\n    this.setState({\n      isLoadingVideos: false,\n      videos\n    });\n  }\n\n  @autobind\n  handleAccountChange(newAccount: BrightcoveAccount) {\n    const { accountId, onAccountChange } = this.props;\n\n    if (accountId !== newAccount.accountId) {\n      if (onAccountChange) {\n        onAccountChange(newAccount.accountId);\n      }\n    }\n  }\n\n  @autobind\n  handleEmbedPlayerPropsChanged(embedPlayerProps: Partial<BrightcovePlayerProps>) {\n    this.setState({\n      embedPlayerProps\n    });\n  }\n\n  @autobind\n  handleSearchParametersChanged(searchParameters: Partial<VideoSearchParameters>, fieldChanged?: string) {\n    this.setState({\n      searchParameters\n    });\n\n    if (fieldChanged !== 'searchTerms') {\n      this.searchForVideos(this.props.accountId, searchParameters);\n    }\n  }\n\n  @autobind\n  showEmbedModal(videoId: string, videoTitle: string) {\n    const { accountId } = this.props;\n\n    const embedPlayerProps = BrightcovePlayerUtils.getDefaultBrightcovePlayerProps();\n    embedPlayerProps.mode = 'Video';\n    embedPlayerProps.accountId = accountId;\n    embedPlayerProps.playerId = this.state.defaultVideoPlayerId;\n    embedPlayerProps.modeId = videoId;\n    embedPlayerProps.sharepointVersion = this.props.connectorContext.spAddinContext.SPProductNumber;\n\n    this.setState({\n      showEmbedModal: true,\n      embedVideoTitle: videoTitle,\n      embedPlayerProps\n    });\n  }\n\n  @autobind\n  hideEmbedModal() {\n    this.setState({\n      showEmbedModal: false,\n      embedVideoTitle: undefined,\n      embedPlayerProps: undefined\n    });\n  }\n\n  @autobind\n  renderVideoCell(cell: any, video: ConnectorVideo): React.ReactElement<any> {\n    const { accountId } = this.props;\n\n    const editVideoUrl = `/${accountId}/manage-videos/${video.videoId}/edit`;\n    const tagsToDisplay = filter(video.tags, tag => !startsWith(tag, 'bcsp-'));\n\n    return (\n      <div className=\"result\">\n        <img className=\"resultImage col-md-2\" src={video.thumbnailUrl} alt=\"\" />\n        <div className=\"col-md-7\">\n          <div>\n            <Link to={editVideoUrl}>{video.name}</Link>\n          </div>\n          {video.shortDescription && <div className=\"short-description\">{video.shortDescription}</div>}\n          {!video.complete && (\n            <div className=\"form-group\">\n              <div className=\"alert alert-warning small\" style={{ padding: '5px' }} role=\"alert\">\n                This video is still processing on the Video Cloud. Renditions may not be available. This might also be a Live event with no thumbnail image.\n              </div>\n            </div>\n          )}\n          <div>\n            {tagsToDisplay.map((tag, i) => (\n              <Button key={i} bsSize=\"xs\" bsStyle=\"success\">\n                {tag}\n              </Button>\n            ))}\n          </div>\n        </div>\n        <div className=\"col-md-3 text-center\">\n          <div>\n            <Link to={editVideoUrl}>Edit Video</Link>\n          </div>\n          <div className=\"video-id\">Video Id: {video.videoId}</div>\n          <div>\n            <Button bsStyle=\"success\" bsSize=\"small\" style={{ width: '90px' }} onClick={() => this.showEmbedModal(video.videoId, video.name)}>\n              Embed\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { accountId, connectorContext } = this.props;\n\n    const { isLoadingVideos, searchParameters, videos, defaultVideoPlayerId, showEmbedModal, embedVideoTitle, embedPlayerProps } = this.state;\n\n    const labelClass = 'col-md-3 control-label';\n    const controlClass = 'col-md-9';\n\n    return (\n      <>\n        <ol className=\"breadcrumb\">\n          <li>\n            <Link to=\"/\">Brightcove Management</Link>\n          </li>\n          <li className=\"active\">Manage Videos</li>\n        </ol>\n        <div className=\"search form-horizontal\">\n          <div className=\"form-group\">\n            <label className={labelClass}>Select Account:</label>\n            <div className={controlClass}>\n              <AccountPicker availableAccounts={connectorContext.availableAccounts} selectedAccountId={accountId} onChange={this.handleAccountChange} />\n            </div>\n          </div>\n        </div>\n        <div className=\"search form-horizontal\">\n          <VideoSearchControls\n            accountId={accountId}\n            connectorContext={connectorContext}\n            showSearchTarget={false}\n            labelClass={labelClass}\n            controlClass={controlClass}\n            searchParameters={searchParameters}\n            onSearchParametersChanged={this.handleSearchParametersChanged}\n            onSearchForVideos={this.searchForVideos}\n          />\n          {isLoadingVideos && <Spinner loadingText=\"Loading Videos...\" />}\n          {!isLoadingVideos && videos && (\n            <BootstrapTable data={videos} striped={true} bordered={false} pagination={videos.length > 10} options={{ paginationPosition: 'bottom' }}>\n              <TableHeaderColumn dataField=\"videoId\" isKey={true} dataFormat={this.renderVideoCell}>\n                Results\n              </TableHeaderColumn>\n            </BootstrapTable>\n          )}\n          <Modal className=\"embed\" show={showEmbedModal} onHide={this.hideEmbedModal} bsSize=\"large\">\n            <Modal.Header closeButton={true}>\n              <Modal.Title>Embed Video</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              {embedPlayerProps && (\n                <VideoEmbed\n                  layoutMode={EmbedLayoutMode.Full}\n                  bcPlayerProps={embedPlayerProps}\n                  videoTitle={embedVideoTitle || ''}\n                  defaultVideoPlayerId={defaultVideoPlayerId}\n                  doesEmbedHelperExist={connectorContext.doesEmbedHelperExist}\n                  spAddinContext={connectorContext.spAddinContext}\n                  spApiGateway={connectorContext.spApiGateway}\n                  showUploadWebPartButton={false}\n                  retrieveAllPlayers={connectorContext.retrieveAllPlayers}\n                  onPlayerPropsChanged={this.handleEmbedPlayerPropsChanged}\n                />\n              )}\n            </Modal.Body>\n            <Modal.Footer />\n          </Modal>\n        </div>\n      </>\n    );\n  }\n}\n\ninterface ManageVideosProps {\n  accountId: string;\n  connectorContext: ConnectorContext;\n  onAccountChange?: (accountId: string) => void;\n}\n\ninterface ManageVideosState {\n  searchParameters: Partial<VideoSearchParameters>;\n\n  isLoadingVideos: boolean;\n  videos?: Array<ConnectorVideo>;\n  defaultVideoPlayerId: string;\n\n  showEmbedModal: boolean;\n  embedVideoTitle?: string;\n  embedPlayerProps?: Partial<BrightcovePlayerProps>;\n}\n","import * as React from 'react';\nimport * as ReactDOMServer from 'react-dom/server';\n\nimport { Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCameraRetro } from '@fortawesome/free-solid-svg-icons';\n\nimport { BrightcoveApiGateway } from '@brightcove/video-cloud-sdk';\n\nimport autobind from 'autobind-decorator';\nimport './BrightcovePreview.css';\n\nexport class BrightcovePreview extends React.Component<BrightcovePreviewProps, BrightcovePreviewState> {\n  private previewData: string | undefined;\n  private previewIFrame: HTMLIFrameElement | null | undefined;\n\n  constructor(props: BrightcovePreviewProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      showCaptureOverlay: false,\n      capturePosterChecked: true,\n      captureThumbnailChecked: true\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    this.previewData = this.renderPreview();\n  }\n\n  @autobind\n  cancelCapture() {\n    this.setState({\n      showCaptureOverlay: false,\n      capturePosterChecked: true,\n      captureThumbnailChecked: true,\n      snapshotDataUrl: undefined,\n      snapshotBlob: undefined,\n      savingCaptureStatus: undefined\n    });\n  }\n\n  @autobind\n  async completeCapture() {\n    const { accountId, videoId, onCaptureComplete, bcApiGateway } = this.props;\n\n    const { capturePosterChecked, captureThumbnailChecked, snapshotDataUrl, snapshotBlob } = this.state;\n\n    let posterUrl, thumbnailUrl;\n\n    if (!bcApiGateway) {\n      return;\n    }\n\n    const { dynamicIngestApi } = bcApiGateway;\n\n    if (capturePosterChecked) {\n      this.setState({\n        savingCaptureStatus: 'Uploading new Poster Image...'\n      });\n      const uploadUrls = await dynamicIngestApi.getUploadUrls(accountId, videoId, 'CapturePoster.png');\n      posterUrl = uploadUrls.api_request_url;\n      await fetch(uploadUrls.signed_url, {\n        method: 'PUT',\n        credentials: 'omit',\n        headers: {\n          'Content-Type': ''\n        },\n        body: snapshotBlob\n      });\n    }\n\n    if (captureThumbnailChecked) {\n      this.setState({\n        savingCaptureStatus: 'Uploading new Thumbnail...'\n      });\n      const uploadUrls = await dynamicIngestApi.getUploadUrls(accountId, videoId, 'CaptureThumbnail.png');\n      thumbnailUrl = uploadUrls.api_request_url;\n      await fetch(uploadUrls.signed_url, {\n        method: 'PUT',\n        credentials: 'omit',\n        headers: {\n          'Content-Type': ''\n        },\n        body: snapshotBlob\n      });\n    }\n\n    if (capturePosterChecked || captureThumbnailChecked) {\n      this.setState({\n        savingCaptureStatus: 'Performing image ingest request...'\n      });\n      await dynamicIngestApi.addCustomImages(accountId, videoId, posterUrl, thumbnailUrl);\n\n      if (onCaptureComplete && snapshotDataUrl) {\n        const result: BrightcovePreviewCaptureResult = {\n          snapshotDataUrl: snapshotDataUrl\n        };\n\n        if (capturePosterChecked) {\n          result.posterUrl = posterUrl;\n        }\n\n        if (captureThumbnailChecked) {\n          result.thumbnailUrl = thumbnailUrl;\n        }\n\n        onCaptureComplete(result);\n      }\n    }\n\n    this.setState({\n      showCaptureOverlay: false,\n      capturePosterChecked: true,\n      captureThumbnailChecked: true,\n      snapshotDataUrl: undefined,\n      snapshotBlob: undefined,\n      savingCaptureStatus: undefined\n    });\n  }\n\n  @autobind\n  handleCapturePosterChanged(event: React.ChangeEvent<HTMLInputElement>) {\n    const target = event.target;\n\n    this.setState({\n      capturePosterChecked: target.checked\n    });\n  }\n\n  @autobind\n  handleCaptureThumbnailChanged(event: React.ChangeEvent<HTMLInputElement>) {\n    const target = event.target;\n\n    this.setState({\n      captureThumbnailChecked: target.checked\n    });\n  }\n\n  @autobind\n  async captureSnapshot() {\n    if (!this.previewIFrame || !this.previewIFrame.contentDocument) {\n      return;\n    }\n\n    const playerPreviewElement = this.previewIFrame.contentDocument.getElementById('bcPlayerPreview');\n    if (!playerPreviewElement) {\n      return;\n    }\n\n    const videoElement = playerPreviewElement.querySelector('video') as HTMLVideoElement;\n\n    const newCanvasElement = document.createElement('canvas');\n\n    newCanvasElement.width = videoElement.videoWidth || videoElement.clientWidth;\n    newCanvasElement.height = videoElement.videoHeight || videoElement.clientHeight;\n\n    const ctx = newCanvasElement.getContext('2d');\n    if (ctx) {\n      ctx.drawImage(videoElement, 0, 0, newCanvasElement.width, newCanvasElement.height);\n      this.setState({\n        snapshotDataUrl: newCanvasElement.toDataURL()\n      });\n\n      newCanvasElement.toBlob(blob => {\n        if (!blob) {\n          return;\n        }\n\n        this.setState({\n          showCaptureOverlay: true,\n          snapshotBlob: blob\n        });\n      });\n    }\n  }\n\n  @autobind\n  renderPreview() {\n    const { accountId, videoId, playerId, style } = this.props;\n\n    return ReactDOMServer.renderToStaticMarkup(\n      <div id=\"bcPreview\" data-vjs-player={true} style={{ width: '100%', height: (style && style.height) || 'initial' }}>\n        <video\n          id=\"bcPlayerPreview\"\n          // ref={el => (this.videoElement = el)}\n          className=\"video-js\"\n          data-video-id={videoId}\n          data-account={accountId}\n          data-player={playerId || 'default'}\n          data-embed=\"default\"\n          controls={true}\n        />\n        <script src={`//players.brightcove.net/${accountId}/${playerId || 'default'}_default/index.min.js`} />\n        <style\n          dangerouslySetInnerHTML={{\n            __html: `\n            body { margin: 0; overflow: hidden; }\n          `\n          }}\n        />\n      </div>\n    );\n  }\n\n  @autobind\n  renderCaptureOverlay() {\n    if (!this.previewIFrame) {\n      return;\n    }\n\n    const { capturePosterChecked, captureThumbnailChecked, snapshotDataUrl, savingCaptureStatus } = this.state;\n\n    return (\n      <div\n        id=\"capture-overlay\"\n        className=\"\"\n        style={{ top: this.previewIFrame.offsetTop, left: this.previewIFrame.clientLeft, width: this.previewIFrame.offsetWidth, height: this.previewIFrame.offsetHeight }}\n      >\n        <>\n          {!savingCaptureStatus && (\n            <>\n              <section className=\"headers\">\n                <h2>To capture a poster and/or thumbnail, select the appropriate checkbox.</h2>\n                <h2>Images are not to scale.</h2>\n              </section>\n\n              <section className=\"previews row\">\n                <div className=\"col-md-2\" />\n                <div className=\"capture-preview col-md-4\" id=\"poster-preview\">\n                  <img src={snapshotDataUrl} alt=\"\" />\n                  <div className=\"checkbox\">\n                    <input type=\"checkbox\" checked={capturePosterChecked} onChange={this.handleCapturePosterChanged} />\n                    Poster\n                  </div>\n                </div>\n                <div className=\"capture-preview col-md-4\" id=\"thumbnail-preview\">\n                  <img src={snapshotDataUrl} alt=\"\" />\n                  <div className=\"checkbox\">\n                    <input type=\"checkbox\" checked={captureThumbnailChecked} onChange={this.handleCaptureThumbnailChanged} />\n                    Thumbnail\n                  </div>\n                </div>\n                <div className=\"col-md-2\" />\n              </section>\n\n              <section className=\"buttons\">\n                <Button bsStyle=\"default\" style={{ marginRight: '5px', width: '75px' }} onClick={this.cancelCapture}>\n                  Cancel\n                </Button>\n                <Button bsStyle=\"primary\" style={{ marginRight: '5px', width: '75px' }} onClick={this.completeCapture}>\n                  Save\n                </Button>\n              </section>\n            </>\n          )}\n          {savingCaptureStatus && <section className=\"headers\">{savingCaptureStatus}</section>}\n        </>\n      </div>\n    );\n  }\n\n  render() {\n    const { showToolbar, style } = this.props;\n\n    const { showCaptureOverlay } = this.state;\n\n    return (\n      <div>\n        {showToolbar === undefined ||\n          (showToolbar === true && (\n            <div className=\"clearfix\" style={{ background: 'black', padding: '5px' }}>\n              <Button className=\"pull-right\" bsStyle=\"success\" onClick={this.captureSnapshot} disabled={showCaptureOverlay}>\n                <FontAwesomeIcon icon={faCameraRetro} />\n                &nbsp;Capture\n              </Button>\n            </div>\n          ))}\n        <iframe ref={el => (this.previewIFrame = el)} title=\"preview\" style={{ ...style, display: 'block', border: 'none' }} sandbox=\"allow-same-origin allow-scripts\" srcDoc={this.previewData} />\n        {showCaptureOverlay === true && this.renderCaptureOverlay()}\n      </div>\n    );\n  }\n}\n\nexport interface BrightcovePreviewProps {\n  accountId: string;\n  videoId: string;\n  playerId?: string;\n  showToolbar?: boolean;\n  onCaptureComplete?: (captureResult: BrightcovePreviewCaptureResult) => void;\n  style?: React.CSSProperties;\n  bcApiGateway?: BrightcoveApiGateway;\n}\n\nexport interface BrightcovePreviewState {\n  showCaptureOverlay: boolean;\n  capturePosterChecked: boolean;\n  captureThumbnailChecked: boolean;\n  snapshotDataUrl?: string;\n  snapshotBlob?: Blob;\n  savingCaptureStatus?: string;\n}\n\nexport interface BrightcovePreviewCaptureResult {\n  snapshotDataUrl: string;\n  posterUrl?: string;\n  thumbnailUrl?: string;\n}\n","import { BCVideoTextTrack } from '@brightcove/video-cloud-sdk';\n\nexport enum TextTrackAddMode {\n  None = 'None',\n  FileUpload = 'FileUpload',\n  UrlUpload = 'UrlUpload',\n  RemoteUrl = 'RemoteUrl'\n}\n\nexport interface ActiveTextTrack extends Partial<BCVideoTextTrack> {\n  file?: ArrayBuffer;\n}\n\nexport const textTrackLanguages = [\n  'ar',\n  'ar-AE',\n  'ar-BH',\n  'ar-DZ',\n  'ar-EG',\n  'ar-IQ',\n  'ar-JO',\n  'ar-KW',\n  'ar-LB',\n  'ar-LY',\n  'ar-MA',\n  'ar-OM',\n  'ar-QA',\n  'ar-SA',\n  'ar-SD',\n  'ar-SY',\n  'ar-TN',\n  'ar-YE',\n  'be',\n  'be-BY',\n  'bg',\n  'bg-BG',\n  'ca',\n  'ca-ES',\n  'cs',\n  'cs-CZ',\n  'da',\n  'da-DK',\n  'de',\n  'de-AT',\n  'de-CH',\n  'de-DE',\n  'de-LU',\n  'el',\n  'el-CY',\n  'el-GR',\n  'en',\n  'en-AU',\n  'en-CA',\n  'en-GB',\n  'en-IE',\n  'en-IN',\n  'en-MT',\n  'en-NZ',\n  'en-PH',\n  'en-SG',\n  'en-US',\n  'en-ZA',\n  'es',\n  'es-AR',\n  'es-BO',\n  'es-CL',\n  'es-CO',\n  'es-CR',\n  'es-DO',\n  'es-EC',\n  'es-ES',\n  'es-GT',\n  'es-HN',\n  'es-MX',\n  'es-NI',\n  'es-PA',\n  'es-PE',\n  'es-PR',\n  'es-PY',\n  'es-SV',\n  'es-US',\n  'es-UY',\n  'es-VE',\n  'et',\n  'et-EE',\n  'fi',\n  'fi-FI',\n  'fr',\n  'fr-BE',\n  'fr-CA',\n  'fr-CH',\n  'fr-FR',\n  'fr-LU',\n  'ga',\n  'ga-IE',\n  'he',\n  'he-IL',\n  'hi-IN',\n  'hr',\n  'hr-HR',\n  'hu',\n  'hu-HU',\n  'id',\n  'id-ID',\n  'is',\n  'is-IS',\n  'it',\n  'it-CH',\n  'it-IT',\n  'ja',\n  'ja-JP',\n  'ja-JP-u-ca-japanese-x-lvariant-JP',\n  'ko',\n  'ko-KR',\n  'lt',\n  'lt-LT',\n  'lv',\n  'lv-LV',\n  'mk',\n  'mk-MK',\n  'ms',\n  'ms-MY',\n  'mt',\n  'mt-MT',\n  'nl',\n  'nl-BE',\n  'nl-NL',\n  'nn-NO',\n  'no',\n  'no-NO',\n  'pl',\n  'pl-PL',\n  'pt',\n  'pt-BR',\n  'pt-PT',\n  'ro',\n  'ro-RO',\n  'ru',\n  'ru-RU',\n  'sk',\n  'sk-SK',\n  'sl',\n  'sl-SI',\n  'sq',\n  'sq-AL',\n  'sr',\n  'sr-BA',\n  'sr-CS',\n  'sr-Latn',\n  'sr-Latn-BA',\n  'sr-Latn-ME',\n  'sr-Latn-RS',\n  'sr-ME',\n  'sr-RS',\n  'sv',\n  'sv-SE',\n  'th',\n  'th-TH',\n  'th-TH-u-nu-thai-x-lvariant-TH',\n  'tr',\n  'tr-TR',\n  'uk',\n  'uk-UA',\n  'vi',\n  'vi-VN',\n  'zh',\n  'zh-CN',\n  'zh-HK',\n  'zh-SG',\n  'zh-TW'\n];\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Prompt } from 'react-router';\nimport { Button, Modal } from 'react-bootstrap';\nimport Dropzone, { ImageFile } from 'react-dropzone';\nimport { AccountPicker, DatePicker, Spinner } from '../common';\nimport { EditVideoTextTracks, ActiveTextTrack } from './';\nimport { BrightcovePreview } from '../brightcove-preview';\n\nimport { BCVideo, BCCustomField, BCVideoTextTrack } from '@brightcove/video-cloud-sdk';\nimport { ConnectorContext, mapBCVideoToMVideo, mapMVideoToBCVideo, ConnectorVideo } from '../../services/connector';\n\nimport autobind from 'autobind-decorator';\nimport * as moment from 'moment';\nimport { filter, set, cloneDeep, isEqual, pick, startsWith } from 'lodash';\n\nimport './EditVideo.css';\n\nexport class EditVideo extends React.Component<EditVideoProps, EditVideoState> {\n  constructor(props: EditVideoProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isLoadingVideo: true,\n      isSavingVideo: false,\n      savingVideoStatus: '',\n      showBrightcoveProcessingModal: false\n    };\n  }\n\n  @autobind\n  async componentDidMount() {\n    await this.getVideo();\n  }\n\n  @autobind\n  async getVideo() {\n    const { accountId, videoId } = this.props;\n\n    if (!videoId) {\n      window.location.hash = `#/${accountId}/manage-videos`;\n      return;\n    }\n\n    this.setState({\n      isLoadingVideo: true\n    });\n\n    const videoInfo: { bcVideo: BCVideo; video: ConnectorVideo; customFields: Array<BCCustomField> } = await this.getBrightcoveVideo(videoId);\n\n    this.setState({\n      isLoadingVideo: false,\n      video: cloneDeep(videoInfo.video),\n      originalVideo: videoInfo.video,\n      bcVideo: videoInfo.bcVideo,\n      customFields: videoInfo.customFields\n    });\n  }\n\n  @autobind\n  async getBrightcoveVideo(videoId: string): Promise<{ bcVideo: BCVideo; video: ConnectorVideo; customFields: Array<BCCustomField> }> {\n    const { accountId, connectorContext } = this.props;\n    const { bcApiGateway } = connectorContext;\n    const videosApi = bcApiGateway.videosApi;\n    const bcVideo = await videosApi.getVideoById(accountId, videoId);\n\n    const video = mapBCVideoToMVideo(bcVideo);\n\n    // Get custom field definitions too\n    const customFields = await videosApi.getCustomFields(accountId);\n\n    return {\n      bcVideo,\n      video,\n      customFields: customFields.custom_fields\n    };\n  }\n\n  @autobind\n  addVideoTextTrack(textTrack: ActiveTextTrack) {\n    const { video } = this.state;\n\n    if (!video) {\n      return;\n    }\n\n    if (!video.textTracks) {\n      video.textTracks = [];\n    }\n\n    video.textTracks.push(textTrack);\n    this.setState({\n      video\n    });\n  }\n\n  @autobind\n  removeVideoTextTrack(textTrack: ActiveTextTrack) {\n    const { video } = this.state;\n\n    if (!video) {\n      return;\n    }\n\n    if (video.textTracks) {\n      const ix = video.textTracks.indexOf(textTrack);\n      if (ix < 0) {\n        return;\n      }\n\n      video.textTracks.splice(ix, 1);\n      this.setState({\n        video\n      });\n    }\n  }\n\n  @autobind\n  setVideoTextTrackAsDefault(textTrack: Partial<BCVideoTextTrack>, checked: boolean) {\n    const { video } = this.state;\n\n    if (!video || !video.textTracks) {\n      return;\n    }\n\n    video.textTracks.forEach(tt => {\n      if (tt === textTrack && checked) {\n        tt.default = true;\n      } else {\n        tt.default = false;\n      }\n    });\n\n    this.setState({\n      video\n    });\n  }\n\n  @autobind\n  handleCaptureCompleted() {\n    this.setState({\n      showBrightcoveProcessingModal: true\n    });\n  }\n\n  @autobind\n  async updateVideo() {\n    const { accountId, videoId, connectorContext } = this.props;\n    const { bcApiGateway } = connectorContext;\n    const { video, bcVideo, newPosterImage, newThumbnailImage } = this.state;\n\n    if (!video || !bcVideo || !accountId || !videoId) {\n      return;\n    }\n\n    this.setState({\n      isSavingVideo: true\n    });\n\n    const target = mapMVideoToBCVideo(video, filter(bcVideo.tags, t => startsWith(t, 'bcsp-')));\n    if (target.text_tracks && !isEqual(target.text_tracks, bcVideo.text_tracks)) {\n      const textTracks = [];\n      for (const tt of target.text_tracks) {\n        textTracks.push(pick(tt, ['id', 'account_id', 'srclang', 'label', 'kind', 'mime_type', 'asset_id', 'in_band_metadata_track_dispatch_type', 'default']) as BCVideoTextTrack);\n      }\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      target.text_tracks = textTracks;\n    }\n\n    const dynamicIngestApi = bcApiGateway.dynamicIngestApi;\n    const videosApi = bcApiGateway.videosApi;\n\n    this.setState({\n      savingVideoStatus: 'Updating Brightcove Video...'\n    });\n\n    const bcUpdatedVideo = await videosApi.updateVideo(accountId, videoId, target);\n\n    const updatedVideo = mapBCVideoToMVideo(bcUpdatedVideo);\n\n    // Perform the secondary step to add new text tracks via the injest api.\n    // See: https://support.brightcove.com/using-cms-api-add-webvtt-captions#replaceTracks\n    const newTextTracks = filter(video.textTracks, tt => !tt.id);\n    // For each new text track that has a 'file' property, upload to ingest location.\n    const newFileTextTracks = filter(newTextTracks as Array<ActiveTextTrack>, tt => {\n      if (tt.file) {\n        return true;\n      }\n      return false;\n    });\n\n    if (newFileTextTracks.length > 0) {\n      this.setState({\n        savingVideoStatus: 'Uploading new text tracks...'\n      });\n\n      for (const newFileTextTrack of newFileTextTracks) {\n        if (newFileTextTrack.file) {\n          const uploadUrls = await dynamicIngestApi.getUploadUrls(accountId, videoId);\n          await fetch(uploadUrls.signed_url, {\n            method: 'PUT',\n            credentials: 'omit',\n            headers: {\n              'Content-Type': ''\n            },\n            body: newFileTextTrack.file\n          });\n\n          newFileTextTrack.src = uploadUrls.api_request_url;\n        }\n      }\n    }\n\n    if (newTextTracks.length > 0) {\n      this.setState({\n        savingVideoStatus: 'Performing text track ingest request...'\n      });\n      await bcApiGateway.dynamicIngestApi.addTextTracks(accountId, videoId, newTextTracks);\n    }\n\n    // Perform the necessary steps to add new poster/thumbnail images.\n    const newImageUrls: any = {\n      posterUrl: undefined,\n      thumbnailUrl: undefined\n    };\n\n    if (newPosterImage) {\n      this.setState({\n        savingVideoStatus: 'Uploading new Poster Image...'\n      });\n      const uploadUrls = await dynamicIngestApi.getUploadUrls(accountId, videoId, newPosterImage.name);\n      newImageUrls.posterUrl = uploadUrls.api_request_url;\n      await fetch(uploadUrls.signed_url, {\n        method: 'PUT',\n        credentials: 'omit',\n        headers: {\n          'Content-Type': ''\n        },\n        body: newPosterImage\n      });\n    }\n\n    if (newThumbnailImage) {\n      this.setState({\n        savingVideoStatus: 'Uploading new Thumbnail...'\n      });\n      const uploadUrls = await dynamicIngestApi.getUploadUrls(accountId, videoId, newThumbnailImage.name);\n      newImageUrls.thumbnailUrl = uploadUrls.api_request_url;\n      await fetch(uploadUrls.signed_url, {\n        method: 'PUT',\n        credentials: 'omit',\n        headers: {\n          'Content-Type': ''\n        },\n        body: newThumbnailImage\n      });\n    }\n\n    if (newPosterImage || newThumbnailImage) {\n      this.setState({\n        savingVideoStatus: 'Performing image ingest request...'\n      });\n      await bcApiGateway.dynamicIngestApi.addCustomImages(accountId, videoId, newImageUrls.posterUrl, newImageUrls.thumbnailUrl);\n    }\n\n    if (newPosterImage || newThumbnailImage || (newTextTracks && newTextTracks.length > 0)) {\n      this.setState({\n        showBrightcoveProcessingModal: true\n      });\n    }\n\n    this.setState({\n      isSavingVideo: false,\n      video: cloneDeep(updatedVideo),\n      originalVideo: updatedVideo,\n      bcVideo: bcUpdatedVideo,\n      newPosterImage: undefined,\n      newThumbnailImage: undefined,\n      savingVideoStatus: ''\n    });\n  }\n\n  @autobind\n  handleSelectChange(event: React.ChangeEvent<HTMLSelectElement>) {\n    const video = this.state.video;\n\n    if (!video) {\n      return;\n    }\n\n    const target = event.target;\n    const { value, name } = target;\n\n    set(video, name, value);\n\n    this.setState({\n      video\n    });\n  }\n\n  @autobind\n  handleDateChange(name: string, value: string | React.ChangeEvent<any> | moment.Moment) {\n    const video = this.state.video;\n\n    if (!video) {\n      return;\n    }\n\n    const momentValue = value as moment.Moment;\n    if (momentValue) {\n      set(video, name, momentValue.toDate());\n    } else {\n      set(video, name, null);\n    }\n\n    this.setState({\n      video\n    });\n  }\n\n  @autobind\n  handleTextAreaChange(event: React.ChangeEvent<HTMLTextAreaElement>) {\n    const video = this.state.video;\n\n    if (!video) {\n      return;\n    }\n\n    const target = event.target;\n    const { value, name } = target;\n\n    set(video, name, value);\n\n    this.setState({\n      video\n    });\n  }\n\n  @autobind\n  handleInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const video = this.state.video;\n\n    if (!video) {\n      return;\n    }\n\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    switch (name) {\n      case 'tags':\n        video.tags = value\n          .toString()\n          .split(',')\n          .map(s => s.trim());\n        break;\n      default:\n        set(video, name, value);\n        break;\n    }\n\n    this.setState({\n      video\n    });\n  }\n\n  @autobind\n  handleDropPosterImage(acceptedFiles: ImageFile[]) {\n    if (acceptedFiles.length === 1) {\n      this.setState({\n        newPosterImage: acceptedFiles[0]\n      });\n    }\n  }\n\n  @autobind\n  handleDropThumbnail(acceptedFiles: ImageFile[]) {\n    if (acceptedFiles.length === 1) {\n      this.setState({\n        newThumbnailImage: acceptedFiles[0]\n      });\n    }\n  }\n\n  @autobind\n  hideBrightcoveProcessingModal() {\n    this.setState({\n      showBrightcoveProcessingModal: false\n    });\n  }\n\n  render() {\n    const { accountId, videoId, connectorContext } = this.props;\n    const { isLoadingVideo, isSavingVideo, savingVideoStatus, video, originalVideo, customFields, newPosterImage, newThumbnailImage, showBrightcoveProcessingModal } = this.state;\n\n    if (isSavingVideo) {\n      return (\n        <>\n          <Spinner loadingText={savingVideoStatus ? savingVideoStatus : 'Saving Video...'} />\n        </>\n      );\n    }\n\n    if (isLoadingVideo || !video || !originalVideo) {\n      return <Spinner loadingText=\"Loading Video...\" />;\n    }\n\n    const labelClass = 'col-md-3 control-label';\n    const controlClass = 'col-md-9';\n    let posterDropzoneRef: Dropzone | null;\n    let thumbnailDropzoneRef: Dropzone | null;\n\n    const isSaveDisabled = !!videoId && isEqual(video, originalVideo) && !newPosterImage && !newThumbnailImage;\n\n    // Do a little validation.\n    const validationErrors = [];\n    if (!video.name) {\n      validationErrors.push('The name of the video is required.');\n    }\n\n    if (customFields) {\n      for (const customField of customFields) {\n        if (customField.required === true && (!video.customFields[customField.id] || video.customFields[customField.id].length === 0)) {\n          validationErrors.push(`The '${customField.display_name}' custom field is marked as required and a value must be provided.`);\n        }\n      }\n    }\n\n    return (\n      <>\n        <ol className=\"breadcrumb\">\n          <li>\n            <Link to=\"/\">Brightcove Management</Link>\n          </li>\n          <li>\n            <Link to={`/${accountId}/manage-videos`}>Manage Videos</Link>\n          </li>\n          <li>\n            <Link to={`/${accountId}/manage-videos`}>Account {accountId}</Link>\n          </li>\n          <li className=\"active\">Video {videoId}</li>\n        </ol>\n        <div className=\"form-horizontal\">\n          {!video.complete && (\n            <div className=\"form-group\">\n              <div className=\"alert alert-warning\" role=\"alert\">\n                This video is still processing on the Video Cloud. Renditions may not be available. This might also be a Live event with no thumbnail image.\n              </div>\n            </div>\n          )}\n          <div className=\"form-group\">\n            <label className={labelClass}>Select Account</label>{' '}\n            <div className={controlClass}>\n              <AccountPicker availableAccounts={connectorContext.availableAccounts} selectedAccountId={accountId} disabled={true} />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}>Reference ID</label>\n            <div className={controlClass}>\n              <input className=\"form-control\" disabled={true} value={video.referenceId} />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={`${labelClass} required`}>Name</label>\n            <div className={controlClass}>\n              <input className=\"form-control validate\" type=\"text\" placeholder=\"The name of the video\" name=\"name\" value={video.name} onChange={this.handleInputChange} />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}>Short Description</label>\n            <div className={controlClass}>\n              <input className=\"form-control\" type=\"text\" placeholder=\"Short description here...\" name=\"shortDescription\" value={video.shortDescription} onChange={this.handleInputChange} />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}>Long Description</label>\n            <div className={controlClass}>\n              <textarea className=\"form-control\" placeholder=\"Long description here...\" name=\"longDescription\" value={video.longDescription} onChange={this.handleTextAreaChange} />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}>Is Active</label>\n            <div className={controlClass}>\n              <select className=\"form-control\" name=\"state\" value={video.state} onChange={this.handleSelectChange}>\n                <option value=\"ACTIVE\">Active</option>\n                <option value=\"INACTIVE\">Inactive</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}>Related Link URL</label>\n            <div className={controlClass}>\n              <input className=\"form-control\" type=\"text\" name=\"relatedLinkUrl\" value={video.relatedLinkUrl} onChange={this.handleInputChange} />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}>Related Link Text</label>\n            <div className={controlClass}>\n              <input className=\"form-control\" type=\"text\" name=\"relatedLinkText\" value={video.relatedLinkText} onChange={this.handleInputChange} />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}>Start Availability Date</label>\n            <div className={controlClass}>\n              <DatePicker value={video.startAvailabilityDate} name=\"startAvailabilityDate\" onChange={e => this.handleDateChange('startAvailabilityDate', e)} />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}>End Availability Date</label>\n            <div className={controlClass}>\n              <DatePicker value={video.endAvailabilityDate} name=\"endAvailabilityDate\" onChange={e => this.handleDateChange('endAvailabilityDate', e)} />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}>Economics</label>\n            <div className={controlClass}>\n              <select className=\"form-control\" name=\"economics\" value={video.economics} onChange={this.handleSelectChange}>\n                <option value=\"FREE\">Free</option>\n                <option value=\"AD_SUPPORTED\">Ad Supported</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}> Brightcove Tags (comma-separated)</label>\n            <div className={controlClass}>\n              <input className=\"form-control\" value={video.tags.join(', ')} name=\"tags\" onChange={this.handleInputChange} />\n            </div>\n          </div>\n        </div>\n\n        <br />\n        {customFields && (\n          <>\n            <h4>\n              <strong>Custom Fields</strong>\n            </h4>\n            <hr />\n            <div className=\"form-horizontal\">\n              {customFields.map(customField => (\n                <div className=\"form-group\" key={customField.id}>\n                  <label className={`${labelClass}${customField.required ? ' required' : ''}`}>{customField.display_name}</label>\n                  <div className={controlClass}>\n                    {customField.type === 'string' && (\n                      <input\n                        className=\"form-control\"\n                        required={customField.required}\n                        value={video.customFields[customField.id] || ''}\n                        name={`customFields.${customField.id}`}\n                        onChange={this.handleInputChange}\n                      />\n                    )}\n                    {customField.type === 'enum' && (\n                      <select\n                        className=\"form-control\"\n                        required={customField.required}\n                        value={video.customFields[customField.id] || ''}\n                        name={`customFields.${customField.id}`}\n                        onChange={this.handleSelectChange}\n                      >\n                        <option value=\"\" />\n                        {customField.enum_values.map((possibleValue, i) => (\n                          <option key={i}>{possibleValue}</option>\n                        ))}\n                      </select>\n                    )}\n                    <small className=\"form-text text-muted\">{customField.description}</small>\n                  </div>\n                </div>\n              ))}\n            </div>\n            <br />\n          </>\n        )}\n\n        <EditVideoTextTracks video={video} onAddTextTrack={this.addVideoTextTrack} onRemoveTextTrack={this.removeVideoTextTrack} onDefaultTextTrackChanged={this.setVideoTextTrackAsDefault} />\n\n        <h4>\n          <strong>Image Details</strong>\n        </h4>\n        <hr />\n        <div className=\"form-group\">\n          <BrightcovePreview\n            accountId={accountId}\n            videoId={video.videoId}\n            style={{ width: '100%', height: '400px' }}\n            showToolbar={true}\n            bcApiGateway={connectorContext.bcApiGateway}\n            onCaptureComplete={this.handleCaptureCompleted}\n          />\n        </div>\n        <div className=\"form-horizontal\">\n          <div className=\"form-group\">\n            <label className={labelClass}>Poster</label>\n            <div className={controlClass}>\n              <img className=\"col-md-12\" src={video.videoStillUrl} alt=\"\" />\n              {video.videoStillUrl && (\n                <Dropzone\n                  ref={(node: Dropzone) => {\n                    posterDropzoneRef = node;\n                  }}\n                  onDrop={this.handleDropPosterImage}\n                  disableClick={true}\n                  multiple={false}\n                  accept=\"image/jpeg, image/png\"\n                >\n                  {() => (\n                    <div style={{ textAlign: 'right' }}>\n                      <Button\n                        bsStyle={newPosterImage ? 'success' : 'primary'}\n                        bsSize=\"small\"\n                        onClick={() => {\n                          posterDropzoneRef && posterDropzoneRef.open();\n                        }}\n                        style={{ marginTop: '10px' }}\n                      >\n                        {newPosterImage ? newPosterImage.name : 'Upload a new poster image'}\n                      </Button>\n                    </div>\n                  )}\n                </Dropzone>\n              )}\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label className={labelClass}>Thumbnail</label>\n            <div className={controlClass}>\n              <img style={{ paddingLeft: '15px', paddingRight: '15px' }} src={video.thumbnailUrl} alt=\"\" />\n              {video.thumbnailUrl && (\n                <Dropzone\n                  ref={(node: Dropzone) => {\n                    thumbnailDropzoneRef = node;\n                  }}\n                  onDrop={this.handleDropThumbnail}\n                  disableClick={true}\n                  multiple={false}\n                  accept=\"image/jpeg, image/png\"\n                >\n                  {() => (\n                    <div style={{ textAlign: 'right' }}>\n                      <Button\n                        bsStyle={newThumbnailImage ? 'success' : 'primary'}\n                        bsSize=\"small\"\n                        onClick={() => {\n                          thumbnailDropzoneRef && thumbnailDropzoneRef.open();\n                        }}\n                        style={{ marginTop: '10px' }}\n                      >\n                        {newThumbnailImage ? newThumbnailImage.name : 'Upload a new thumbnail'}\n                      </Button>\n                    </div>\n                  )}\n                </Dropzone>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <hr />\n        <div className=\"clearfix\" style={{ paddingBottom: '5px' }}>\n          <div className=\"pull-right\">\n            <Button className=\"btn-space\" bsStyle={!isSaveDisabled ? 'primary' : 'default'} disabled={isSaveDisabled || validationErrors.length > 0} onClick={this.updateVideo}>\n              Update on Video Cloud\n            </Button>\n            <Link className=\"btn btn-default btn-space\" to={`/${accountId}/manage-videos`}>\n              Cancel\n            </Link>\n          </div>\n        </div>\n        {validationErrors.length > 0 &&\n          validationErrors.map((validationError, ix) => (\n            <div key={ix} className=\"form-group\">\n              <div className=\"alert alert-danger\" role=\"alert\">\n                {validationError}\n              </div>\n            </div>\n          ))}\n        <Prompt when={!isSaveDisabled} message=\"There are unsaved changes. Are you sure you wish to leave?\" />\n        <Modal className=\"embed\" show={showBrightcoveProcessingModal === true} onHide={this.hideBrightcoveProcessingModal}>\n          <Modal.Header closeButton={true}>\n            <Modal.Title>Uploaded content is processing...</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <p>The update that you just performed included text tracks and/or custom poster or thumbnail images.</p>\n            <p>\n              These files have been submitted to Brightcove for ingest and may take a while to process. The changes to these items may not be reflected immediately, however, will update once\n              processing of these items has completed.\n            </p>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={this.hideBrightcoveProcessingModal} bsStyle=\"primary\">\n              Ok\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n}\n\ninterface EditVideoProps {\n  accountId: string;\n  videoId?: string;\n  connectorContext: ConnectorContext;\n}\n\ninterface EditVideoState {\n  isLoadingVideo: boolean;\n  isSavingVideo: boolean;\n  savingVideoStatus?: string;\n\n  video?: ConnectorVideo;\n  originalVideo?: ConnectorVideo;\n  bcVideo?: BCVideo;\n  customFields?: Array<BCCustomField>;\n  newPosterImage?: ImageFile;\n  newThumbnailImage?: ImageFile;\n  showBrightcoveProcessingModal: boolean;\n}\n","import * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { Spinner } from '../common';\nimport autobind from 'autobind-decorator';\n\nimport { BCVideoTextTrackKind, BCVideoTextTrack } from '@brightcove/video-cloud-sdk';\nimport { ConnectorVideo } from '../../services/connector';\n\nimport { cloneDeep, isArrayBuffer } from 'lodash';\n\nimport { ActiveTextTrack, TextTrackAddMode, textTrackLanguages } from './TextTrackTypes';\n\nconst defaultTextTrack: ActiveTextTrack = {\n  src: '',\n  srclang: 'en-US',\n  label: '',\n  kind: BCVideoTextTrackKind.Captions,\n  // eslint-disable-next-line @typescript-eslint/camelcase\n  mime_type: 'text/vtt'\n};\n\nconst urlRegex = /((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[-;:&=+$,\\w]+@)?[A-Za-z0-9.-]+|(?:www\\.|[-;:&=+$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[+~%/.\\w\\-_]*)?\\??(?:[-+=&;%@.\\w_]*)#?(?:[.!/\\\\\\w]*))?)/;\n\nexport class EditVideoTextTracks extends React.Component<EditTextTrackProps, EditTextTrackState> {\n  constructor(props: EditTextTrackProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      activeTextTrack: cloneDeep(defaultTextTrack),\n      textTrackAddMode: TextTrackAddMode.FileUpload,\n      isFetchingUrlUpload: false,\n      uploadUrlResultText: ''\n    };\n  }\n\n  @autobind\n  async fetchUrlUpload() {\n    const { uploadUrl, activeTextTrack } = this.state;\n\n    if (!uploadUrl) {\n      return;\n    }\n\n    this.setState({\n      isFetchingUrlUpload: true\n    });\n\n    let resultText = 'File Retrieved';\n\n    try {\n      const data = await fetch(uploadUrl, {\n        method: 'GET',\n        mode: 'no-cors',\n        cache: 'no-cache',\n        credentials: 'same-origin'\n      });\n\n      activeTextTrack.file = await data.arrayBuffer();\n    } catch (ex) {\n      resultText = `An Error occurred: ${ex}`;\n    }\n\n    this.setState({\n      isFetchingUrlUpload: false,\n      uploadUrlResultText: resultText\n    });\n  }\n\n  @autobind\n  validateAddTextTrack(): boolean {\n    const { textTrackAddMode, activeTextTrack } = this.state;\n\n    switch (textTrackAddMode) {\n      case TextTrackAddMode.None:\n        // Do nothing.\n        break;\n      case TextTrackAddMode.FileUpload:\n      case TextTrackAddMode.UrlUpload:\n        if (!activeTextTrack.file) {\n          return false;\n        }\n        break;\n      case TextTrackAddMode.RemoteUrl:\n        if (!activeTextTrack.src) {\n          return false;\n        }\n\n        if (!activeTextTrack.src.match(urlRegex)) {\n          return false;\n        }\n\n        break;\n      default:\n        return false;\n    }\n\n    return true;\n  }\n\n  @autobind\n  validateUrlUpload(): boolean {\n    const { uploadUrl } = this.state;\n    if (uploadUrl && uploadUrl.match(urlRegex)) {\n      return true;\n    }\n    return false;\n  }\n\n  @autobind\n  handleTextTrackAddModeChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { activeTextTrack } = this.state;\n    const newAddMode = event.target.value as TextTrackAddMode;\n    activeTextTrack.src = '';\n    activeTextTrack.file = undefined;\n\n    this.setState({\n      textTrackAddMode: newAddMode,\n      activeTextTrack,\n      isFetchingUrlUpload: false,\n      uploadUrl: '',\n      uploadUrlResultText: ''\n    });\n  }\n\n  @autobind\n  handleFileUpload(event: React.ChangeEvent<HTMLInputElement>) {\n    if (event.target.files) {\n      const reader = new FileReader();\n      const { activeTextTrack } = this.state;\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const that = this;\n      reader.onload = function() {\n        const arrayBuffer = this.result;\n        if (!isArrayBuffer(arrayBuffer)) {\n          return;\n        }\n        activeTextTrack.file = arrayBuffer;\n        that.setState({\n          activeTextTrack\n        });\n      };\n\n      reader.readAsArrayBuffer(event.target.files[0]);\n      event.target.value = '';\n    }\n  }\n\n  @autobind\n  handleUploadUrlChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const uploadUrl = event.target.value;\n\n    this.setState({\n      uploadUrl\n    });\n  }\n\n  @autobind\n  handleSrcChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { activeTextTrack } = this.state;\n\n    activeTextTrack.src = event.target.value;\n\n    this.setState({\n      activeTextTrack\n    });\n  }\n\n  @autobind\n  handleSrcLangChange(event: React.ChangeEvent<HTMLSelectElement>) {\n    const { activeTextTrack } = this.state;\n\n    activeTextTrack.srclang = event.target.value;\n\n    this.setState({\n      activeTextTrack\n    });\n  }\n\n  @autobind\n  handleLabelChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { activeTextTrack } = this.state;\n\n    activeTextTrack.label = event.target.value;\n\n    this.setState({\n      activeTextTrack\n    });\n  }\n\n  @autobind\n  handleKindChange(event: React.ChangeEvent<HTMLSelectElement>) {\n    const { activeTextTrack } = this.state;\n\n    activeTextTrack.kind = event.target.value;\n\n    this.setState({\n      activeTextTrack\n    });\n  }\n\n  @autobind\n  handleAddTextTrack() {\n    const { onAddTextTrack } = this.props;\n    const { activeTextTrack } = this.state;\n\n    if (onAddTextTrack) {\n      onAddTextTrack(activeTextTrack);\n    }\n\n    this.setState({\n      activeTextTrack: cloneDeep(defaultTextTrack),\n      isFetchingUrlUpload: false,\n      uploadUrl: '',\n      uploadUrlResultText: ''\n    });\n  }\n\n  @autobind\n  handleRemoveTextTrack(textTrack: Partial<BCVideoTextTrack>) {\n    const { onRemoveTextTrack } = this.props;\n    if (onRemoveTextTrack) {\n      onRemoveTextTrack(textTrack);\n    }\n  }\n\n  @autobind\n  handleDefaultTextTrackChange(textTrack: Partial<BCVideoTextTrack>, event: React.ChangeEvent<HTMLInputElement>) {\n    const { onDefaultTextTrackChanged } = this.props;\n    if (onDefaultTextTrackChanged) {\n      onDefaultTextTrackChanged(textTrack, event.target.checked);\n    }\n  }\n\n  render() {\n    const { video } = this.props;\n    const { textTrackAddMode, activeTextTrack, isFetchingUrlUpload, uploadUrlResultText } = this.state;\n\n    const canAddTextTrack = this.validateAddTextTrack();\n    const canUrlUpload = this.validateUrlUpload();\n\n    return (\n      <>\n        <h4>\n          <strong>Text Track Fields</strong>\n        </h4>\n        <hr />\n        <div className=\"form-horizontal\">\n          <div className=\"form-group col-md-12\">\n            <input\n              className=\"radio-inline\"\n              type=\"radio\"\n              name=\"texttrackfiletype\"\n              value={TextTrackAddMode.None}\n              checked={textTrackAddMode === TextTrackAddMode.None}\n              onChange={this.handleTextTrackAddModeChange}\n            />{' '}\n            None\n            <input\n              className=\"radio-inline\"\n              type=\"radio\"\n              name=\"texttrackfiletype\"\n              value={TextTrackAddMode.FileUpload}\n              checked={textTrackAddMode === TextTrackAddMode.FileUpload}\n              onChange={this.handleTextTrackAddModeChange}\n            />{' '}\n            File Upload\n            <input\n              className=\"radio-inline\"\n              type=\"radio\"\n              name=\"texttrackfiletype\"\n              value={TextTrackAddMode.UrlUpload}\n              checked={textTrackAddMode === TextTrackAddMode.UrlUpload}\n              onChange={this.handleTextTrackAddModeChange}\n            />{' '}\n            Url Upload\n            <input\n              className=\"radio-inline\"\n              type=\"radio\"\n              name=\"texttrackfiletype\"\n              value={TextTrackAddMode.RemoteUrl}\n              checked={textTrackAddMode === TextTrackAddMode.RemoteUrl}\n              onChange={this.handleTextTrackAddModeChange}\n            />{' '}\n            Remote Url\n          </div>\n          {textTrackAddMode === TextTrackAddMode.None && <div />}\n          {textTrackAddMode === TextTrackAddMode.FileUpload && (\n            <div className=\"form-group col-md-12\">\n              <input type=\"file\" accept=\".vtt\" onChange={this.handleFileUpload} />\n              {activeTextTrack && activeTextTrack.file && <div style={{ fontSize: 'smaller' }}>File Uploaded</div>}\n            </div>\n          )}\n          {textTrackAddMode === TextTrackAddMode.UrlUpload && (\n            <div className=\"form-group col-md-12 row\">\n              {isFetchingUrlUpload && <Spinner loadingText=\"Retrieving Remote Text Track\" />}\n              {!isFetchingUrlUpload && (\n                <div className=\"col-md-10\">\n                  <input className=\"form-control\" placeholder=\"Add URL\" onChange={this.handleUploadUrlChange} />\n                  {activeTextTrack && activeTextTrack.file && <div style={{ fontSize: 'smaller' }}>{uploadUrlResultText}</div>}\n                </div>\n              )}\n              <div className=\"col-md-2\">\n                <Button bsStyle={canUrlUpload ? 'primary' : 'default'} disabled={!canUrlUpload} onClick={this.fetchUrlUpload}>\n                  Upload\n                </Button>\n              </div>\n            </div>\n          )}\n          {textTrackAddMode === TextTrackAddMode.RemoteUrl && (\n            <div className=\"form-group col-md-12\">\n              <input className=\"form-control\" type=\"url\" placeholder=\"Add URL\" value={activeTextTrack.src} onChange={this.handleSrcChange} />\n            </div>\n          )}\n\n          <table className=\"table table-striped\">\n            <thead>\n              <tr>\n                <td>\n                  <label className=\"required\">Language</label>\n                </td>\n                <td>\n                  <label>Label</label>\n                </td>\n                <td>\n                  <label className=\"\">Kind</label>\n                </td>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>\n                  <select className=\"form-control\" value={activeTextTrack.srclang} onChange={this.handleSrcLangChange}>\n                    {textTrackLanguages.map((language, i) => (\n                      <option key={i}>{language}</option>\n                    ))}\n                  </select>\n                </td>\n                <td>\n                  <input className=\"form-control\" type=\"text\" value={activeTextTrack.label} onChange={this.handleLabelChange} />\n                </td>\n                <td>\n                  <select className=\"form-control\" value={activeTextTrack.kind} onChange={this.handleKindChange}>\n                    <option>captions</option>\n                    <option>subtitles</option>\n                    <option>descriptions</option>\n                    <option>chapters</option>\n                    <option>metadata</option>\n                  </select>\n                </td>\n              </tr>\n            </tbody>\n            <tfoot>\n              <tr>\n                <td>\n                  <Button bsStyle={canAddTextTrack ? 'primary' : 'default'} onClick={this.handleAddTextTrack} disabled={!canAddTextTrack}>\n                    Add\n                  </Button>\n                </td>\n              </tr>\n            </tfoot>\n          </table>\n\n          {video.textTracks && (\n            <table className=\"table table-striped\">\n              <thead>\n                <tr>\n                  <td>Label</td>\n                  <td>Language</td>\n                  <td>Kind</td>\n                  <td>Default</td>\n                  <td style={{ width: '100px' }} />\n                </tr>\n              </thead>\n              <tbody>\n                {video.textTracks.map((textTrack, ix) => (\n                  <tr key={ix}>\n                    <td>{textTrack.label}</td>\n                    <td>{textTrack.srclang}</td>\n                    <td>{textTrack.kind}</td>\n                    <td className=\"text-center\" style={{ width: '50px' }}>\n                      <div className=\"checkbox\">\n                        <label>\n                          <input type=\"checkbox\" checked={textTrack.default === true} onChange={e => this.handleDefaultTextTrackChange(textTrack, e)} />\n                        </label>\n                      </div>\n                    </td>\n                    <td>\n                      <Button bsStyle=\"link\" onClick={() => this.handleRemoveTextTrack(textTrack)}>\n                        Remove\n                      </Button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\ninterface EditTextTrackProps {\n  video: ConnectorVideo;\n  onAddTextTrack?: (textTrack: ActiveTextTrack) => void;\n  onRemoveTextTrack?: (textTrack: Partial<BCVideoTextTrack>) => void;\n  onDefaultTextTrackChanged?: (textTrack: Partial<BCVideoTextTrack>, isChecked: boolean) => void;\n}\n\ninterface EditTextTrackState {\n  textTrackAddMode: TextTrackAddMode;\n  activeTextTrack: ActiveTextTrack;\n\n  uploadUrl?: string;\n  isFetchingUrlUpload: boolean;\n  uploadUrlResultText: string;\n}\n","import * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Modal } from 'react-bootstrap';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { AccountPicker } from '../common';\nimport { PlaylistEmbed, EmbedLayoutMode } from '../embeds';\nimport { Spinner } from '../common';\nimport { PlaylistSearchControls } from '.';\n\nimport { BrightcoveAccount } from 'services';\nimport { BrightcoveApiGateway, BCPlaylist, BCPlaylistType } from '@brightcove/video-cloud-sdk';\nimport { SharePointApiGateway } from '../../services/sharepoint';\nimport { ConnectorContext, PlaylistSearchParameters, getDefaultPlaylistSearchParameters } from '../../services/connector';\nimport { BrightcovePlayerUtils, BrightcovePlayerProps } from '../brightcove-player';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusCircle } from '@fortawesome/free-solid-svg-icons';\n\nimport { find } from 'lodash';\n\nimport './ManagePlaylists.css';\n\nexport const ManagePlaylists = (props: ManagePlaylistProps) => {\n  const [isAddingPlaylist] = useState(false);\n  const [isLoadingPlaylists, setIsLoadingPlaylists] = useState(true);\n  const [isEmbedModalShowing, setIsEmbedModalShowing] = useState(false);\n  const [searchParameters, setSearchParameters] = useState<Partial<PlaylistSearchParameters>>(getDefaultPlaylistSearchParameters());\n  const [defaultPlaylistPlayerId, setDefaultPlaylistPlayerId] = useState('');\n  const [playlists, setPlaylists] = useState<BCPlaylist[]>([]);\n  const [embedPlaylistTitle, setEmbedPlaylistTitle] = useState<string>();\n  const [embedPlayerProps, setEmbedPlayerProps] = useState<Partial<BrightcovePlayerProps>>(BrightcovePlayerUtils.getDefaultBrightcovePlaylistProps());\n\n  const { accountId, connectorContext, onAccountChange } = props;\n  const { bcApiGateway } = connectorContext;\n\n  const searchForPlaylists = async (accountId: string, searchParams: Partial<PlaylistSearchParameters>): Promise<void> => {\n    if (!accountId) {\n      return;\n    }\n\n    setIsLoadingPlaylists(true);\n\n    const playlistsApi = bcApiGateway.playlistsApi;\n\n    const bcParams = connectorContext.getBCPlaylistSearchParams(searchParams);\n    const playlists = await playlistsApi.getPlaylists(accountId, bcParams);\n\n    setPlaylists(playlists);\n    setIsLoadingPlaylists(false);\n  };\n\n  const handleAccountChange = (newAccount: BrightcoveAccount) => {\n    if (accountId !== newAccount.accountId && onAccountChange) {\n      onAccountChange(newAccount.accountId);\n    }\n  };\n\n  const handleSearchParametersChanged = async (searchParameters: Partial<PlaylistSearchParameters>) => {\n    setSearchParameters(searchParameters);\n\n    await searchForPlaylists(accountId, searchParameters);\n  };\n\n  const handleEmbedPlayerPropsChanged = (embedPlayerProps: Partial<BrightcovePlayerProps>) => {\n    setEmbedPlayerProps(embedPlayerProps);\n  };\n\n  const handleShowEmbedModal = (playlistId: string, playlistTitle: string) => {\n    //const embedPlayerProps = BrightcovePlayerUtils.getDefaultBrightcovePlaylistProps();\n    embedPlayerProps.accountId = accountId;\n    embedPlayerProps.playerId = defaultPlaylistPlayerId;\n    embedPlayerProps.modeId = playlistId;\n    embedPlayerProps.sharepointVersion = connectorContext.spAddinContext.SPProductNumber;\n\n    setEmbedPlaylistTitle(playlistTitle);\n    setEmbedPlayerProps(embedPlayerProps);\n    setIsEmbedModalShowing(true);\n  };\n\n  const hideEmbedModal = () => {\n    setEmbedPlaylistTitle(undefined);\n    setEmbedPlayerProps(BrightcovePlayerUtils.getDefaultBrightcovePlaylistProps());\n    setIsEmbedModalShowing(false);\n  };\n\n  const renderPlaylistNameCell = (cell: any, playlist: BCPlaylist): React.ReactElement<any> => {\n    const editPlaylistUrl = `/${accountId}/manage-playlists/${playlist.id}/edit`;\n    return (\n      <>\n        <Link to={editPlaylistUrl}>{playlist.name}</Link>\n        <br />\n        {playlist.video_ids && playlist.video_ids.length > 0 && (\n          <>\n            <div style={{ fontSize: 'small' }}>Video IDs in list: </div>\n            <div style={{ fontSize: 'xx-small' }}>\n              {playlist.video_ids.map((videoId, ix) => (\n                <span key={ix} style={{ paddingLeft: '5px', float: 'left' }}>\n                  {videoId}\n                </span>\n              ))}\n            </div>\n          </>\n        )}\n        {(!playlist.video_ids || playlist.video_ids.length === 0) && playlist.type === BCPlaylistType.Manual && <i>This playlist does not contain any videos.</i>}\n        {(!playlist.video_ids || playlist.video_ids.length === 0) && playlist.type !== BCPlaylistType.Manual && <i>This playlist is a Smart Playlist</i>}\n      </>\n    );\n  };\n\n  const renderEditLink = (cell: any, playlist: BCPlaylist): React.ReactElement<any> => {\n    const editPlaylistUrl = `/${accountId}/manage-playlists/${playlist.id}/edit`;\n\n    return (\n      <div className=\"result text-center\">\n        <div>\n          <Link className=\"btn btn-link\" style={{ width: '70px' }} to={editPlaylistUrl}>\n            Edit\n          </Link>\n        </div>\n        <div>\n          <Button bsStyle=\"success\" style={{ width: '70px' }} bsSize=\"small\" onClick={() => handleShowEmbedModal(playlist.id, playlist.name)}>\n            Embed\n          </Button>\n        </div>\n      </div>\n    );\n  };\n\n  useEffect(() => {\n    const selectedAccount = find(connectorContext.availableAccounts, account => {\n      return account.accountId === accountId;\n    });\n\n    if (selectedAccount) {\n      setDefaultPlaylistPlayerId(selectedAccount.defaultPlaylistPlayerId);\n    }\n\n    searchForPlaylists(accountId, searchParameters);\n  }, [accountId, searchParameters]);\n\n  const labelClass = 'col-md-3 control-label';\n  const controlClass = 'col-md-9';\n\n  if (isAddingPlaylist) {\n    return <Spinner loadingText=\"Creating New Playlist...\" />;\n  }\n\n  return (\n    <>\n      <ol className=\"breadcrumb\">\n        <li>\n          <Link to=\"/\">Brightcove Management</Link>\n        </li>\n        <li className=\"active\">Manage Playlists</li>\n      </ol>\n      <div className=\"search form-horizontal\">\n        <div className=\"form-group\">\n          <label className={labelClass}>Select Account:</label>{' '}\n          <div className={controlClass}>\n            <AccountPicker availableAccounts={connectorContext.availableAccounts} selectedAccountId={accountId} onChange={handleAccountChange} />\n          </div>\n        </div>\n      </div>\n      <div className=\"search form-horizontal\">\n        {accountId && (\n          <>\n            <PlaylistSearchControls\n              accountId={accountId}\n              labelClass={labelClass}\n              controlClass={controlClass}\n              searchParameters={searchParameters}\n              onSearchParametersChanged={handleSearchParametersChanged}\n              onSearchForPlaylists={searchForPlaylists}\n            />\n            {isLoadingPlaylists && <Spinner loadingText=\"Loading Playlists...\" />}\n            {!isLoadingPlaylists && playlists && (\n              <>\n                <BootstrapTable data={playlists} striped={true} bordered={false}>\n                  <TableHeaderColumn dataField=\"name\" dataFormat={renderPlaylistNameCell} dataSort={true}>\n                    Name\n                  </TableHeaderColumn>\n                  <TableHeaderColumn dataField=\"description\" dataSort={true}>\n                    Short Description\n                  </TableHeaderColumn>\n                  <TableHeaderColumn\n                    dataField=\"type\"\n                    dataSort={true}\n                    dataFormat={cell => {\n                      return cell === BCPlaylistType.Manual ? 'Manual Playlist' : 'Smart Playlist';\n                    }}\n                  >\n                    Type\n                  </TableHeaderColumn>\n                  <TableHeaderColumn dataField=\"id\" dataSort={true} isKey={true}>\n                    ID\n                  </TableHeaderColumn>\n                  <TableHeaderColumn width=\"90\" dataFormat={renderEditLink}>\n                    Edit Link\n                  </TableHeaderColumn>\n                </BootstrapTable>\n                <hr />\n                <Link className=\"btn btn-default btn-lg\" to={`/${accountId}/manage-playlists/new`}>\n                  <FontAwesomeIcon icon={faPlusCircle} />\n                  &nbsp;Add New Playlist\n                </Link>\n                <hr />\n              </>\n            )}\n            <Modal className=\"embed\" show={isEmbedModalShowing} onHide={hideEmbedModal} bsSize=\"large\">\n              <Modal.Header closeButton={true}>\n                <Modal.Title>Embed Playlist</Modal.Title>\n              </Modal.Header>\n              <Modal.Body>\n                {embedPlayerProps && (\n                  <PlaylistEmbed\n                    layoutMode={EmbedLayoutMode.Full}\n                    bcPlayerProps={embedPlayerProps}\n                    playlistTitle={embedPlaylistTitle || ''}\n                    defaultPlaylistPlayerId={defaultPlaylistPlayerId}\n                    doesEmbedHelperExist={connectorContext.doesEmbedHelperExist}\n                    spAddinContext={connectorContext.spAddinContext}\n                    spApiGateway={connectorContext.spApiGateway}\n                    showUploadWebPartButton={false}\n                    retrieveAllPlayers={connectorContext.retrieveAllPlayers}\n                    onPlayerPropsChanged={handleEmbedPlayerPropsChanged}\n                  />\n                )}\n              </Modal.Body>\n              <Modal.Footer />\n            </Modal>\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\ninterface ManagePlaylistProps {\n  accountId: string;\n  connectorContext: ConnectorContext;\n  bcApiGateway: BrightcoveApiGateway;\n  spApiGateway: SharePointApiGateway;\n  onAccountChange?: (accountId: string) => void;\n}\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Modal } from 'react-bootstrap';\nimport { Prompt } from 'react-router';\nimport autobind from 'autobind-decorator';\nimport { Spinner } from '../common';\n\nimport { BrightcoveApiGateway, BCVideo, BCPlaylist, BCPlaylistType } from '@brightcove/video-cloud-sdk';\nimport { SharePointApiGateway } from '../../services/sharepoint';\n\nimport { get, isEqual, cloneDeep, find, pull, pullAt, pullAllWith, differenceWith, map, findIndex } from 'lodash';\n\nimport './EditPlaylist.css';\n\nconst DefaultPlaylist: BCPlaylist = {\n  name: 'New Playlist',\n  description: '',\n  favorite: false,\n  id: '',\n  // eslint-disable-next-line @typescript-eslint/camelcase\n  reference_id: '',\n  type: BCPlaylistType.Manual,\n  // eslint-disable-next-line @typescript-eslint/camelcase\n  video_ids: [],\n  search: '',\n  // eslint-disable-next-line @typescript-eslint/camelcase\n  account_id: ''\n};\n\nexport class EditPlaylist extends React.Component<EditPlaylistProps, EditPlaylistState> {\n  constructor(props: EditPlaylistProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isLoadingPlaylist: true,\n      isSavingPlaylist: false,\n      playlistType: 'Manual',\n\n      isLoadingAvailableVideos: false,\n      availableVideosSearchTerms: '',\n      availableVideos: [],\n      selectedAvailableVideos: [],\n\n      isLoadingPlaylistVideos: false,\n      playlistVideos: [],\n      selectedPlaylistVideos: [],\n\n      playlist: cloneDeep(DefaultPlaylist),\n      originalPlaylist: cloneDeep(DefaultPlaylist),\n\n      showDeleteModal: false\n    };\n  }\n\n  async componentDidMount() {\n    const { bcApiGateway, accountId, playlistId } = this.props;\n\n    if (playlistId) {\n      // Get the existing playlist.\n      const playlistsApi = bcApiGateway.playlistsApi;\n      const playlist = await playlistsApi.getPlaylistById(accountId, playlistId);\n\n      this.setState({\n        isLoadingPlaylist: false,\n        playlist: cloneDeep(playlist),\n        originalPlaylist: playlist\n      });\n    } else {\n      // New Playlist\n\n      this.setState({\n        isLoadingPlaylist: false\n      });\n    }\n\n    // Fire and forget video retrieval.\n    this.getAvailableVideos();\n    this.getVideosInPlaylist();\n  }\n\n  @autobind\n  async getAvailableVideos() {\n    const { bcApiGateway, accountId } = this.props;\n    const { availableVideosSearchTerms } = this.state;\n\n    this.setState({\n      isLoadingAvailableVideos: true\n    });\n\n    const videosApi = bcApiGateway.videosApi;\n    const availableVideos = await videosApi.getVideos(accountId, {\n      limit: 1000,\n      sort: 'name',\n      q: availableVideosSearchTerms\n    });\n\n    this.setState({\n      isLoadingAvailableVideos: false,\n      availableVideos,\n      selectedAvailableVideos: []\n    });\n  }\n\n  @autobind\n  async getVideosInPlaylist() {\n    const { bcApiGateway, accountId, playlistId } = this.props;\n\n    if (!playlistId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingPlaylistVideos: true\n    });\n\n    const playlistsApi = bcApiGateway.playlistsApi;\n    const playlistVideos = await playlistsApi.getVideosInPlaylist(accountId, playlistId);\n\n    this.setState({\n      isLoadingPlaylistVideos: false,\n      playlistVideos,\n      selectedPlaylistVideos: []\n    });\n  }\n\n  @autobind\n  async toggleSelectAvailableVideo(selectedVideo: BCVideo) {\n    const { selectedAvailableVideos } = this.state;\n\n    const containsVideo = find(selectedAvailableVideos, video => {\n      return video.id === selectedVideo.id;\n    });\n\n    if (containsVideo) {\n      pull(selectedAvailableVideos, containsVideo);\n    } else {\n      selectedAvailableVideos.push(selectedVideo);\n    }\n\n    this.setState({\n      selectedAvailableVideos\n    });\n  }\n\n  @autobind\n  async toggleSelectPlaylistVideo(selectedVideo: BCVideo) {\n    const { selectedPlaylistVideos } = this.state;\n\n    const containsVideo = find(selectedPlaylistVideos, video => {\n      return video.id === selectedVideo.id;\n    });\n\n    if (containsVideo) {\n      pull(selectedPlaylistVideos, containsVideo);\n    } else {\n      selectedPlaylistVideos.push(selectedVideo);\n    }\n\n    this.setState({\n      selectedPlaylistVideos\n    });\n  }\n\n  @autobind\n  addSelectedAvailableVideos() {\n    const { playlist, playlistVideos, selectedAvailableVideos } = this.state;\n\n    for (const selectedAvailableVideo of selectedAvailableVideos) {\n      playlistVideos.push(selectedAvailableVideo);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    playlist.video_ids = map(playlistVideos, 'id');\n\n    this.setState({\n      playlist,\n      playlistVideos,\n      selectedAvailableVideos: [],\n      selectedPlaylistVideos: []\n    });\n  }\n\n  @autobind\n  removeSelectedPlaylistVideos() {\n    const { playlist, selectedPlaylistVideos } = this.state;\n    let { playlistVideos } = this.state;\n\n    playlistVideos = pullAllWith(playlistVideos, selectedPlaylistVideos, (v1, v2) => {\n      return v1.id === v2.id;\n    });\n\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    playlist.video_ids = map(playlistVideos, 'id');\n\n    this.setState({\n      playlist,\n      playlistVideos,\n      selectedAvailableVideos: [],\n      selectedPlaylistVideos: []\n    });\n  }\n\n  @autobind\n  moveSelectedPlaylistVideoUp() {\n    const { playlist, playlistVideos, selectedPlaylistVideos } = this.state;\n\n    if (selectedPlaylistVideos.length !== 1) {\n      return;\n    }\n\n    const videoIndex = findIndex(playlistVideos, { id: selectedPlaylistVideos[0].id });\n    if (videoIndex === 0) {\n      return;\n    }\n\n    const videos = pullAt(playlistVideos, videoIndex);\n    playlistVideos.splice(videoIndex - 1, 0, videos[0]);\n\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    playlist.video_ids = map(playlistVideos, 'id');\n\n    this.setState({\n      playlist,\n      playlistVideos\n    });\n  }\n\n  @autobind\n  moveSelectedPlaylistVideoDown() {\n    const { playlist, playlistVideos, selectedPlaylistVideos } = this.state;\n\n    if (selectedPlaylistVideos.length !== 1) {\n      return;\n    }\n\n    const videoIndex = findIndex(playlistVideos, { id: selectedPlaylistVideos[0].id });\n    if (videoIndex === playlistVideos.length - 1) {\n      return;\n    }\n\n    const videos = pullAt(playlistVideos, videoIndex);\n    playlistVideos.splice(videoIndex + 1, 0, videos[0]);\n\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    playlist.video_ids = map(playlistVideos, 'id');\n\n    this.setState({\n      playlist,\n      playlistVideos\n    });\n  }\n\n  @autobind\n  parseSearchField(): { tagsType: 'any' | 'all'; tags: string } {\n    // Note: There seems to be a delay when a playlist is updated before the videos in the playlist reflect the changes.\n    const { playlist } = this.state;\n    const tagsRegex = /(\\+?)tags:(.*)/g;\n\n    if (!playlist.search || !playlist.search.match(tagsRegex)) {\n      return {\n        tagsType: 'any',\n        tags: ''\n      };\n    }\n\n    const matches = tagsRegex.exec(playlist.search);\n    if (!matches) {\n      return {\n        tagsType: 'any',\n        tags: ''\n      };\n    }\n\n    return {\n      tagsType: matches[1] === '+' ? 'all' : 'any',\n      tags: matches[2]\n    };\n  }\n\n  @autobind\n  populateSearchField(tagsType: 'any' | 'all' | null, tags: string | null) {\n    const { playlist } = this.state;\n    const searchField = this.parseSearchField();\n    if (tagsType !== null) {\n      searchField.tagsType = tagsType;\n    }\n\n    if (tags !== null) {\n      searchField.tags = tags;\n    }\n\n    if (searchField.tagsType === 'all') {\n      playlist.search = `+tags:${searchField.tags}`;\n    } else {\n      playlist.search = `tags:${searchField.tags}`;\n    }\n\n    this.setState({\n      playlist\n    });\n  }\n\n  @autobind\n  async previewSmartPlaylistVideos() {\n    const { bcApiGateway, accountId } = this.props;\n    const searchField = this.parseSearchField();\n\n    this.setState({\n      isLoadingPlaylistVideos: true,\n      playlistVideos: []\n    });\n\n    const videosApi = bcApiGateway.videosApi;\n    const availableVideos = await videosApi.getVideos(accountId, {\n      limit: 30,\n      sort: 'name',\n      q: `${searchField.tags ? '+' : ''}tags:${searchField.tags}`\n    });\n\n    this.setState({\n      isLoadingPlaylistVideos: false,\n      playlistVideos: availableVideos\n    });\n  }\n\n  @autobind\n  showDeleteModal() {\n    this.setState({\n      showDeleteModal: true\n    });\n  }\n\n  @autobind\n  deleteCancel() {\n    this.setState({\n      showDeleteModal: false\n    });\n  }\n\n  @autobind\n  async deleteConfirm() {\n    const { bcApiGateway, accountId, playlistId } = this.props;\n\n    if (!playlistId) {\n      return;\n    }\n\n    this.setState({\n      isSavingPlaylist: true\n    });\n\n    const playlistsApi = bcApiGateway.playlistsApi;\n    await playlistsApi.deletePlaylist(accountId, playlistId);\n    window.location.hash = `#/${accountId}/manage-playlists`;\n  }\n\n  @autobind\n  handleInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const playlist = this.state.playlist;\n\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    if (name === 'limit') {\n      playlist.limit = parseInt(value.toString(), 10);\n    } else {\n      playlist[name] = value;\n    }\n\n    this.setState({\n      playlist\n    });\n  }\n\n  @autobind\n  handlePlaylistTypeChange(event: React.ChangeEvent<HTMLSelectElement>) {\n    const { playlist, originalPlaylist } = this.state;\n\n    switch (event.target.value) {\n      case 'Manual':\n        playlist.type = BCPlaylistType.Manual;\n        break;\n      case 'Smart':\n        if (originalPlaylist.type !== BCPlaylistType.Manual) {\n          playlist.type = originalPlaylist.type;\n        } else {\n          playlist.type = BCPlaylistType.ActivatedDateNewestFirst;\n        }\n        break;\n      default:\n        playlist.type = event.target.value as BCPlaylistType;\n        break;\n    }\n\n    this.setState({\n      playlist\n    });\n  }\n\n  @autobind\n  handleAvailableVideosSearchTermsChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      availableVideosSearchTerms: event.target.value\n    });\n  }\n\n  @autobind\n  async createOrUpdatePlaylist() {\n    const { bcApiGateway, accountId, playlistId } = this.props;\n    const { playlist } = this.state;\n\n    this.setState({\n      isSavingPlaylist: true\n    });\n\n    const playlistsApi = bcApiGateway.playlistsApi;\n\n    if (!playlistId) {\n      await playlistsApi.createPlaylist(accountId, playlist);\n    } else {\n      await playlistsApi.updatePlaylist(accountId, playlistId, playlist);\n    }\n\n    window.location.hash = `#/${accountId}/manage-playlists`;\n  }\n\n  render() {\n    const { playlistId, accountId } = this.props;\n    const {\n      isSavingPlaylist,\n      isLoadingPlaylist,\n      playlist,\n      originalPlaylist,\n      availableVideosSearchTerms,\n      availableVideos,\n      selectedAvailableVideos,\n      playlistVideos,\n      selectedPlaylistVideos\n    } = this.state;\n\n    if (isSavingPlaylist) {\n      return <Spinner loadingText=\"Saving Playlist...\" />;\n    }\n\n    if (isLoadingPlaylist) {\n      return <Spinner loadingText=\"Loading Playlist...\" />;\n    }\n\n    const playlistType = playlist.type && playlist.type.toString() === 'EXPLICIT' ? 'Manual' : 'Smart';\n    const isSaveDisabled = !!playlistId && isEqual(playlist, originalPlaylist);\n\n    const unselectedAvailableVideos = differenceWith(availableVideos, playlist.video_ids || [], (v1, v2) => {\n      return v1.id === v2;\n    });\n\n    const hasSelectedAvailableVideos = selectedAvailableVideos.length > 0;\n    const hasSelectedPlaylistVideos = selectedPlaylistVideos.length > 0;\n\n    return (\n      <>\n        <ol className=\"breadcrumb\">\n          <li>\n            <Link to=\"/\">Brightcove Management</Link>\n          </li>\n          <li>\n            <Link to={`/${accountId}/manage-playlists`}>Manage Playlists</Link>\n          </li>\n          <li>\n            <Link to={`/${accountId}/manage-playlists`}>Account {accountId}</Link>\n          </li>\n          <li className=\"active\">Playlist {playlistId}</li>\n        </ol>\n        <div>\n          <label>Name: </label>\n          <input name=\"name\" type=\"text\" className=\"form-control\" value={playlist.name} onChange={this.handleInputChange} />\n\n          <label>Description: </label>\n          <input name=\"description\" type=\"text\" id=\"txtDescription\" className=\"form-control\" value={playlist.description || ''} onChange={this.handleInputChange} />\n\n          <label>Type: </label>\n          <select className=\"form-control\" value={playlistType} onChange={this.handlePlaylistTypeChange}>\n            <option>Manual</option>\n            <option>Smart</option>\n          </select>\n          <hr />\n          {playlist.type && playlist.type.toString() === 'EXPLICIT' && (\n            <>\n              <div className=\"heading\">Manual Playlist Settings</div>\n              <div className=\"row\">\n                <div className=\"availableVideoSearch col-md-5\">\n                  <label>Available Videos</label>\n                  <div className=\"input-group\">\n                    <input\n                      type=\"search\"\n                      placeholder=\"Search\"\n                      className=\"form-control\"\n                      value={availableVideosSearchTerms}\n                      onKeyPress={e => e.key === 'Enter' && this.getAvailableVideos()}\n                      onChange={this.handleAvailableVideosSearchTermsChange}\n                    />\n                    <div className=\"input-group-btn searchButton\">\n                      <Button onClick={this.getAvailableVideos}>\n                        &nbsp;\n                        <i className=\"glyphicon glyphicon-search\" />\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"col-md-2\" />\n\n                <div className=\"playlistOrder col-md-5\">\n                  <label>Videos in this Playlist</label>\n                  <br />\n                  <span style={{ paddingRight: '5px' }}>Move Video</span>\n                  <div className=\"buttons btn-group btn-group-sm\">\n                    <Button disabled={selectedPlaylistVideos.length !== 1} onClick={this.moveSelectedPlaylistVideoUp}>\n                      Up\n                    </Button>\n                    <Button disabled={selectedPlaylistVideos.length !== 1} onClick={this.moveSelectedPlaylistVideoDown}>\n                      Down\n                    </Button>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"col-md-5\">\n                  <div className=\"availableVideos col-md-12\">\n                    {unselectedAvailableVideos.map(video => {\n                      const isSelected = !!find(selectedAvailableVideos, v1 => {\n                        return v1.id === video.id;\n                      });\n                      const videoClass = isSelected ? 'video videoSelected row' : 'video row';\n                      const thumbnailSrc = get(video, 'images.thumbnail.src');\n                      return (\n                        <div key={video.id} className={videoClass} onClick={() => this.toggleSelectAvailableVideo(video)}>\n                          <img className=\"resultImage col-md-6\" src={thumbnailSrc} alt=\"\" />\n                          <div className=\"title col-md-6\">\n                            <div>{video.name}</div>\n                            <div>video id: {video.id}</div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n\n                <div className=\"overButtons col-md-2\">\n                  <Button disabled={!hasSelectedAvailableVideos} onClick={this.addSelectedAvailableVideos}>\n                    &gt;&gt;{' '}\n                  </Button>\n                  <br />\n                  <Button disabled={!hasSelectedPlaylistVideos} onClick={this.removeSelectedPlaylistVideos}>\n                    &lt;&lt;{' '}\n                  </Button>\n                </div>\n\n                <div className=\"col-md-5\">\n                  <div className=\"playlistVideos container col-md-12\">\n                    {playlistVideos.map(video => {\n                      const isSelected = !!find(selectedPlaylistVideos, v1 => {\n                        return v1.id === video.id;\n                      });\n                      const videoClass = isSelected ? 'video videoSelected row' : 'video row';\n                      const thumbnailSrc = get(video, 'images.thumbnail.src');\n                      return (\n                        <div key={video.id} className={videoClass} onClick={() => this.toggleSelectPlaylistVideo(video)}>\n                          <img className=\"resultImage col-md-6\" src={thumbnailSrc} alt=\"\" />\n                          <div className=\"title col-md-6\">\n                            <div>{video.name}</div>\n                            <div>video id: {video.id}</div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n\n          {playlist.type && playlist.type.toString() !== 'EXPLICIT' && (\n            <>\n              <div className=\"heading\">Smart Playlist Settings</div>\n              <div className=\"settingsText\">Videos will be automatically added to this Playlist based on the following settings:</div>\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <label>Tags:</label>\n                  <select\n                    className=\"form-control\"\n                    value={this.parseSearchField().tagsType}\n                    onChange={e => {\n                      this.populateSearchField(e.target.value === 'any' ? 'any' : 'all', null);\n                    }}\n                  >\n                    <option value=\"any\">Contain one or more</option>\n                    <option value=\"all\">Contain all</option>\n                  </select>\n                  <br />\n                  <label style={{ fontWeight: 'normal' }}>of the following:</label>\n                  <input type=\"text\" className=\"form-control\" value={this.parseSearchField().tags} onChange={e => this.populateSearchField(null, e.target.value)} />\n                  <br />\n                  <label>Order:</label>\n                  <select className=\"form-control\" value={playlist.type} onChange={this.handlePlaylistTypeChange}>\n                    <option value=\"ACTIVATED_OLDEST_TO_NEWEST\">Activated Date (Oldest First)</option>\n                    <option value=\"ACTIVATED_NEWEST_TO_OLDEST\">Activated Date (Newest First)</option>\n                    <option value=\"ALPHABETICAL\">Video Name (A-Z)</option>\n                    <option value=\"PLAYS_TOTAL\">Total Plays</option>\n                    <option value=\"PLAYS_TRAILING_WEEK\">Trailing Week Plays</option>\n                    <option value=\"START_DATE_OLDEST_TO_NEWEST\">Start Date (Oldest First)</option>\n                    <option value=\"START_DATE_NEWEST_TO_OLDEST\">Start Date (Newest First)</option>\n                  </select>\n                  <br />\n                  <label>Limit to: </label>\n                  <input name=\"limit\" type=\"text\" style={{ width: '50px' }} className=\"form-control\" value={playlist.limit} onChange={this.handleInputChange} />\n                </div>\n                <Button className=\"pull-right\" onClick={this.previewSmartPlaylistVideos}>\n                  Preview\n                </Button>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <label>Videos in this Playlist: </label>\n                  <br />\n                  <div className=\"availableVideos container col-md-12\">\n                    {playlistVideos.map(video => {\n                      const thumbnailSrc = get(video, 'images.thumbnail.src');\n                      return (\n                        <div key={video.id} className=\"video row\">\n                          <img className=\"resultImage col-md-5\" src={thumbnailSrc} alt=\"\" />\n                          <div className=\"title col-md-7\">\n                            <div>{video.name}</div>\n                            <div>video id: {video.id}</div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n        <hr />\n        <div className=\"pull-right\">\n          <Button className=\"btn-space\" bsStyle={!isSaveDisabled ? 'primary' : 'default'} disabled={isSaveDisabled} onClick={this.createOrUpdatePlaylist}>\n            {!playlistId ? 'Create' : 'Save'}\n          </Button>\n          <Button className=\"btn-space\" bsStyle=\"warning\" disabled={!playlistId} onClick={this.showDeleteModal}>\n            Delete Playlist\n          </Button>\n          <Link className=\"btn btn-default btn-space\" to={`/${accountId}/manage-playlists`}>\n            Cancel\n          </Link>\n        </div>\n        <Modal show={this.state.showDeleteModal} onHide={this.deleteCancel}>\n          <Modal.Header closeButton={true}>\n            <Modal.Title>Confirm Playlist Deletion</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <h5>This playlist will be permanently deleted. Are you sure you want to proceed?</h5>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={this.deleteConfirm} bsStyle=\"danger\">\n              Delete Playlist\n            </Button>\n            <Button onClick={this.deleteCancel}>Cancel</Button>\n          </Modal.Footer>\n        </Modal>\n        <Prompt when={!isSaveDisabled} message=\"There are unsaved changes. Are you sure you wish to leave?\" />\n      </>\n    );\n  }\n}\n\ninterface EditPlaylistProps {\n  accountId: string;\n  playlistId?: string;\n  bcApiGateway: BrightcoveApiGateway;\n  spApiGateway: SharePointApiGateway;\n}\n\ninterface EditPlaylistState {\n  isLoadingPlaylist: boolean;\n  isSavingPlaylist: boolean;\n\n  isLoadingAvailableVideos: boolean;\n  availableVideos: Array<BCVideo>;\n  availableVideosSearchTerms: string;\n  selectedAvailableVideos: Array<BCVideo>;\n\n  isLoadingPlaylistVideos: boolean;\n  playlistVideos: Array<BCVideo>;\n  selectedPlaylistVideos: Array<BCVideo>;\n\n  playlist: BCPlaylist;\n  originalPlaylist: BCPlaylist;\n  playlistType: 'Manual' | 'Smart';\n\n  showDeleteModal: boolean;\n}\n","import * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport useDebounce from '../../util/useDebounce';\nimport { Button } from 'react-bootstrap';\n\nimport { PlaylistSortField, SortOrder, PlaylistSearchParameters } from '../../services/connector';\n\nexport const PlaylistSearchControls = (props: PlaylistSearchControlsProps) => {\n  const { accountId, searchParameters, onSearchForPlaylists, onSearchParametersChanged, labelClass, controlClass, formControlClass } = props;\n  const [searchTerm, setSearchTerm] = useState(searchParameters.searchTerms);\n  const { sortField, sortOrder } = searchParameters;\n\n  const debouncedSearchTerm = useDebounce(searchTerm, 500);\n\n  useEffect(() => {\n    searchParameters.searchTerms = debouncedSearchTerm;\n    onSearchParametersChanged(searchParameters, 'searchTerms');\n  }, [debouncedSearchTerm]);\n\n  const handleSortFieldChanged = (newSortField: PlaylistSortField) => {\n    searchParameters.sortField = newSortField;\n\n    onSearchParametersChanged(searchParameters);\n  };\n\n  const handleSortOrderChanged = (newSortOrder: SortOrder) => {\n    searchParameters.sortOrder = newSortOrder;\n\n    onSearchParametersChanged(searchParameters);\n  };\n\n  return (\n    <>\n      <div className=\"form-group\">\n        <label className={labelClass}>Available Playlists:</label>\n        <div className={controlClass}>\n          <div className=\"input-group\">\n            <input\n              type=\"search\"\n              placeholder=\"Playlist Filter\"\n              className={`form-control ${formControlClass}`}\n              value={searchTerm}\n              onKeyPress={e => e.key === 'Enter' && setSearchTerm(searchTerm)}\n              onChange={e => setSearchTerm(e.target.value)}\n            />\n            <div className=\"input-group-btn\">\n              <Button bsSize={formControlClass === 'input-xs' ? 'small' : undefined} onClick={() => onSearchForPlaylists(accountId, searchParameters)}>\n                &nbsp;\n                <i className=\"glyphicon glyphicon-search\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"form-group\">\n        <label className={labelClass}>Sort results by: </label>\n        <div className={controlClass}>\n          <div className=\"input-group\">\n            <label className=\"radio-inline\">\n              <input type=\"radio\" checked={sortField === PlaylistSortField.DisplayName} onChange={() => handleSortFieldChanged(PlaylistSortField.DisplayName)} />\n              display name\n            </label>\n            <label className=\"radio-inline\">\n              <input type=\"radio\" checked={sortField === PlaylistSortField.ModifiedDate} onChange={() => handleSortFieldChanged(PlaylistSortField.ModifiedDate)} />\n              modified date\n            </label>\n          </div>\n        </div>\n      </div>\n      <div className=\"form-group\">\n        <label className={labelClass}>Order: </label>\n        <div className={controlClass}>\n          <div className=\"input-group\">\n            <label className=\"radio-inline\">\n              <input type=\"radio\" checked={sortOrder === SortOrder.Ascending} onChange={() => handleSortOrderChanged(SortOrder.Ascending)} />\n              ascending\n            </label>\n            <label className=\"radio-inline\">\n              <input type=\"radio\" checked={sortOrder === SortOrder.Descending} onChange={() => handleSortOrderChanged(SortOrder.Descending)} />\n              descending\n            </label>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport interface PlaylistSearchControlsProps {\n  accountId: string;\n  labelClass?: string;\n  controlClass?: string;\n  formControlClass?: string;\n  searchParameters: Partial<PlaylistSearchParameters>;\n  onSearchParametersChanged: (searchParameters: Partial<PlaylistSearchParameters>, fieldUpdated?: string) => void;\n  onSearchForPlaylists: (accountId: string, searchParameters: Partial<PlaylistSearchParameters>) => void;\n}\n","export * from './BrightcoveExperience';\nexport * from './BrightcoveExperienceControls';\nexport * from './BrightcoveExperienceUtils';\n\nexport enum BrightcoveExperienceOverrideMode {\n  Videos = 'Videos',\n  Playlist = 'Playlist'\n}\n\nexport enum BrightcoveExperienceUnits {\n  Pixels = 'px',\n  Em = 'em',\n  Pct = '%'\n}\n","import { useEffect, useState } from 'react';\n\nexport default function useDebounce(value: any, delay: number) {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]); // Only re-call effect if value or delay changes\n\n  return debouncedValue;\n}\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport { BootstrapTable, TableHeaderColumn, SelectRow } from 'react-bootstrap-table';\nimport { Spinner } from '../common';\nimport { VideoSearchControls } from '../manage-videos';\nimport { PlaylistSearchControls } from '../manage-playlists';\nimport autobind from 'autobind-decorator';\n\nimport { BrightcoveExperienceProps, BrightcoveExperienceUnits, BrightcoveExperienceOverrideMode } from '.';\nimport { ConnectorContext, VideoSearchParameters, PlaylistSearchParameters, getDefaultPlaylistSearchParameters, getDefaultVideoSearchParameters } from '../../services/connector';\nimport { BCVideo, BCPlaylist } from '@brightcove/video-cloud-sdk';\n\nimport { without, map, filter } from 'lodash';\n\nexport class BrightcoveExperienceControls extends React.Component<BrightcoveExperienceControlsProps, BrightcoveExperienceControlsState> {\n  constructor(props: BrightcoveExperienceControlsProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isLoading: false,\n      playlistSearchParameters: getDefaultPlaylistSearchParameters(),\n      playlists: [],\n      videoSearchParameters: getDefaultVideoSearchParameters(),\n      videos: []\n    };\n  }\n\n  async componentDidMount() {\n    const { bcExperienceProps } = this.props;\n\n    if (bcExperienceProps.overrideExperienceVideos) {\n      this.loadOverrideItems(bcExperienceProps.experienceOverrideMode || BrightcoveExperienceOverrideMode.Videos);\n    }\n  }\n\n  @autobind\n  async searchForVideos(accountId: string, searchParams: Partial<VideoSearchParameters>): Promise<void> {\n    const { connectorContext } = this.props;\n    const { videosApi } = connectorContext.bcApiGateway;\n\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoading: true\n    });\n\n    const bcSearchParams = await connectorContext.getBCVideoSearchParams(searchParams);\n    let videos = await videosApi.getVideos(accountId, bcSearchParams);\n\n    if (searchParams.folderId) {\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      videos = filter(videos, { folder_id: searchParams.folderId });\n    }\n\n    this.setState({\n      isLoading: false,\n      videos\n    });\n  }\n\n  @autobind\n  async searchForPlaylists(accountId: string, searchParams: Partial<PlaylistSearchParameters>): Promise<void> {\n    const { connectorContext } = this.props;\n    const { playlistsApi } = connectorContext.bcApiGateway;\n\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoading: true\n    });\n\n    const bcSearchParams = await connectorContext.getBCPlaylistSearchParams(searchParams);\n    const playlists = await playlistsApi.getPlaylists(accountId, bcSearchParams);\n\n    this.setState({\n      isLoading: false,\n      playlists\n    });\n  }\n\n  @autobind\n  handleEmbedTypeChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    bcExperienceProps.embedType = event.target.value as 'Standard' | 'Advanced';\n    if (bcExperienceProps.embedType === 'Standard') {\n      bcExperienceProps.sizing = 'Fixed';\n    }\n\n    if (bcExperienceProps.embedType === 'Advanced') {\n      bcExperienceProps.overrideExperienceVideos = false;\n    }\n\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  handleSizingChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    bcExperienceProps.sizing = event.target.value as 'Responsive' | 'Fixed';\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  handleOverrideWidthChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    bcExperienceProps.overrideWidth = event.target.checked;\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  handlePlayerWidthChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    bcExperienceProps.playerWidth = event.target.value;\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  handleOverrideHeightChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    bcExperienceProps.overrideHeight = event.target.checked;\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  handlePlayerHeightChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    bcExperienceProps.playerHeight = event.target.value;\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  handlePlayerUnitsChange(event: React.ChangeEvent<HTMLSelectElement>) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    bcExperienceProps.playerUnits = event.target.value as BrightcoveExperienceUnits;\n\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  handleOverrideExperienceVideosChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    bcExperienceProps.overrideExperienceVideos = event.target.checked;\n    bcExperienceProps.experienceOverrideMode = bcExperienceProps.experienceOverrideMode || BrightcoveExperienceOverrideMode.Videos;\n\n    if (event.target.checked) {\n      this.handleExperienceOverrideModeChange(bcExperienceProps.experienceOverrideMode);\n    }\n\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  async loadOverrideItems(selectedMode: BrightcoveExperienceOverrideMode) {\n    switch (selectedMode) {\n      case BrightcoveExperienceOverrideMode.Playlist:\n        const { playlistSearchParameters } = this.state;\n        this.searchForPlaylists(this.props.accountId, playlistSearchParameters);\n        break;\n      case BrightcoveExperienceOverrideMode.Videos:\n        const { videoSearchParameters } = this.state;\n        this.searchForVideos(this.props.accountId, videoSearchParameters);\n        break;\n      default:\n        throw new Error('Unknown or unsupported experience override mode.');\n    }\n  }\n\n  @autobind\n  handleExperienceOverrideModeChange(eventKey: any) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    const selectedMode = eventKey as BrightcoveExperienceOverrideMode;\n\n    this.loadOverrideItems(selectedMode);\n\n    bcExperienceProps.experienceOverrideMode = selectedMode;\n    bcExperienceProps.experienceOverrideModeIds = [];\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  handleVideoSearchParametersChanged(videoSearchParameters: Partial<VideoSearchParameters>, fieldChanged?: string) {\n    this.setState({\n      videoSearchParameters\n    });\n\n    if (fieldChanged !== 'searchTerms') {\n      this.searchForVideos(this.props.accountId, videoSearchParameters);\n    }\n  }\n\n  @autobind\n  handlePlaylistSearchParametersChanged(playlistSearchParameters: Partial<PlaylistSearchParameters>, fieldChanged?: string) {\n    this.setState({\n      playlistSearchParameters\n    });\n\n    if (fieldChanged !== 'searchTerms') {\n      this.searchForPlaylists(this.props.accountId, playlistSearchParameters);\n    }\n  }\n\n  @autobind\n  handlePlaylistSelected(playlist: BCPlaylist, isSelected: boolean) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    if (isSelected) {\n      bcExperienceProps.experienceOverrideModeIds = [playlist.id];\n    } else {\n      bcExperienceProps.experienceOverrideModeIds = [];\n    }\n\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  handleAllVideosSelected(isSelected: boolean) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    const { videos } = this.state;\n    if (isSelected) {\n      bcExperienceProps.experienceOverrideModeIds = map(videos, 'id');\n    } else {\n      bcExperienceProps.experienceOverrideModeIds = [];\n    }\n\n    onExperiencePropsChanged(bcExperienceProps);\n    return true;\n  }\n\n  @autobind\n  handleVideoSelected(video: BCVideo, isSelected: boolean) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    bcExperienceProps.experienceOverrideModeIds = without(bcExperienceProps.experienceOverrideModeIds, video.id);\n    if (isSelected) {\n      bcExperienceProps.experienceOverrideModeIds.push(video.id);\n    }\n\n    onExperiencePropsChanged(bcExperienceProps);\n  }\n\n  @autobind\n  renderPlaylistNameCell(cell: any, playlist: BCPlaylist) {\n    const { bcExperienceProps } = this.props;\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <Link className=\"small\" to={`/${bcExperienceProps.accountId}/manage-playlists/${playlist.id}/edit`} target=\"_blank\">\n            {playlist.name}\n          </Link>\n          <div className=\"small\">{playlist.id}</div>\n        </div>\n      </div>\n    );\n  }\n\n  @autobind\n  renderVideoNameCell(cell: any, video: BCVideo) {\n    const { bcExperienceProps } = this.props;\n\n    return (\n      <div className=\"row\">\n        {video.images && video.images.thumbnail && <img className=\"col-xs-2\" src={video.images.thumbnail.src} alt=\"\" />}\n        <div className=\"col-xs-10\">\n          <Link className=\"small\" to={`/${bcExperienceProps.accountId}/manage-videos/${video.id}/edit`} target=\"_blank\">\n            {video.name}\n          </Link>\n          <div className=\"small\">{video.id}</div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      connectorContext,\n      accountId,\n      labelClass,\n      controlClass,\n      formControlClass,\n      bcExperienceProps,\n      showEmbedCustomizations,\n      showAdvancedEmbedCustomizations,\n      disableOverrideForJavaScriptEmbeds\n    } = this.props;\n    const { isLoading, videoSearchParameters, playlistSearchParameters, videos, playlists } = this.state;\n\n    const selectPlaylistRow: SelectRow = {\n      mode: 'radio',\n      clickToSelect: true,\n      className: 'info',\n      onSelect: this.handlePlaylistSelected,\n      selected: bcExperienceProps.experienceOverrideModeIds\n    };\n\n    const selectVideoRow: SelectRow = {\n      mode: 'checkbox',\n      clickToSelect: true,\n      className: 'info',\n      onSelect: this.handleVideoSelected,\n      onSelectAll: this.handleAllVideosSelected,\n      selected: bcExperienceProps.experienceOverrideModeIds\n    };\n\n    return (\n      <>\n        {showEmbedCustomizations === true && (\n          <>\n            <div className=\"form-group\">\n              <label className={labelClass}>Embed Type</label>\n              <div className={controlClass}>\n                <div className={`input-group ${formControlClass}`}>\n                  <label className=\"radio-inline\">\n                    <input type=\"radio\" name=\"embedType\" value=\"Standard\" checked={bcExperienceProps.embedType === 'Standard'} onChange={this.handleEmbedTypeChange} /> iFrame\n                  </label>\n                  <label className=\"radio-inline\">\n                    <input type=\"radio\" name=\"embedType\" value=\"Advanced\" checked={bcExperienceProps.embedType === 'Advanced'} onChange={this.handleEmbedTypeChange} /> JavaScript\n                  </label>\n                </div>\n              </div>\n            </div>\n            {showAdvancedEmbedCustomizations === true && (\n              <>\n                <div className=\"form-group\">\n                  <label className={labelClass}>Sizing</label>\n                  <div className={controlClass}>\n                    <div className={`input-group ${formControlClass}`}>\n                      <label className=\"radio-inline\">\n                        <input type=\"radio\" name=\"sizing\" value=\"Fixed\" checked={bcExperienceProps.sizing === 'Fixed'} onChange={this.handleSizingChange} /> Fixed\n                      </label>\n                      <label className=\"radio-inline\">\n                        <input\n                          type=\"radio\"\n                          name=\"sizing\"\n                          value=\"Responsive\"\n                          disabled={bcExperienceProps.embedType === 'Standard'}\n                          checked={bcExperienceProps.sizing === 'Responsive'}\n                          onChange={this.handleSizingChange}\n                        />{' '}\n                        Responsive\n                      </label>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"form-group\">\n                  <label className={labelClass}>Layout Width</label>\n                  <div className={controlClass}>\n                    <div className=\"form-row\">\n                      <div className=\"col-xs-4\">\n                        <div className=\"input-group\">\n                          <input\n                            className={`form-control ${formControlClass}`}\n                            type=\"number\"\n                            placeholder=\"auto\"\n                            value={bcExperienceProps.playerWidth}\n                            disabled={!bcExperienceProps.overrideWidth || (bcExperienceProps.embedType === 'Advanced' && bcExperienceProps.sizing === 'Responsive')}\n                            onChange={this.handlePlayerWidthChange}\n                          />\n                          <span className=\"input-group-addon\">px</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"form-group\">\n                  <label className={labelClass}>Layout Height</label>\n                  <div className={controlClass}>\n                    <div className=\"form-row\">\n                      <div className=\"col-xs-4\">\n                        <div className=\"input-group\">\n                          <input\n                            className={`form-control ${formControlClass}`}\n                            type=\"number\"\n                            placeholder=\"auto\"\n                            value={bcExperienceProps.playerHeight}\n                            disabled={!bcExperienceProps.overrideHeight || (bcExperienceProps.embedType === 'Advanced' && bcExperienceProps.sizing === 'Responsive')}\n                            onChange={this.handlePlayerHeightChange}\n                          />\n                          <span className=\"input-group-addon\">px</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </>\n        )}\n        {((disableOverrideForJavaScriptEmbeds && bcExperienceProps.embedType === 'Standard') || !disableOverrideForJavaScriptEmbeds) && (\n          <div className=\"form-group\">\n            <label className={labelClass}>Override Experience Videos</label>\n            <div className={controlClass}>\n              <input className=\"form-check-input\" type=\"checkbox\" checked={bcExperienceProps.overrideExperienceVideos} onChange={this.handleOverrideExperienceVideosChange} />\n              &nbsp;Check here if you would like to override the experience-defined videos with a custom video or playlist selection.\n            </div>\n          </div>\n        )}\n        {bcExperienceProps.overrideExperienceVideos && (\n          <Tabs id=\"OverrideExperienceVideosTabs\" activeKey={bcExperienceProps.experienceOverrideMode} onSelect={this.handleExperienceOverrideModeChange} style={{ paddingBottom: '5px' }}>\n            <Tab eventKey={BrightcoveExperienceOverrideMode.Videos} title=\"Videos\">\n              <VideoSearchControls\n                accountId={accountId}\n                connectorContext={connectorContext}\n                showSearchTarget={false}\n                labelClass={labelClass}\n                controlClass={controlClass}\n                searchParameters={videoSearchParameters}\n                onSearchParametersChanged={this.handleVideoSearchParametersChanged}\n                onSearchForVideos={this.searchForVideos}\n              />\n              {isLoading && accountId && <Spinner loadingText=\"Loading Videos...\" />}\n              {!isLoading && accountId && (\n                <div className=\"well\">\n                  <BootstrapTable data={videos} striped={true} bordered={false} selectRow={selectVideoRow} height=\"250\">\n                    <TableHeaderColumn dataField=\"name\" dataFormat={this.renderVideoNameCell} formatExtraData={{ accountId }}>\n                      Videos\n                    </TableHeaderColumn>\n                    <TableHeaderColumn dataField=\"id\" isKey={true} hidden={true}>\n                      ID\n                    </TableHeaderColumn>\n                  </BootstrapTable>\n                  <hr />\n                </div>\n              )}\n            </Tab>\n            <Tab eventKey={BrightcoveExperienceOverrideMode.Playlist} title=\"Playlist\">\n              <PlaylistSearchControls\n                accountId={accountId}\n                labelClass={labelClass}\n                controlClass={controlClass}\n                searchParameters={playlistSearchParameters}\n                onSearchParametersChanged={this.handlePlaylistSearchParametersChanged}\n                onSearchForPlaylists={this.searchForPlaylists}\n              />\n              {isLoading && accountId && <Spinner loadingText=\"Loading Playlists...\" />}\n              {!isLoading && accountId && (\n                <div className=\"well\">\n                  <BootstrapTable data={playlists} striped={true} bordered={false} selectRow={selectPlaylistRow} height=\"250\">\n                    <TableHeaderColumn dataField=\"name\" dataFormat={this.renderPlaylistNameCell} formatExtraData={{ accountId }}>\n                      Playlist\n                    </TableHeaderColumn>\n                    <TableHeaderColumn dataField=\"id\" isKey={true} hidden={true}>\n                      ID\n                    </TableHeaderColumn>\n                  </BootstrapTable>\n                  <hr />\n                </div>\n              )}\n            </Tab>\n          </Tabs>\n        )}\n      </>\n    );\n  }\n}\n\nexport interface BrightcoveExperienceControlsProps {\n  accountId: string;\n  connectorContext: ConnectorContext;\n  labelClass?: string;\n  controlClass?: string;\n  formControlClass?: string;\n  showEmbedCustomizations: boolean;\n  showAdvancedEmbedCustomizations: boolean;\n  disableOverrideForJavaScriptEmbeds: boolean;\n  bcExperienceProps: Partial<BrightcoveExperienceProps>;\n  onExperiencePropsChanged: (bcExperienceProps: Partial<BrightcoveExperienceProps>) => void;\n}\n\nexport interface BrightcoveExperienceControlsState {\n  isLoading: boolean;\n  playlistSearchParameters: Partial<PlaylistSearchParameters>;\n  playlists: Array<BCPlaylist>;\n  videoSearchParameters: Partial<VideoSearchParameters>;\n  videos: Array<BCVideo>;\n}\n","import { BrightcoveExperienceProps, BrightcoveExperienceUnits, BrightcoveExperienceOverrideMode } from '.';\nimport URI from 'urijs';\n\nexport class BrightcoveExperienceUtils {\n  public static getDefaultBrightcoveExperienceProps(): Partial<BrightcoveExperienceProps> {\n    return {\n      connectorVersion: process.env.REACT_APP_VERSION,\n      embedType: 'Advanced',\n      sizing: 'Responsive',\n      overrideWidth: true,\n      playerWidth: '640',\n      overrideHeight: true,\n      playerHeight: '640',\n      playerUnits: BrightcoveExperienceUnits.Pixels,\n      overrideExperienceVideos: false,\n      experienceOverrideMode: BrightcoveExperienceOverrideMode.Videos\n    };\n  }\n\n  public static getBrightcoveExperiencePropsFromQueryString(): Partial<BrightcoveExperienceProps> {\n    const uri = URI();\n    const info = uri.query(true) as { [key: string]: string };\n\n    const result: Partial<BrightcoveExperienceProps> = {\n      accountId: info.accountId,\n      experienceId: info.experienceId,\n      sharepointVersion: info.SPProductNumber,\n      connectorVersion: process.env.REACT_APP_VERSION,\n      embedType: 'Standard',\n      sizing: 'Responsive',\n      overrideWidth: true,\n      playerWidth: '100',\n      playerUnits: BrightcoveExperienceUnits.Pct,\n      overrideHeight: false,\n      overrideExperienceVideos: info.overrideExperienceVideos === 'true' ? true : false\n    };\n\n    if (info.embedType === 'Standard' || info.embedType === 'Advanced') {\n      result.embedType = info.embedType;\n    } else {\n      result.embedType = 'Advanced';\n    }\n\n    if (info.sizing === 'Fixed' || info.sizing === 'Responsive') {\n      result.sizing = info.sizing;\n    } else {\n      result.sizing = 'Responsive';\n    }\n\n    if (info.experienceOverrideMode) {\n      switch (info.experienceOverrideMode) {\n        case '0':\n          result.experienceOverrideMode = BrightcoveExperienceOverrideMode.Videos;\n          break;\n        case '1':\n          result.experienceOverrideMode = BrightcoveExperienceOverrideMode.Playlist;\n          break;\n        default:\n          result.experienceOverrideMode = BrightcoveExperienceOverrideMode.Videos;\n      }\n    }\n\n    if (info.experienceOverrideModeIds) {\n      result.experienceOverrideModeIds = info.experienceOverrideModeIds.split(',').map(id => id.trim());\n    }\n\n    return result;\n  }\n\n  public static augmentCurrentUriWithExperienceProps(experienceProps: Partial<BrightcoveExperienceProps>) {\n    const uri = URI();\n\n    uri.setQuery('accountId', experienceProps.accountId || '');\n    uri.setQuery('experienceId', experienceProps.experienceId || '');\n    uri.setQuery('overrideExperienceVideos', experienceProps.overrideExperienceVideos === true ? 'true' : 'false');\n    if (experienceProps.experienceOverrideMode) {\n      switch (experienceProps.experienceOverrideMode) {\n        case BrightcoveExperienceOverrideMode.Videos:\n          uri.setQuery('experienceOverrideMode', '0');\n          break;\n        case BrightcoveExperienceOverrideMode.Playlist:\n          uri.setQuery('experienceOverrideMode', '1');\n          break;\n        default:\n          uri.setQuery('experienceOverrideMode', '0');\n          break;\n      }\n    }\n\n    if (experienceProps.embedType) {\n      uri.setQuery('embedType', experienceProps.embedType);\n    }\n\n    if (experienceProps.sizing) {\n      uri.setQuery('sizing', experienceProps.sizing);\n    }\n\n    if (experienceProps.experienceOverrideModeIds) {\n      uri.setQuery('experienceOverrideModeIds', experienceProps.experienceOverrideModeIds.join(','));\n    }\n\n    return uri.toString();\n  }\n}\n","import * as React from 'react';\nimport * as ReactDOMServer from 'react-dom/server';\nimport { Button } from 'react-bootstrap';\nimport { CopyToClipboard } from '../common/CopyToClipboard';\nimport autobind from 'autobind-decorator';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDownload, faUpload } from '@fortawesome/free-solid-svg-icons';\n\nimport { BrightcoveExperience, BrightcoveExperienceProps, BrightcoveExperienceControls } from '../brightcove-experience';\n\nimport { BCExperience } from '@brightcove/video-cloud-sdk';\nimport { ConnectorContext } from '../../services/connector';\nimport { SPEmbedUtil, SPUtility } from '../../services/sharepoint';\nimport { EmbedLayoutMode } from './EmbedLayoutMode';\n\nimport * as FileSaver from 'file-saver';\nimport { Spinner } from '../common';\nimport moment from 'moment';\n\nexport class ExperienceEmbed extends React.Component<ExperienceEmbedProps, ExperienceEmbedState> {\n  constructor(props: ExperienceEmbedProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isWebPartUploading: false\n    };\n  }\n\n  @autobind\n  handleExperiencePropsChanged(bcExperienceProps: Partial<BrightcoveExperienceProps>) {\n    const { onExperiencePropsChanged } = this.props;\n\n    bcExperienceProps.embedCodeOverride = undefined;\n\n    if (onExperiencePropsChanged) {\n      onExperiencePropsChanged(bcExperienceProps);\n    }\n  }\n\n  @autobind\n  handleEmbedCodeChange(embedCodeInput: React.ChangeEvent<HTMLTextAreaElement>) {\n    const { bcExperienceProps, onExperiencePropsChanged } = this.props;\n    bcExperienceProps.embedCodeOverride = embedCodeInput.target.value;\n\n    if (onExperiencePropsChanged) {\n      onExperiencePropsChanged(bcExperienceProps);\n    }\n  }\n\n  @autobind\n  async addWebPartToPage() {\n    const { bcExperienceProps, connectorContext } = this.props;\n    const { spApiGateway } = connectorContext;\n\n    const embedCode = bcExperienceProps.embedCodeOverride || this.generateExperienceEmbedCode();\n\n    await spApiGateway.spEmbedUtil.insertContentEditorWebPart(\n      connectorContext.spAddinContext.Referrer,\n      'Brightcove Experience',\n      'Brightcove Web Part to embed an experience onto a web part page.',\n      embedCode || 'An error occurred.'\n    );\n  }\n\n  getWebPartTitle() {\n    const { bcExperienceProps, experience } = this.props;\n    let webPartName = 'Brightcove Experience WebPart';\n\n    if (!experience || !bcExperienceProps.accountId) {\n      return webPartName;\n    }\n\n    if (experience.name) {\n      let embedType = 'javascript';\n      if (bcExperienceProps.embedType === 'Standard') {\n        embedType = 'iframe';\n      }\n\n      webPartName = `${experience.name}-${bcExperienceProps.accountId}-${experience.id}-${embedType}`;\n    }\n    return webPartName;\n  }\n\n  @autobind\n  async uploadWebPartToGallery() {\n    const { bcExperienceProps, connectorContext, experience } = this.props;\n    const { spApiGateway, spAddinContext } = connectorContext;\n\n    if (!spApiGateway || !spAddinContext || !experience || !bcExperienceProps.accountId) {\n      return;\n    }\n\n    this.setState({\n      isWebPartUploading: true\n    });\n\n    const embedCode = bcExperienceProps.embedCodeOverride || this.generateExperienceEmbedCode();\n    const webPartTitle = this.getWebPartTitle();\n    const webPart = SPEmbedUtil.generateScriptEditorWebPart(webPartTitle, 'Adds a Brightcove Experience Embed onto classic and modern pages.', embedCode || 'An error occurred.');\n\n    try {\n      const dt = moment();\n      const filename = `BrightcoveExperience-${dt.format('YYYY-MM-DD')}-${dt.format('hh-mm-ss')}.webpart`;\n      await spApiGateway.spEmbedUtil.uploadWebPartToGallery(webPart || 'An error occurred.', filename, 'Brightcove Experiences');\n    } catch (ex) {\n      // Do Nothing.\n    }\n\n    SPUtility.closeParentDialog(true);\n  }\n\n  @autobind\n  downloadScriptEditorWebPart() {\n    const { bcExperienceProps, experience } = this.props;\n\n    if (!experience || !bcExperienceProps.accountId) {\n      return;\n    }\n\n    const embedCode = bcExperienceProps.embedCodeOverride || this.generateExperienceEmbedCode();\n    const webPartTitle = this.getWebPartTitle();\n    const webPart = SPEmbedUtil.generateScriptEditorWebPart(webPartTitle, 'Adds a Brightcove Experience Embed onto classic and modern pages.', embedCode || 'An error occurred.');\n\n    const dt = moment();\n    const filename = `BrightcoveExperience-${dt.format('YYYY-MM-DD')}-${dt.format('hh-mm-ss')}.webpart`;\n    FileSaver.saveAs(new Blob([webPart], { type: 'text/plain;charset=utf-8' }), filename);\n  }\n\n  generateExperienceEmbedCode() {\n    const { bcExperienceProps, experience } = this.props;\n\n    if (!bcExperienceProps.accountId || !experience) {\n      return;\n    }\n\n    const embedCode = ReactDOMServer.renderToStaticMarkup(\n      <BrightcoveExperience {...(bcExperienceProps as BrightcoveExperienceProps)} accountId={bcExperienceProps.accountId} experienceId={experience.id} experience={experience} />\n    )\n      .replace(/&amp;/g, '&')\n      .replace(/%3A/g, ':');\n\n    return embedCode;\n  }\n\n  renderMini(embedCode: string | undefined) {\n    const { bcExperienceProps, connectorContext, showUploadWebPartButton, labelClass, controlClass } = this.props;\n\n    const { isWebPartUploading } = this.state;\n\n    if (!bcExperienceProps.accountId) {\n      return;\n    }\n\n    return (\n      <>\n        <BrightcoveExperienceControls\n          accountId={bcExperienceProps.accountId}\n          connectorContext={connectorContext}\n          showEmbedCustomizations={true}\n          showAdvancedEmbedCustomizations={false}\n          disableOverrideForJavaScriptEmbeds={false}\n          labelClass={labelClass}\n          controlClass={controlClass}\n          formControlClass=\"input-sm\"\n          bcExperienceProps={bcExperienceProps}\n          onExperiencePropsChanged={this.handleExperiencePropsChanged}\n        />\n        <div className=\"form-group\">\n          <label className={labelClass}>Brightcove Snippet (Paste to Script Editor web part or publishing zone):</label>\n          <div className={controlClass}>\n            <textarea id=\"embedCode\" style={{ width: '100%', height: '85px', wordBreak: 'break-all' }} value={embedCode} spellCheck={false} onChange={this.handleEmbedCodeChange} />\n            <CopyToClipboard />\n            <Button className=\"pull-right\" bsSize=\"small\" style={{ margin: '2px' }} onClick={this.downloadScriptEditorWebPart}>\n              <FontAwesomeIcon icon={faDownload} /> Download Web Part\n            </Button>\n            {isWebPartUploading && <Spinner loadingText=\"Uploading...\" />}\n            {showUploadWebPartButton === true && !isWebPartUploading && (\n              <Button\n                className=\"pull-right\"\n                bsSize=\"small\"\n                style={{ margin: '2px' }}\n                disabled={!connectorContext.doesEmbedHelperExist}\n                onClick={this.uploadWebPartToGallery}\n                title={connectorContext.doesEmbedHelperExist ? '' : 'Unable to upload web part as the Brightcove Embed Helper is not installed.'}\n              >\n                <FontAwesomeIcon icon={faUpload} /> Upload Web Part to Gallery\n              </Button>\n            )}\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  renderPart(embedCode: string | undefined) {\n    const { bcExperienceProps, connectorContext, labelClass, controlClass } = this.props;\n\n    if (!bcExperienceProps.accountId) {\n      return;\n    }\n\n    return (\n      <>\n        <BrightcoveExperienceControls\n          accountId={bcExperienceProps.accountId}\n          connectorContext={connectorContext}\n          showEmbedCustomizations={true}\n          showAdvancedEmbedCustomizations={false}\n          disableOverrideForJavaScriptEmbeds={true}\n          labelClass={labelClass}\n          controlClass={controlClass}\n          formControlClass=\"input-sm\"\n          bcExperienceProps={bcExperienceProps}\n          onExperiencePropsChanged={this.handleExperiencePropsChanged}\n        />\n        <div className=\"col-xs-12\" style={{ padding: '0' }}>\n          <label>Brightcove Snippet (Edit to customize Experience embed code)</label>\n        </div>\n        <div className=\"col-xs-12\" style={{ padding: '0' }}>\n          <textarea id=\"embedCode\" style={{ width: '100%', height: '85px', wordBreak: 'break-all' }} value={embedCode} spellCheck={false} onChange={this.handleEmbedCodeChange} />\n          <CopyToClipboard />\n        </div>\n      </>\n    );\n  }\n\n  renderFull(embedCode: string | undefined) {\n    const { bcExperienceProps, connectorContext } = this.props;\n\n    if (!bcExperienceProps.accountId) {\n      return;\n    }\n\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <h4>Copy Code</h4>\n            <div>Copy the appropriate code below and paste it into your web page or app.</div>\n            <textarea id=\"embedCode\" style={{ width: '100%', height: '85px', wordBreak: 'break-all' }} value={embedCode} spellCheck={false} onChange={this.handleEmbedCodeChange} />\n            <CopyToClipboard />\n            <Button className=\"pull-right\" bsSize=\"small\" style={{ margin: '2px' }} onClick={this.downloadScriptEditorWebPart}>\n              <FontAwesomeIcon icon={faDownload} /> Download Web Part\n            </Button>\n          </div>\n          <div className=\"col-md-6\">\n            <BrightcoveExperienceControls\n              accountId={bcExperienceProps.accountId}\n              connectorContext={connectorContext}\n              bcExperienceProps={bcExperienceProps}\n              showEmbedCustomizations={true}\n              showAdvancedEmbedCustomizations={false}\n              disableOverrideForJavaScriptEmbeds={false}\n              onExperiencePropsChanged={this.handleExperiencePropsChanged}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  render() {\n    const { bcExperienceProps, layoutMode, experience, labelClass, controlClass, hideExperienceName } = this.props;\n\n    if (!experience) {\n      return (\n        <div className=\"text-center\">\n          <i>An experience has not been selected. Please select an experience above to obtain the embed code.</i>\n        </div>\n      );\n    }\n\n    if (!bcExperienceProps.accountId) {\n      return (\n        <div className=\"text-center\">\n          <i>An account has not been selected. Please select an account above.</i>\n        </div>\n      );\n    }\n\n    const experienceSharableUrl = `https://players.brightcove.net/${bcExperienceProps.accountId}/experience_${experience.id}/share.html`;\n    const embedCode = bcExperienceProps.embedCodeOverride || this.generateExperienceEmbedCode();\n\n    let layoutSize = 'Responsive';\n    if (experience.width) {\n      layoutSize = `Fixed width of ${experience.width}px`;\n    }\n\n    if (experience.height) {\n      layoutSize += ` and height of ${experience.height}px`;\n    }\n\n    return (\n      <>\n        {hideExperienceName !== true && (\n          <div className=\"form-group\">\n            <label className={labelClass}>Experience Name</label>\n            <div className={controlClass}>{experience.name}</div>\n          </div>\n        )}\n        {layoutMode === 'Full' && (\n          <div className=\"form-group\">\n            <div>\n              <iframe title=\"Full\" style={{ width: '100%', height: '400px' }} src={experience.previewUrl} />\n            </div>\n          </div>\n        )}\n        <div className=\"form-group\">\n          <label className={labelClass}>Shareable URL</label>\n          <div className={controlClass}>\n            <a href={experienceSharableUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n              {experienceSharableUrl}\n            </a>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className={labelClass}>Experience-defined Layout Size</label>\n          <div className={controlClass}>{layoutSize}</div>\n        </div>\n        {(() => {\n          switch (layoutMode) {\n            case 'Mini':\n              return this.renderMini(embedCode);\n            case 'Part':\n              return this.renderPart(embedCode);\n            default:\n              return this.renderFull(embedCode);\n          }\n        })()}\n      </>\n    );\n  }\n}\n\nexport interface ExperienceEmbedProps {\n  bcExperienceProps: Partial<BrightcoveExperienceProps>;\n  connectorContext: ConnectorContext;\n  experience?: BCExperience;\n  layoutMode: EmbedLayoutMode;\n  hideExperienceName?: boolean;\n  showUploadWebPartButton?: boolean;\n  labelClass?: string;\n  controlClass?: string;\n\n  onExperiencePropsChanged?: (bcExperienceProps: Partial<BrightcoveExperienceProps>) => void;\n}\n\nexport interface ExperienceEmbedState {\n  isWebPartUploading: boolean;\n}\n","import * as React from 'react';\nimport * as ReactDOMServer from 'react-dom/server';\nimport { Button } from 'react-bootstrap';\nimport { CopyToClipboard, Spinner } from '../common';\nimport autobind from 'autobind-decorator';\n\nimport { BrightcovePlayerProps, BrightcovePlayer } from '../brightcove-player';\nimport { BrightcovePlayerControls } from '../brightcove-player';\n\nimport { SPUtility, SharePointApiGateway, SPAddinContext, SPEmbedUtil } from '../../services/sharepoint';\nimport { BCPlayer } from '@brightcove/video-cloud-sdk';\n\nimport * as FileSaver from 'file-saver';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDownload, faUpload } from '@fortawesome/free-solid-svg-icons';\nimport moment from 'moment';\nimport { EmbedLayoutMode } from './EmbedLayoutMode';\n\nexport class PlaylistEmbed extends React.Component<MiniPlaylistEmbedProps, MiniPlaylistEmbedState> {\n  constructor(props: MiniPlaylistEmbedProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isWebPartUploading: false\n    };\n  }\n\n  @autobind\n  handlePlayerPropsChanged(bcPlayerProps: Partial<BrightcovePlayerProps>) {\n    const { onPlayerPropsChanged } = this.props;\n\n    bcPlayerProps.embedCodeOverride = undefined;\n    if (onPlayerPropsChanged) {\n      onPlayerPropsChanged(bcPlayerProps);\n    }\n  }\n\n  @autobind\n  handleEmbedCodeChange(embedCodeInput: React.ChangeEvent<HTMLTextAreaElement>) {\n    const { onPlayerPropsChanged, bcPlayerProps } = this.props;\n\n    bcPlayerProps.embedCodeOverride = embedCodeInput.target.value;\n\n    if (onPlayerPropsChanged) {\n      onPlayerPropsChanged(bcPlayerProps);\n    }\n  }\n\n  @autobind\n  async addWebPartToPage() {\n    const { bcPlayerProps, spApiGateway, spAddinContext } = this.props;\n\n    if (!spApiGateway || !spAddinContext) {\n      return;\n    }\n\n    const embedCode = bcPlayerProps.embedCodeOverride || this.generatePlaylistEmbedCode();\n    await spApiGateway.spEmbedUtil.insertContentEditorWebPart(\n      spAddinContext.Referrer,\n      'Brightcove Playlist WebPart',\n      'Brightcove Web Part to embed an playlist onto a web part page.',\n      embedCode || 'An error occurred.'\n    );\n  }\n\n  getWebPartTitle() {\n    const { bcPlayerProps, playlistTitle } = this.props;\n\n    let webPartName = 'Brightcove Playlist WebPart';\n    if (playlistTitle) {\n      let embedType = 'javascript';\n      if (bcPlayerProps.embedType === 'Standard') {\n        embedType = 'iframe';\n      }\n\n      webPartName = `${playlistTitle}-${bcPlayerProps.accountId}-${bcPlayerProps.playerId}-${bcPlayerProps.modeId}-${embedType}`;\n    }\n\n    return webPartName;\n  }\n\n  @autobind\n  async uploadWebPartToGallery() {\n    const { bcPlayerProps, spApiGateway, spAddinContext } = this.props;\n\n    if (!spApiGateway || !spAddinContext) {\n      return;\n    }\n\n    this.setState({\n      isWebPartUploading: true\n    });\n\n    const embedCode = bcPlayerProps.embedCodeOverride || this.generatePlaylistEmbedCode();\n    const webPartTitle = this.getWebPartTitle();\n    const webPart = SPEmbedUtil.generateScriptEditorWebPart(webPartTitle, 'Adds a Brightcove Playlist Embed onto classic and modern pages.', embedCode || 'An error occurred.');\n\n    try {\n      const dt = moment();\n      const filename = `BrightcovePlaylist-${dt.format('YYYY-MM-DD')}-${dt.format('hh-mm-ss')}.webpart`;\n      await spApiGateway.spEmbedUtil.uploadWebPartToGallery(webPart, filename, 'Brightcove Playlists');\n    } catch (ex) {\n      // Do Nothing\n    }\n    SPUtility.closeParentDialog(true);\n  }\n\n  @autobind\n  downloadScriptEditorWebPart() {\n    const { bcPlayerProps } = this.props;\n\n    const embedCode = bcPlayerProps.embedCodeOverride || this.generatePlaylistEmbedCode();\n    const webPartTitle = this.getWebPartTitle();\n    const webPart = SPEmbedUtil.generateScriptEditorWebPart(webPartTitle, 'Adds a Brightcove Playlist Embed onto classic and modern pages.', embedCode || 'An error occurred.');\n\n    const dt = moment();\n    const filename = `BrightcovePlaylist-${dt.format('YYYY-MM-DD')}-${dt.format('hh-mm-ss')}.webpart`;\n    FileSaver.saveAs(new Blob([webPart], { type: 'text/plain;charset=utf-8' }), filename);\n  }\n\n  generatePlaylistEmbedCode() {\n    const { bcPlayerProps } = this.props;\n\n    const embedCode = ReactDOMServer.renderToStaticMarkup(<BrightcovePlayer {...(bcPlayerProps as BrightcovePlayerProps)} mode=\"Playlist\" />)\n      .replace(/&amp;/g, '&')\n      .replace(/%3A/g, ':');\n\n    return embedCode;\n  }\n\n  renderMini(playerPreviewUrl: string, embedCode: string) {\n    const { bcPlayerProps, defaultPlaylistPlayerId, retrieveAllPlayers, showUploadWebPartButton, doesEmbedHelperExist } = this.props;\n\n    const { isWebPartUploading } = this.state;\n\n    const labelClass = 'col-xs-3 control-label small';\n    const controlClass = 'col-xs-9';\n    bcPlayerProps.renderMode = 'Embed';\n\n    return (\n      <>\n        <div className=\"form-group\">\n          <label className={labelClass}>Preview in browser</label>\n          <div className={controlClass + ' word-wrap'}>\n            <a href={playerPreviewUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n              {playerPreviewUrl}\n            </a>\n          </div>\n        </div>\n        <BrightcovePlayerControls\n          retrieveAllPlayers={retrieveAllPlayers}\n          defaultPlayerId={defaultPlaylistPlayerId}\n          playerType=\"Playlist\"\n          renderMode=\"Embed\"\n          labelClass={labelClass}\n          controlClass={controlClass}\n          formControlClass=\"input-sm small\"\n          whClass=\"col-xs-6\"\n          showEmbedCustomizations={true}\n          showAdvancedEmbedCustomizations={true}\n          bcPlayerProps={bcPlayerProps}\n          onPlayerPropsChanged={this.handlePlayerPropsChanged}\n        />\n        <div className=\"col-xs-12 small\">\n          <div>Brightcove Snippet (Paste to Script Editor web part or publishing zone):</div>\n          <textarea id=\"embedCode\" style={{ width: '100%', height: '70px', wordBreak: 'break-all' }} value={embedCode} spellCheck={false} onChange={this.handleEmbedCodeChange} />\n          <CopyToClipboard />\n          <Button className=\"pull-right\" bsSize=\"small\" style={{ margin: '2px' }} onClick={this.downloadScriptEditorWebPart}>\n            <FontAwesomeIcon icon={faDownload} /> Download Web Part\n          </Button>\n          {isWebPartUploading && <Spinner loadingText=\"Uploading...\" />}\n          {showUploadWebPartButton === true && !isWebPartUploading && (\n            <Button\n              className=\"pull-right\"\n              bsSize=\"small\"\n              style={{ margin: '2px' }}\n              disabled={!doesEmbedHelperExist}\n              onClick={this.uploadWebPartToGallery}\n              title={doesEmbedHelperExist ? '' : 'Unable to upload web part as the Brightcove Embed Helper is not installed.'}\n            >\n              <FontAwesomeIcon icon={faUpload} /> Upload Web Part to Gallery\n            </Button>\n          )}\n        </div>\n        <div className=\"col-xs-12 small\" style={{ paddingTop: '5px' }}>\n          <Button className=\"pull-right\" bsSize=\"small\" onClick={() => SPUtility.closeParentDialog(false)}>\n            Close Dialog\n          </Button>\n        </div>\n      </>\n    );\n  }\n\n  renderPart(playerPreviewUrl: string, embedCode: string) {\n    const { bcPlayerProps, defaultPlaylistPlayerId, retrieveAllPlayers } = this.props;\n\n    const labelClass = 'col-xs-3 control-label small';\n    const controlClass = 'col-xs-9';\n\n    bcPlayerProps.renderMode = 'Part';\n\n    return (\n      <>\n        <div className=\"form-group\">\n          <label className={labelClass}>Preview in browser</label>\n          <div className={controlClass + ' word-wrap'}>\n            <a href={playerPreviewUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n              {playerPreviewUrl}\n            </a>\n          </div>\n        </div>\n        <BrightcovePlayerControls\n          retrieveAllPlayers={retrieveAllPlayers}\n          defaultPlayerId={defaultPlaylistPlayerId}\n          playerType=\"Playlist\"\n          renderMode=\"Part\"\n          labelClass={labelClass}\n          controlClass={controlClass}\n          formControlClass=\"input-sm small\"\n          whClass=\"col-xs-6\"\n          showEmbedCustomizations={true}\n          showAdvancedEmbedCustomizations={true}\n          bcPlayerProps={bcPlayerProps}\n          onPlayerPropsChanged={this.handlePlayerPropsChanged}\n        />\n        <div className=\"col-xs-12\" style={{ padding: '0' }}>\n          <label>Brightcove Snippet (Edit to customize Playlist embed code)</label>\n        </div>\n        <div className=\"col-xs-12\" style={{ padding: '0' }}>\n          <textarea id=\"embedCode\" style={{ width: '100%', height: '70px', wordBreak: 'break-all' }} value={embedCode} spellCheck={false} onChange={this.handleEmbedCodeChange} />\n          <CopyToClipboard />\n        </div>\n      </>\n    );\n  }\n\n  renderFull(playerPreviewUrl: string, embedCode: string) {\n    const { bcPlayerProps, defaultPlaylistPlayerId, retrieveAllPlayers } = this.props;\n\n    bcPlayerProps.renderMode = 'Full';\n\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"form-group\">\n            <div>\n              <iframe\n                title=\"player embed\"\n                style={{ width: '100%', height: '400px' }}\n                src={`//players.brightcove.net/${bcPlayerProps.accountId}/${bcPlayerProps.playerId ? bcPlayerProps.playerId : 'default'}_default/index.html?playlistId=${bcPlayerProps.modeId}`}\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label>Preview in browser</label>\n            <div>\n              <a href={playerPreviewUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                {playerPreviewUrl}\n              </a>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <h4>Copy Code</h4>\n            <div>Copy the appropriate code below and paste it into your web page or app.</div>\n            <textarea id=\"embedCode\" style={{ width: '100%', height: '300px', wordBreak: 'break-all' }} value={embedCode} spellCheck={false} onChange={this.handleEmbedCodeChange} />\n            <CopyToClipboard />\n            <Button className=\"pull-right\" bsSize=\"small\" style={{ margin: '2px' }} onClick={this.downloadScriptEditorWebPart}>\n              <FontAwesomeIcon icon={faDownload} /> Download Web Part\n            </Button>\n          </div>\n          <div className=\"col-md-6\">\n            Change Player Size\n            <br />\n            <br />\n            <BrightcovePlayerControls\n              retrieveAllPlayers={retrieveAllPlayers}\n              defaultPlayerId={defaultPlaylistPlayerId}\n              playerType=\"Playlist\"\n              renderMode=\"Full\"\n              bcPlayerProps={bcPlayerProps}\n              showEmbedCustomizations={true}\n              showAdvancedEmbedCustomizations={true}\n              onPlayerPropsChanged={this.handlePlayerPropsChanged}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  render() {\n    const { bcPlayerProps, layoutMode } = this.props;\n\n    const playerPreviewUrl = `https://players.brightcove.net/${bcPlayerProps.accountId}/${bcPlayerProps.playerId}_default/index.html?playlistId=${bcPlayerProps.modeId}`;\n    const embedCode = bcPlayerProps.embedCodeOverride || this.generatePlaylistEmbedCode();\n\n    return (\n      <>\n        {(() => {\n          switch (layoutMode) {\n            case 'Mini':\n              return this.renderMini(playerPreviewUrl, embedCode);\n            case 'Part':\n              return this.renderPart(playerPreviewUrl, embedCode);\n            default:\n              return this.renderFull(playerPreviewUrl, embedCode);\n          }\n        })()}\n      </>\n    );\n  }\n}\n\nexport interface MiniPlaylistEmbedProps {\n  bcPlayerProps: Partial<BrightcovePlayerProps>;\n  playlistTitle: string;\n  defaultPlaylistPlayerId: string;\n  layoutMode: EmbedLayoutMode;\n\n  spAddinContext?: SPAddinContext;\n  spApiGateway?: SharePointApiGateway;\n  doesEmbedHelperExist?: boolean;\n  showUploadWebPartButton?: boolean;\n\n  retrieveAllPlayers: (accountId: string) => Promise<BCPlayer[]>;\n  onPlayerPropsChanged?: (bcPlayerProps: Partial<BrightcovePlayerProps>) => void;\n}\n\nexport interface MiniPlaylistEmbedState {\n  isWebPartUploading: boolean;\n}\n","import * as React from 'react';\nimport * as ReactDOMServer from 'react-dom/server';\nimport { Button } from 'react-bootstrap';\nimport { CopyToClipboard, Spinner } from '../common';\nimport autobind from 'autobind-decorator';\n\nimport { BrightcovePlayerProps, BrightcovePlayer } from '../brightcove-player';\nimport { BrightcovePlayerControls } from '../brightcove-player';\nimport { BrightcovePreview } from '../brightcove-preview';\n\nimport { SPUtility, SPAddinContext, SharePointApiGateway, SPEmbedUtil } from '../../services/sharepoint';\nimport { BCPlayer } from '@brightcove/video-cloud-sdk';\n\nimport * as FileSaver from 'file-saver';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDownload, faUpload } from '@fortawesome/free-solid-svg-icons';\nimport moment from 'moment';\nimport { EmbedLayoutMode } from './EmbedLayoutMode';\n\nexport class VideoEmbed extends React.Component<MiniVideoEmbedProps, MiniVideoEmbedState> {\n  constructor(props: MiniVideoEmbedProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isWebPartUploading: false\n    };\n  }\n\n  @autobind\n  handlePlayerPropsChanged(bcPlayerProps: Partial<BrightcovePlayerProps>) {\n    const { onPlayerPropsChanged } = this.props;\n\n    bcPlayerProps.embedCodeOverride = undefined;\n    if (onPlayerPropsChanged) {\n      onPlayerPropsChanged(bcPlayerProps);\n    }\n  }\n\n  @autobind\n  handleEmbedCodeChange(embedCodeInput: React.ChangeEvent<HTMLTextAreaElement>) {\n    const { onPlayerPropsChanged, bcPlayerProps } = this.props;\n    bcPlayerProps.embedCodeOverride = embedCodeInput.target.value;\n\n    if (onPlayerPropsChanged) {\n      onPlayerPropsChanged(bcPlayerProps);\n    }\n  }\n\n  @autobind\n  async addWebPartToPage() {\n    const { bcPlayerProps, spApiGateway, spAddinContext } = this.props;\n\n    if (!spApiGateway || !spAddinContext) {\n      return;\n    }\n\n    const embedCode = bcPlayerProps.embedCodeOverride || this.generateVideoEmbedCode();\n    await spApiGateway.spEmbedUtil.insertContentEditorWebPart(\n      spAddinContext.Referrer,\n      'Brightcove Video WebPart',\n      'Brightcove Web Part to embed a video onto a web part page.',\n      embedCode || 'An error occurred.'\n    );\n  }\n\n  @autobind\n  async takeSnapshot() {\n    const embedElement = window.document.getElementById('bcEmbedPreview');\n    if (!embedElement) {\n      return;\n    }\n\n    const videoElement = embedElement.querySelector('video') as HTMLVideoElement;\n\n    const newCanvasElement = document.createElement('canvas');\n    newCanvasElement.width = videoElement.clientWidth;\n    newCanvasElement.height = videoElement.clientHeight;\n\n    const ctx = newCanvasElement.getContext('2d');\n    if (ctx) {\n      ctx.drawImage(videoElement, 0, 0, newCanvasElement.width, newCanvasElement.height);\n      newCanvasElement.toBlob(blob => {\n        if (!blob) {\n          return;\n        }\n        FileSaver.saveAs(blob, 'imageData.png');\n      });\n    }\n  }\n\n  getWebPartTitle() {\n    const { bcPlayerProps, videoTitle } = this.props;\n\n    let webPartName = 'Brightcove Video WebPart';\n    if (videoTitle) {\n      let embedType = 'javascript';\n      if (bcPlayerProps.embedType === 'Standard') {\n        embedType = 'iframe';\n      }\n\n      webPartName = `${videoTitle}-${bcPlayerProps.accountId}-${bcPlayerProps.playerId}-${bcPlayerProps.modeId}-${embedType}`;\n    }\n\n    return webPartName;\n  }\n\n  @autobind\n  async uploadWebPartToGallery() {\n    const { bcPlayerProps, spApiGateway, spAddinContext } = this.props;\n\n    if (!spApiGateway || !spAddinContext) {\n      return;\n    }\n\n    this.setState({\n      isWebPartUploading: true\n    });\n\n    const embedCode = bcPlayerProps.embedCodeOverride || this.generateVideoEmbedCode();\n    const webPartTitle = this.getWebPartTitle();\n    const webPart = SPEmbedUtil.generateScriptEditorWebPart(webPartTitle, 'Adds a Brightcove Video Embed onto classic and modern pages.', embedCode || 'An error occurred.');\n\n    try {\n      const dt = moment();\n      const filename = `BrightcoveVideo-${dt.format('YYYY-MM-DD')}-${dt.format('hh-mm-ss')}.webpart`;\n      await spApiGateway.spEmbedUtil.uploadWebPartToGallery(webPart, filename, 'Brightcove Videos');\n    } catch (ex) {\n      // Do Nothing.\n    }\n\n    SPUtility.closeParentDialog(true);\n  }\n\n  @autobind\n  downloadScriptEditorWebPart() {\n    const { bcPlayerProps } = this.props;\n\n    const embedCode = bcPlayerProps.embedCodeOverride || this.generateVideoEmbedCode();\n    const webPartTitle = this.getWebPartTitle();\n    const webPart = SPEmbedUtil.generateScriptEditorWebPart(webPartTitle, 'Adds a Brightcove Video Embed onto classic and modern pages.', embedCode || 'An error occurred.');\n\n    const dt = moment();\n    const filename = `BrightcoveVideo-${dt.format('YYYY-MM-DD')}-${dt.format('hh-mm-ss')}.webpart`;\n    FileSaver.saveAs(new Blob([webPart], { type: 'text/plain;charset=utf-8' }), filename);\n  }\n\n  generateVideoEmbedCode() {\n    const { bcPlayerProps } = this.props;\n\n    const embedCode = ReactDOMServer.renderToStaticMarkup(<BrightcovePlayer {...(bcPlayerProps as BrightcovePlayerProps)} mode=\"Video\" />)\n      .replace(/&amp;/g, '&')\n      .replace(/%3A/g, ':');\n\n    return embedCode;\n  }\n\n  renderMini(playerPreviewUrl: string, embedCode: string) {\n    const { bcPlayerProps, defaultVideoPlayerId, retrieveAllPlayers, showUploadWebPartButton, doesEmbedHelperExist } = this.props;\n\n    const { isWebPartUploading } = this.state;\n\n    const labelClass = 'col-xs-3 control-label small';\n    const controlClass = 'col-xs-9';\n    bcPlayerProps.renderMode = 'Embed';\n\n    return (\n      <>\n        <div className=\"form-group\">\n          <label className={labelClass}>Preview in browser</label>\n          <div className={controlClass + ' word-wrap'}>\n            <a href={playerPreviewUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n              {playerPreviewUrl}\n            </a>\n          </div>\n        </div>\n        <BrightcovePlayerControls\n          retrieveAllPlayers={retrieveAllPlayers}\n          defaultPlayerId={defaultVideoPlayerId}\n          playerType=\"Video\"\n          renderMode=\"Embed\"\n          labelClass={labelClass}\n          controlClass={controlClass}\n          formControlClass=\"input-sm small\"\n          whClass=\"col-xs-6\"\n          showEmbedCustomizations={true}\n          showAdvancedEmbedCustomizations={true}\n          bcPlayerProps={bcPlayerProps}\n          onPlayerPropsChanged={this.handlePlayerPropsChanged}\n        />\n        <div className=\"col-xs-12 small\">\n          <div>Brightcove Snippet (Paste to Script Editor web part or publishing zone):</div>\n          <textarea id=\"embedCode\" style={{ width: '100%', height: '65px', wordBreak: 'break-all' }} value={embedCode} spellCheck={false} onChange={this.handleEmbedCodeChange} />\n          <CopyToClipboard />\n          <Button className=\"pull-right\" bsSize=\"small\" style={{ margin: '2px' }} onClick={this.downloadScriptEditorWebPart}>\n            <FontAwesomeIcon icon={faDownload} />\n            &nbsp;Download Web Part\n          </Button>\n          {isWebPartUploading && <Spinner loadingText=\"Uploading...\" />}\n          {showUploadWebPartButton === true && !isWebPartUploading && (\n            <Button\n              className=\"pull-right\"\n              bsSize=\"small\"\n              style={{ margin: '2px' }}\n              disabled={!doesEmbedHelperExist}\n              onClick={this.uploadWebPartToGallery}\n              title={doesEmbedHelperExist ? '' : 'Unable to upload web part as the Brightcove Embed Helper is not installed.'}\n            >\n              <FontAwesomeIcon icon={faUpload} />\n              &nbsp;Upload Web Part to Gallery\n            </Button>\n          )}\n        </div>\n        <div className=\"col-xs-12 small\" style={{ paddingTop: '5px' }}>\n          <Button className=\"pull-right\" bsSize=\"small\" onClick={() => SPUtility.closeParentDialog(false)}>\n            Close Dialog\n          </Button>\n        </div>\n      </>\n    );\n  }\n\n  renderPart(playerPreviewUrl: string, embedCode: string) {\n    const { bcPlayerProps, defaultVideoPlayerId, retrieveAllPlayers } = this.props;\n\n    const labelClass = 'col-xs-3 control-label small';\n    const controlClass = 'col-xs-9';\n    bcPlayerProps.renderMode = 'Part';\n\n    return (\n      <>\n        <div className=\"form-group\">\n          <label className={labelClass}>Preview in browser</label>\n          <div className={controlClass + ' word-wrap'}>\n            <a href={playerPreviewUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n              {playerPreviewUrl}\n            </a>\n          </div>\n        </div>\n        <BrightcovePlayerControls\n          retrieveAllPlayers={retrieveAllPlayers}\n          defaultPlayerId={defaultVideoPlayerId}\n          playerType=\"Video\"\n          renderMode=\"Part\"\n          labelClass={labelClass}\n          controlClass={controlClass}\n          formControlClass=\"input-sm small\"\n          whClass=\"col-xs-6\"\n          showEmbedCustomizations={true}\n          showAdvancedEmbedCustomizations={false}\n          bcPlayerProps={bcPlayerProps}\n          onPlayerPropsChanged={this.handlePlayerPropsChanged}\n        />\n        <div className=\"col-xs-12\" style={{ padding: '0' }}>\n          <label>Brightcove Snippet (Edit to customize Playlist embed code)</label>\n        </div>\n        <div className=\"col-xs-12\" style={{ padding: '0' }}>\n          <textarea id=\"embedCode\" style={{ width: '100%', height: '65px', wordBreak: 'break-all' }} value={embedCode} spellCheck={false} onChange={this.handleEmbedCodeChange} />\n          <CopyToClipboard />\n        </div>\n      </>\n    );\n  }\n\n  renderFull(playerPreviewUrl: string, embedCode: string) {\n    const { bcPlayerProps, defaultVideoPlayerId, retrieveAllPlayers, spAddinContext } = this.props;\n\n    bcPlayerProps.renderMode = 'Full';\n\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"form-group\">\n            <div id=\"bcEmbedPreview\">\n              {bcPlayerProps.accountId && bcPlayerProps.modeId && spAddinContext && (\n                <BrightcovePreview accountId={bcPlayerProps.accountId} playerId={bcPlayerProps.playerId} videoId={bcPlayerProps.modeId} style={{ width: '100%', height: '400px' }} />\n              )}\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label>Preview in browser</label>\n            <div>\n              <a href={playerPreviewUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                {playerPreviewUrl}\n              </a>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <h4>Copy Code</h4>\n            <div>Copy the appropriate code below and paste it into your web page or app.</div>\n            <textarea id=\"embedCode\" style={{ width: '100%', height: '300px', wordBreak: 'break-all' }} value={embedCode} spellCheck={false} onChange={this.handleEmbedCodeChange} />\n            <CopyToClipboard />\n            <Button className=\"pull-right\" bsSize=\"small\" style={{ margin: '2px' }} onClick={this.downloadScriptEditorWebPart}>\n              <FontAwesomeIcon icon={faDownload} /> Download Web Part\n            </Button>\n          </div>\n          <div className=\"col-md-6\">\n            Change Player Size\n            <BrightcovePlayerControls\n              retrieveAllPlayers={retrieveAllPlayers}\n              defaultPlayerId={defaultVideoPlayerId}\n              playerType=\"Video\"\n              renderMode=\"Full\"\n              showEmbedCustomizations={true}\n              showAdvancedEmbedCustomizations={false}\n              bcPlayerProps={bcPlayerProps}\n              onPlayerPropsChanged={this.handlePlayerPropsChanged}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  render() {\n    const { bcPlayerProps, layoutMode } = this.props;\n\n    const playerPreviewUrl = `https://players.brightcove.net/${bcPlayerProps.accountId}/${bcPlayerProps.playerId}_default/index.html?videoId=${bcPlayerProps.modeId}`;\n    const embedCode = bcPlayerProps.embedCodeOverride || this.generateVideoEmbedCode();\n\n    return (\n      <>\n        {(() => {\n          switch (layoutMode) {\n            case 'Mini':\n              return this.renderMini(playerPreviewUrl, embedCode);\n            case 'Part':\n              return this.renderPart(playerPreviewUrl, embedCode);\n            default:\n              return this.renderFull(playerPreviewUrl, embedCode);\n          }\n        })()}\n      </>\n    );\n  }\n}\n\nexport interface MiniVideoEmbedProps {\n  bcPlayerProps: Partial<BrightcovePlayerProps>;\n  videoTitle: string;\n  defaultVideoPlayerId: string;\n  layoutMode: EmbedLayoutMode;\n\n  spAddinContext?: SPAddinContext;\n  spApiGateway?: SharePointApiGateway;\n  doesEmbedHelperExist?: boolean;\n  showUploadWebPartButton?: boolean;\n\n  retrieveAllPlayers: (accountId: string) => Promise<BCPlayer[]>;\n  onPlayerPropsChanged?: (bcPlayerProps: Partial<BrightcovePlayerProps>) => void;\n}\n\nexport interface MiniVideoEmbedState {\n  isWebPartUploading: boolean;\n}\n","import * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { BootstrapTable, TableHeaderColumn, SelectRow, Options } from 'react-bootstrap-table';\nimport autobind from 'autobind-decorator';\nimport { AccountPicker, Spinner } from '../common';\nimport { ExperienceEmbed, EmbedLayoutMode } from '../embeds';\n\nimport { BrightcoveAccount } from 'services';\nimport { SPUtility } from '../../services/sharepoint';\nimport { BCExperience } from '@brightcove/video-cloud-sdk';\nimport { BrightcoveExperienceProps, BrightcoveExperienceUtils } from '../brightcove-experience';\n\nimport URI from 'urijs';\nimport { filter } from 'lodash';\nimport { ConnectorContext } from '../../services/connector';\n\nexport class MiniExperiences extends React.Component<MiniExperiencesProps, MiniExperiencesState> {\n  constructor(props: MiniExperiencesProps, context?: any) {\n    super(props, context);\n\n    const bcExperienceProps = BrightcoveExperienceUtils.getDefaultBrightcoveExperienceProps();\n    bcExperienceProps.renderMode = 'Embed';\n    bcExperienceProps.sharepointVersion = props.connectorContext.spAddinContext.SPProductNumber;\n\n    this.state = {\n      experiencesFilter: '',\n      isLoadingExperiences: true,\n      allExperiences: [],\n      filteredExperiences: [],\n      showUploadWebPartButton: false,\n      bcExperienceProps\n    };\n  }\n\n  async UNSAFE_componentWillMount() {\n    const { connectorContext } = this.props;\n    const { bcExperienceProps } = this.state;\n    if (!bcExperienceProps.accountId && connectorContext.availableAccounts && connectorContext.availableAccounts.length > 0) {\n      bcExperienceProps.accountId = connectorContext.availableAccounts[0].accountId;\n    }\n\n    this.loadExperiences(bcExperienceProps.accountId || '');\n\n    this.setState({\n      bcExperienceProps,\n      showUploadWebPartButton: connectorContext.doesEmbedHelperExist === true\n    });\n  }\n\n  async loadExperiences(accountId: string) {\n    const { connectorContext } = this.props;\n\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingExperiences: true,\n      experiencesFilter: ''\n    });\n\n    const experiencesApi = connectorContext.bcApiGateway.experiencesApi;\n    const experiencesResponse = await experiencesApi.getExperiences(accountId);\n\n    this.setState({\n      isLoadingExperiences: false,\n      allExperiences: experiencesResponse.items,\n      filteredExperiences: experiencesResponse.items\n    });\n  }\n\n  @autobind\n  async handleAccountChange(newAccount: BrightcoveAccount) {\n    const { bcExperienceProps } = this.state;\n\n    if (bcExperienceProps.accountId !== newAccount.accountId) {\n      bcExperienceProps.accountId = newAccount.accountId;\n      this.setState({\n        bcExperienceProps\n      });\n      this.loadExperiences(newAccount.accountId);\n    }\n  }\n\n  @autobind\n  handleExperiencesFilterChange(experiencesFilter: string) {\n    this.setState({\n      experiencesFilter\n    });\n\n    const { allExperiences } = this.state;\n    let filteredExperiences = allExperiences;\n    if (experiencesFilter) {\n      const strFilter = experiencesFilter.toLowerCase();\n      filteredExperiences = filter(filteredExperiences, ex => {\n        if (ex.name && ex.name.toLowerCase().indexOf(strFilter) > -1) {\n          return true;\n        }\n        return false;\n      });\n    }\n\n    this.setState({\n      filteredExperiences\n    });\n  }\n\n  @autobind\n  experienceSelected(experience: BCExperience, isSelected: boolean) {\n    const { bcExperienceProps } = this.state;\n    bcExperienceProps.embedCodeOverride = undefined;\n\n    let selectedExperience: BCExperience | undefined;\n    if (isSelected) {\n      selectedExperience = experience;\n      bcExperienceProps.experienceId = selectedExperience.id;\n    }\n    this.setState({\n      selectedExperience,\n      bcExperienceProps\n    });\n  }\n\n  @autobind\n  handleExperiencePropsChanged(bcExperienceProps: Partial<BrightcoveExperienceProps>) {\n    this.setState({\n      bcExperienceProps\n    });\n  }\n\n  @autobind\n  renderExperienceNameCell(cell: any, experience: BCExperience) {\n    let uri = URI(`${window.location.origin}${window.location.pathname}${window.location.search}`);\n    uri = uri.removeQuery('mini');\n    uri = uri.removeQuery('IsDlg');\n    uri.hash(`/${this.state.bcExperienceProps.accountId}/manage-experiences/${experience.id}/preview`);\n\n    return (\n      <>\n        <a className=\"small\" href={uri.toString()} target=\"_blank\" rel=\"noopener noreferrer\">\n          {experience.name}\n        </a>\n        <br />\n        <div className=\"small\">{experience.template}</div>\n        <div className=\"small\">{experience.id}</div>\n      </>\n    );\n  }\n\n  render() {\n    const { connectorContext } = this.props;\n\n    const { bcExperienceProps, experiencesFilter, isLoadingExperiences, filteredExperiences, selectedExperience, showUploadWebPartButton } = this.state;\n\n    const labelClass = 'col-xs-3 control-label small';\n    const controlClass = 'col-xs-9 word-wrap small';\n\n    const selectRow: SelectRow = {\n      mode: 'radio',\n      clickToSelect: true,\n      className: 'info',\n      onSelect: this.experienceSelected\n    };\n\n    const experienceTableOptions: Options = {\n      defaultSortName: 'updatedAt', // default sort column name\n      defaultSortOrder: 'desc' // default sort order\n    };\n\n    return (\n      <div className=\"form-horizontal\">\n        <div className=\"form-group\">\n          <label className={labelClass}>Brightcove Account:</label>\n          <div className={controlClass}>\n            <AccountPicker className=\"input-sm\" availableAccounts={connectorContext.availableAccounts} selectedAccountId={bcExperienceProps.accountId} onChange={this.handleAccountChange} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className={labelClass}>Experiences Filter:</label>\n          <div className={controlClass}>\n            <div className=\"input-group\">\n              <input type=\"search\" placeholder=\"Search\" className=\"form-control input-sm\" value={experiencesFilter} onChange={e => this.handleExperiencesFilterChange(e.target.value)} />\n              <div className=\"input-group-btn searchButton\">\n                <Button bsSize=\"small\">\n                  &nbsp;\n                  <i className=\"glyphicon glyphicon-search\" />\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n        {isLoadingExperiences && bcExperienceProps.accountId && <Spinner loadingText=\"Loading Experiences...\" />}\n        {!isLoadingExperiences && bcExperienceProps.accountId && (\n          <>\n            <div className=\"well\">\n              <BootstrapTable data={filteredExperiences} striped={true} bordered={false} selectRow={selectRow} options={experienceTableOptions} height=\"250\">\n                <TableHeaderColumn dataField=\"name\" dataFormat={this.renderExperienceNameCell} dataSort={true}>\n                  Name\n                </TableHeaderColumn>\n                <TableHeaderColumn dataField=\"description\" dataSort={true} hidden={true}>\n                  Short Description\n                </TableHeaderColumn>\n                <TableHeaderColumn dataField=\"updatedAt\" dataSort={true} hidden={true}>\n                  Updated At\n                </TableHeaderColumn>\n                <TableHeaderColumn dataField=\"id\" dataSort={true} isKey={true} hidden={true}>\n                  ID\n                </TableHeaderColumn>\n              </BootstrapTable>\n              <hr />\n            </div>\n            <ExperienceEmbed\n              bcExperienceProps={bcExperienceProps}\n              layoutMode={EmbedLayoutMode.Mini}\n              connectorContext={connectorContext}\n              experience={selectedExperience}\n              hideExperienceName={true}\n              labelClass={labelClass}\n              controlClass={controlClass}\n              showUploadWebPartButton={showUploadWebPartButton}\n              onExperiencePropsChanged={this.handleExperiencePropsChanged}\n            />\n            <div className=\"col-xs-12 small\" style={{ paddingTop: '5px' }}>\n              <Button className=\"pull-right\" bsSize=\"small\" style={{ margin: '2px' }} onClick={() => SPUtility.closeParentDialog(false)}>\n                Close Dialog\n              </Button>\n            </div>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\ninterface MiniExperiencesProps {\n  connectorContext: ConnectorContext;\n}\n\ninterface MiniExperiencesState {\n  bcExperienceProps: Partial<BrightcoveExperienceProps>;\n  selectedExperience?: BCExperience;\n  experiencesFilter: string;\n  isLoadingExperiences: boolean;\n  allExperiences: Array<BCExperience>;\n  filteredExperiences: Array<BCExperience>;\n  showUploadWebPartButton: boolean;\n}\n","import * as React from 'react';\nimport { BootstrapTable, TableHeaderColumn, SelectRow } from 'react-bootstrap-table';\nimport { AccountPicker, Spinner } from '../common';\n\nimport { BrightcovePlayerProps, BrightcovePlayerUtils } from '../brightcove-player';\nimport { PlaylistSearchControls } from '../manage-playlists';\nimport { PlaylistSearchParameters, getDefaultPlaylistSearchParameters, SortOrder, PlaylistSortField } from '../../services/connector';\nimport { PlaylistEmbed, EmbedLayoutMode } from '../embeds';\n\nimport autobind from 'autobind-decorator';\n\nimport { BrightcoveAccount } from 'services';\nimport { BCPlaylist, BCGetPlaylistsParams } from '@brightcove/video-cloud-sdk';\nimport { ConnectorContext } from '../../services/connector';\n\nimport URI from 'urijs';\nimport { find } from 'lodash';\n\nexport class MiniPlaylists extends React.Component<MiniPlaylistsProps, MiniPlaylistsState> {\n  constructor(props: MiniPlaylistsProps, context?: any) {\n    super(props, context);\n\n    const bcPlayerProps = BrightcovePlayerUtils.getDefaultBrightcovePlaylistProps();\n    bcPlayerProps.sharepointVersion = this.props.connectorContext.spAddinContext.SPProductNumber;\n\n    this.state = {\n      bcPlayerProps,\n      searchParameters: getDefaultPlaylistSearchParameters(),\n      isLoadingPlaylists: false,\n      playlists: [],\n      defaultPlaylistPlayerId: '',\n      showUploadWebPartButton: false\n    };\n  }\n\n  async UNSAFE_componentWillMount() {\n    const { connectorContext } = this.props;\n    const { bcPlayerProps } = this.state;\n    if (!bcPlayerProps.accountId && connectorContext.availableAccounts && connectorContext.availableAccounts.length > 0) {\n      bcPlayerProps.accountId = connectorContext.availableAccounts[0].accountId;\n    }\n\n    const selectedAccount = find(connectorContext.availableAccounts, account => {\n      return account.accountId === bcPlayerProps.accountId;\n    });\n    if (selectedAccount) {\n      this.setState({\n        defaultPlaylistPlayerId: selectedAccount.defaultPlaylistPlayerId\n      });\n    }\n\n    this.searchForPlaylists(bcPlayerProps.accountId || '', this.state.searchParameters);\n\n    this.setState({\n      bcPlayerProps,\n      showUploadWebPartButton: connectorContext.doesEmbedHelperExist === true\n    });\n  }\n\n  @autobind\n  async searchForPlaylists(accountId: string, searchParams: Partial<PlaylistSearchParameters>): Promise<void> {\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingPlaylists: true\n    });\n\n    const { bcApiGateway } = this.props.connectorContext;\n    const playlistsApi = bcApiGateway.playlistsApi;\n\n    // Map search params to 'q'\n    const bcParams: BCGetPlaylistsParams = {\n      limit: searchParams.searchLimit || 45,\n      sort: searchParams.sortOrder === SortOrder.Descending ? '-' : '',\n      q: searchParams.searchTerms ? `+\"${searchParams.searchTerms}\"` : ''\n    };\n\n    switch (searchParams.sortField) {\n      case PlaylistSortField.DisplayName:\n        bcParams.sort += 'name';\n        break;\n      case PlaylistSortField.ModifiedDate:\n        bcParams.sort += 'updated_at';\n        break;\n      default:\n        // Do nothing.\n        break;\n    }\n\n    const playlists = await playlistsApi.getPlaylists(accountId, bcParams);\n\n    this.setState({\n      isLoadingPlaylists: false,\n      playlists\n    });\n  }\n\n  @autobind\n  async handleAccountChange(newAccount: BrightcoveAccount) {\n    const { bcPlayerProps } = this.state;\n\n    if (bcPlayerProps.accountId !== newAccount.accountId) {\n      bcPlayerProps.accountId = newAccount.accountId;\n      this.setState({\n        bcPlayerProps\n      });\n      this.searchForPlaylists(bcPlayerProps.accountId || '', this.state.searchParameters);\n    }\n  }\n\n  @autobind\n  handlePlayerEmbedCodeChanged(bcPlayerProps: Partial<BrightcovePlayerProps>) {\n    this.setState({\n      bcPlayerProps\n    });\n  }\n\n  @autobind\n  handleSearchParametersChanged(searchParameters: Partial<PlaylistSearchParameters>, fieldChanged?: string) {\n    const { bcPlayerProps } = this.state;\n\n    this.setState({\n      searchParameters\n    });\n\n    if (fieldChanged !== 'searchTerms') {\n      this.searchForPlaylists(bcPlayerProps.accountId || '', searchParameters);\n    }\n  }\n\n  @autobind\n  playlistSelected(playlist: BCPlaylist, isSelected: boolean) {\n    const { bcPlayerProps } = this.state;\n    bcPlayerProps.embedCodeOverride = undefined;\n\n    let selectedPlaylist: BCPlaylist | undefined;\n    if (isSelected) {\n      selectedPlaylist = playlist;\n      bcPlayerProps.modeId = selectedPlaylist.id;\n    }\n    this.setState({\n      selectedPlaylist,\n      bcPlayerProps\n    });\n  }\n\n  @autobind\n  renderPlaylistNameCell(cell: any, playlist: BCPlaylist) {\n    const { bcPlayerProps } = this.state;\n    let uri = URI(`${window.location.origin}${window.location.pathname}${window.location.search}`);\n    uri = uri.removeQuery('mini');\n    uri = uri.removeQuery('IsDlg');\n    uri.hash(`/${bcPlayerProps.accountId}/manage-playlists/${playlist.id}/edit`);\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <a className=\"small\" href={uri.toString()} target=\"_blank\" rel=\"noopener noreferrer\">\n            {playlist.name}\n          </a>\n          <div className=\"small\">{playlist.id}</div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { connectorContext } = this.props;\n\n    const { bcPlayerProps, searchParameters, isLoadingPlaylists, playlists, defaultPlaylistPlayerId, selectedPlaylist, showUploadWebPartButton } = this.state;\n\n    const labelClass = 'col-xs-3 control-label small';\n    const controlClass = 'col-xs-9';\n\n    const selectRow: SelectRow = {\n      mode: 'radio',\n      clickToSelect: true,\n      className: 'info',\n      onSelect: this.playlistSelected\n    };\n\n    return (\n      <div className=\"form-horizontal\">\n        <div className=\"form-group\">\n          <label className={labelClass}>Brightcove Account:</label>\n          <div className={controlClass}>\n            <AccountPicker className=\"input-sm\" availableAccounts={connectorContext.availableAccounts} selectedAccountId={bcPlayerProps.accountId} onChange={this.handleAccountChange} />\n          </div>\n        </div>\n        <PlaylistSearchControls\n          accountId={bcPlayerProps.accountId || ''}\n          labelClass={labelClass}\n          controlClass={controlClass}\n          formControlClass=\"input-xs small\"\n          searchParameters={searchParameters}\n          onSearchParametersChanged={this.handleSearchParametersChanged}\n          onSearchForPlaylists={this.searchForPlaylists}\n        />\n        {isLoadingPlaylists && bcPlayerProps.accountId && <Spinner loadingText=\"Loading Playlists...\" />}\n        {!isLoadingPlaylists && bcPlayerProps.accountId && (\n          <div className=\"well\">\n            <BootstrapTable data={playlists} striped={true} bordered={false} selectRow={selectRow} height=\"250\">\n              <TableHeaderColumn dataField=\"name\" dataFormat={this.renderPlaylistNameCell}>\n                Playlist\n              </TableHeaderColumn>\n              <TableHeaderColumn dataField=\"id\" isKey={true} hidden={true}>\n                ID\n              </TableHeaderColumn>\n            </BootstrapTable>\n            <hr />\n          </div>\n        )}\n        {!isLoadingPlaylists && bcPlayerProps.accountId && selectedPlaylist && (\n          <PlaylistEmbed\n            layoutMode={EmbedLayoutMode.Mini}\n            bcPlayerProps={bcPlayerProps}\n            playlistTitle={selectedPlaylist.name}\n            defaultPlaylistPlayerId={defaultPlaylistPlayerId}\n            doesEmbedHelperExist={connectorContext.doesEmbedHelperExist}\n            spAddinContext={connectorContext.spAddinContext}\n            spApiGateway={connectorContext.spApiGateway}\n            showUploadWebPartButton={showUploadWebPartButton}\n            retrieveAllPlayers={connectorContext.retrieveAllPlayers}\n            onPlayerPropsChanged={this.handlePlayerEmbedCodeChanged}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\ninterface MiniPlaylistsProps {\n  connectorContext: ConnectorContext;\n}\n\ninterface MiniPlaylistsState {\n  bcPlayerProps: Partial<BrightcovePlayerProps>;\n  searchParameters: Partial<PlaylistSearchParameters>;\n\n  isLoadingPlaylists: boolean;\n  playlists: Array<BCPlaylist>;\n  selectedPlaylist?: BCPlaylist;\n  defaultPlaylistPlayerId: string;\n  showUploadWebPartButton: boolean;\n}\n","import * as React from 'react';\nimport { BootstrapTable, TableHeaderColumn, SelectRow } from 'react-bootstrap-table';\nimport { AccountPicker, Spinner } from '../common';\nimport { BrightcovePlayerProps, BrightcovePlayerUtils } from '../brightcove-player';\nimport { VideoSearchControls } from '../manage-videos';\n\nimport { VideoSearchParameters, getDefaultVideoSearchParameters, SearchTarget } from '../../services/connector';\n\nimport autobind from 'autobind-decorator';\n\nimport { BrightcoveAccount } from 'services';\nimport { BCVideo } from '@brightcove/video-cloud-sdk';\nimport { ConnectorContext } from '../../services/connector';\nimport { VideoEmbed, EmbedLayoutMode } from '../embeds';\n\nimport URI from 'urijs';\nimport { find, filter, get } from 'lodash';\n\nexport class MiniVideos extends React.Component<MiniVideosProps, MiniVideosState> {\n  constructor(props: MiniVideosProps, context?: any) {\n    super(props, context);\n\n    const searchParameters = getDefaultVideoSearchParameters();\n    searchParameters.searchTarget = SearchTarget.VideoCloud;\n\n    const bcPlayerProps = BrightcovePlayerUtils.getDefaultBrightcovePlayerProps();\n    bcPlayerProps.mode = 'Video';\n    bcPlayerProps.sharepointVersion = this.props.connectorContext.spAddinContext.SPProductNumber;\n\n    this.state = {\n      bcPlayerProps,\n      searchParameters,\n      isLoadingVideos: false,\n      videos: [],\n      defaultVideoPlayerId: '',\n      showUploadWebPartButton: false\n    };\n  }\n\n  async UNSAFE_componentWillMount() {\n    const { connectorContext } = this.props;\n    const { bcPlayerProps } = this.state;\n    if (!bcPlayerProps.accountId && connectorContext.availableAccounts && connectorContext.availableAccounts.length > 0) {\n      bcPlayerProps.accountId = connectorContext.availableAccounts[0].accountId;\n    }\n\n    const selectedAccount = find(connectorContext.availableAccounts, account => {\n      return account.accountId === bcPlayerProps.accountId;\n    });\n    if (selectedAccount) {\n      this.setState({\n        defaultVideoPlayerId: selectedAccount.defaultVideoPlayerId\n      });\n    }\n\n    this.searchForVideos(bcPlayerProps.accountId || '', this.state.searchParameters);\n\n    this.setState({\n      bcPlayerProps,\n      showUploadWebPartButton: connectorContext.doesEmbedHelperExist === true\n    });\n  }\n\n  @autobind\n  async searchForVideos(accountId: string, searchParams: Partial<VideoSearchParameters>): Promise<void> {\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingVideos: true\n    });\n\n    const { connectorContext } = this.props;\n    const { bcApiGateway } = connectorContext;\n    const videosApi = bcApiGateway.videosApi;\n\n    const bcParams = connectorContext.getBCVideoSearchParams(searchParams);\n    let videos = await videosApi.getVideos(accountId, bcParams);\n\n    if (searchParams.folderId) {\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      videos = filter(videos, { folder_id: searchParams.folderId });\n    }\n\n    this.setState({\n      isLoadingVideos: false,\n      videos\n    });\n  }\n\n  @autobind\n  handleAccountChange(newAccount: BrightcoveAccount) {\n    const { bcPlayerProps } = this.state;\n\n    if (bcPlayerProps.accountId !== newAccount.accountId) {\n      bcPlayerProps.accountId = newAccount.accountId;\n      this.setState({\n        bcPlayerProps\n      });\n      this.searchForVideos(bcPlayerProps.accountId || '', this.state.searchParameters);\n    }\n  }\n\n  @autobind\n  handlePlayerEmbedCodeChanged(bcPlayerProps: Partial<BrightcovePlayerProps>) {\n    this.setState({\n      bcPlayerProps\n    });\n  }\n\n  @autobind\n  handleSearchParametersChanged(searchParameters: Partial<VideoSearchParameters>, fieldChanged?: string) {\n    const { bcPlayerProps } = this.state;\n\n    this.setState({\n      searchParameters\n    });\n\n    if (fieldChanged !== 'searchTerms') {\n      this.searchForVideos(bcPlayerProps.accountId || '', searchParameters);\n    }\n  }\n\n  @autobind\n  videoSelected(video: BCVideo, isSelected: boolean) {\n    const { bcPlayerProps } = this.state;\n    bcPlayerProps.embedCodeOverride = undefined;\n\n    let selectedVideo: BCVideo | undefined;\n    if (isSelected) {\n      selectedVideo = video;\n      bcPlayerProps.modeId = selectedVideo.id;\n    }\n    this.setState({\n      selectedVideo,\n      bcPlayerProps\n    });\n  }\n\n  @autobind\n  renderVideoNameCell(cell: any, video: BCVideo) {\n    const { bcPlayerProps } = this.state;\n\n    const thumbnailSrc = get(video, 'images.thumbnail.src');\n    let uri = URI(`${window.location.origin}${window.location.pathname}${window.location.search}`);\n    uri = uri.removeQuery('mini');\n    uri = uri.removeQuery('IsDlg');\n    uri.hash(`#/${bcPlayerProps.accountId}/manage-videos/${video.id}/edit/`);\n\n    return (\n      <div className=\"row\">\n        <img className=\"col-xs-2\" src={thumbnailSrc} alt=\"\" />\n        <div className=\"col-xs-10\">\n          <a className=\"small\" href={uri.toString()} target=\"_blank\" rel=\"noopener noreferrer\">\n            {video.name}\n          </a>\n          <div className=\"small\">{video.id}</div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { connectorContext } = this.props;\n\n    const { bcPlayerProps, searchParameters, isLoadingVideos, videos, defaultVideoPlayerId, selectedVideo, showUploadWebPartButton } = this.state;\n\n    const labelClass = 'col-xs-3 control-label small';\n    const controlClass = 'col-xs-9';\n\n    const selectRow: SelectRow = {\n      mode: 'radio',\n      clickToSelect: true,\n      className: 'info',\n      onSelect: this.videoSelected\n    };\n\n    return (\n      <div className=\"form-horizontal\">\n        <div className=\"form-group\">\n          <label className={labelClass}>Brightcove Account:</label>\n          <div className={controlClass}>\n            <AccountPicker className=\"input-sm\" availableAccounts={connectorContext.availableAccounts} selectedAccountId={bcPlayerProps.accountId} onChange={this.handleAccountChange} />\n          </div>\n        </div>\n        <VideoSearchControls\n          accountId={bcPlayerProps.accountId || ''}\n          connectorContext={connectorContext}\n          labelClass={labelClass}\n          controlClass={controlClass}\n          showSearchTarget={false}\n          formControlClass=\"input-sm small\"\n          searchParameters={searchParameters}\n          onSearchParametersChanged={this.handleSearchParametersChanged}\n          onSearchForVideos={this.searchForVideos}\n        />\n        {isLoadingVideos && bcPlayerProps.accountId && <Spinner loadingText=\"Loading Videos...\" />}\n        {!isLoadingVideos && bcPlayerProps.accountId && (\n          <div className=\"well\">\n            <BootstrapTable data={videos} striped={true} bordered={false} selectRow={selectRow} height=\"250\">\n              <TableHeaderColumn dataField=\"name\" dataFormat={this.renderVideoNameCell}>\n                Videos\n              </TableHeaderColumn>\n              <TableHeaderColumn dataField=\"id\" isKey={true} hidden={true}>\n                ID\n              </TableHeaderColumn>\n            </BootstrapTable>\n            <hr />\n          </div>\n        )}\n        {!isLoadingVideos && bcPlayerProps.accountId && selectedVideo && (\n          <VideoEmbed\n            layoutMode={EmbedLayoutMode.Mini}\n            bcPlayerProps={bcPlayerProps}\n            videoTitle={selectedVideo.name}\n            defaultVideoPlayerId={defaultVideoPlayerId}\n            doesEmbedHelperExist={connectorContext.doesEmbedHelperExist}\n            spAddinContext={connectorContext.spAddinContext}\n            spApiGateway={connectorContext.spApiGateway}\n            showUploadWebPartButton={showUploadWebPartButton}\n            retrieveAllPlayers={connectorContext.retrieveAllPlayers}\n            onPlayerPropsChanged={this.handlePlayerEmbedCodeChanged}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\ninterface MiniVideosProps {\n  connectorContext: ConnectorContext;\n}\n\ninterface MiniVideosState {\n  bcPlayerProps: Partial<BrightcovePlayerProps>;\n  searchParameters: Partial<VideoSearchParameters>;\n\n  isLoadingVideos: boolean;\n  videos: Array<BCVideo>;\n  defaultVideoPlayerId: string;\n  selectedVideo?: BCVideo;\n  showUploadWebPartButton: boolean;\n}\n","import * as React from 'react';\nimport { HashRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { LoadingProgress } from './components/common';\nimport { MiniExperiences } from './components/mini-experiences';\nimport { MiniPlaylists } from 'components/mini-playlists';\nimport { MiniVideos } from './components/mini-videos';\n\nimport { ConnectorContext } from './services/connector';\nimport URI from 'urijs';\n\nimport './Mini.css';\n\nexport class Mini extends React.Component<MiniProps, MiniState> {\n  constructor(props: MiniProps, context?: any) {\n    super(props, context);\n\n    const uri = URI();\n    const info = uri.query(true) as any;\n\n    this.state = {\n      isLoading: true,\n      isDialog: info.IsDlg === '1' ? true : false\n    };\n  }\n\n  async UNSAFE_componentWillMount() {\n    const { connectorContext } = this.props;\n\n    this.setState({\n      isLoading: true\n    });\n\n    await connectorContext.initialize();\n\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  render() {\n    const { connectorContext } = this.props;\n    const { isLoading, isDialog } = this.state;\n\n    const miniStyle: React.CSSProperties = {\n      width: '580px'\n    };\n\n    if (isDialog) {\n      miniStyle.width = '';\n      miniStyle.backgroundColor = 'initial';\n    }\n\n    if (isLoading) {\n      return (\n        <div className=\"mini\" style={miniStyle}>\n          <LoadingProgress loadingMessage=\"Loading Brightcove Mini...\" />\n        </div>\n      );\n    }\n\n    return (\n      <Router>\n        <div className=\"mini\" style={miniStyle}>\n          <Switch>\n            <Route path=\"/mini/videos\" exact={true}>\n              <MiniVideos connectorContext={connectorContext} />\n            </Route>\n            <Route path=\"/mini/playlists\" exact={true}>\n              <MiniPlaylists connectorContext={connectorContext} />\n            </Route>\n            <Route path=\"/mini/experiences\" exact={true}>\n              <MiniExperiences connectorContext={connectorContext} />\n            </Route>\n            <Redirect to=\"/\" />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\ninterface MiniProps {\n  connectorContext: ConnectorContext;\n  raiseError: (message: string, err?: Error) => boolean;\n}\n\ninterface MiniState {\n  isLoading: boolean;\n  isDialog: boolean;\n}\n","import * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { BootstrapTable, TableHeaderColumn, SelectRow } from 'react-bootstrap-table';\nimport { AccountPicker, Spinner } from '../common';\nimport { BrightcovePlayerProps } from '../brightcove-player';\nimport { VideoEmbed, EmbedLayoutMode } from '../embeds';\nimport { VideoSearchControls } from '../manage-videos';\n\nimport { BrightcoveAccount } from '../../services';\nimport { BCVideo } from '@brightcove/video-cloud-sdk';\nimport { ConnectorContext, VideoSearchParameters, getDefaultVideoSearchParameters, SearchTarget } from '../../services/connector';\n\nimport autobind from 'autobind-decorator';\nimport URI from 'urijs';\nimport { filter, get, find } from 'lodash';\n\nexport class EditPartVideo extends React.Component<EditPartPlayerProps, EditPartPlayerState> {\n  constructor(props: EditPartPlayerProps, context?: any) {\n    super(props, context);\n\n    const searchParameters = getDefaultVideoSearchParameters();\n    searchParameters.searchTarget = SearchTarget.VideoCloud;\n\n    const bcPlayerProps = props.playerProps;\n    bcPlayerProps.mode = 'Video';\n    bcPlayerProps.sharepointVersion = this.props.connectorContext.spAddinContext.SPProductNumber;\n\n    const uri = URI();\n    const info = uri.query(true) as { [key: string]: string };\n\n    this.state = {\n      bcPlayerProps,\n      searchParameters,\n      isLoadingVideos: false,\n      isSaving: false,\n      videos: [],\n      defaultVideoPlayerId: '',\n      webPartId: info.wpId\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    const { connectorContext } = this.props;\n    const { bcPlayerProps } = this.state;\n    if (!bcPlayerProps.accountId && connectorContext.availableAccounts && connectorContext.availableAccounts.length > 0) {\n      bcPlayerProps.accountId = connectorContext.availableAccounts[0].accountId;\n    }\n\n    const selectedAccount = find(connectorContext.availableAccounts, account => {\n      return account.accountId === bcPlayerProps.accountId;\n    });\n    if (selectedAccount) {\n      this.setState({\n        defaultVideoPlayerId: selectedAccount.defaultVideoPlayerId\n      });\n    }\n\n    this.searchForVideos(bcPlayerProps.accountId || '', this.state.searchParameters);\n\n    this.setState({\n      bcPlayerProps\n    });\n  }\n\n  @autobind\n  async searchForVideos(accountId: string, searchParams: Partial<VideoSearchParameters>): Promise<void> {\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingVideos: true\n    });\n\n    const { connectorContext } = this.props;\n    const { bcApiGateway } = connectorContext;\n    const { bcPlayerProps } = this.state;\n    const videosApi = bcApiGateway.videosApi;\n\n    const bcParams = connectorContext.getBCVideoSearchParams(searchParams);\n    let videos = await videosApi.getVideos(accountId, bcParams);\n\n    if (searchParams.folderId) {\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      videos = filter(videos, { folder_id: searchParams.folderId });\n    }\n\n    let selectedVideo: BCVideo | undefined;\n    if (bcPlayerProps.modeId) {\n      selectedVideo = find(videos, { id: bcPlayerProps.modeId });\n    }\n\n    this.setState({\n      isLoadingVideos: false,\n      selectedVideo,\n      videos\n    });\n  }\n\n  @autobind\n  handleAccountChange(newAccount: BrightcoveAccount) {\n    const { bcPlayerProps } = this.state;\n\n    if (bcPlayerProps.accountId !== newAccount.accountId) {\n      bcPlayerProps.accountId = newAccount.accountId;\n      this.setState({\n        bcPlayerProps\n      });\n      this.searchForVideos(bcPlayerProps.accountId || '', this.state.searchParameters);\n    }\n  }\n\n  @autobind\n  handleSearchParametersChanged(searchParameters: Partial<VideoSearchParameters>, fieldChanged?: string) {\n    this.setState({\n      searchParameters\n    });\n\n    if (fieldChanged !== 'searchTerms') {\n      this.searchForVideos(this.state.bcPlayerProps.accountId || '', searchParameters);\n    }\n  }\n\n  @autobind\n  handlePlayerPropsChanged(bcPlayerProps: Partial<BrightcovePlayerProps>) {\n    this.setState({\n      bcPlayerProps\n    });\n  }\n\n  @autobind\n  videoSelected(video: BCVideo, isSelected: boolean) {\n    const { bcPlayerProps } = this.state;\n    bcPlayerProps.embedCodeOverride = undefined;\n\n    let selectedVideo: BCVideo | undefined;\n    if (isSelected) {\n      selectedVideo = video;\n      bcPlayerProps.modeId = selectedVideo.id;\n    }\n\n    this.setState({\n      bcPlayerProps,\n      selectedVideo\n    });\n  }\n\n  @autobind\n  renderVideoNameCell(cell: any, video: BCVideo) {\n    const { bcPlayerProps } = this.state;\n\n    const thumbnailSrc = get(video, 'images.thumbnail.src');\n    let uri = URI(`${window.location.origin}${window.location.pathname.replace(/AppPartPage.aspx/i, 'Default.aspx')}${window.location.search}`);\n    uri = uri.removeQuery('part');\n    uri = uri.removeQuery('IsDlg');\n    uri.hash(`/${bcPlayerProps.accountId}/manage-videos/${video.id}/edit`);\n\n    return (\n      <div className=\"row\">\n        <img className=\"col-xs-2\" src={thumbnailSrc} alt=\"\" />\n        <div className=\"col-xs-10\">\n          <a className=\"small\" href={uri.toString()} target=\"_blank\" rel=\"noopener noreferrer\">\n            {video.name}\n          </a>\n          <div className=\"small\">{video.id}</div>\n        </div>\n      </div>\n    );\n  }\n\n  @autobind\n  async applyWebpartChanges() {\n    this.setState({\n      isSaving: true\n    });\n\n    const { connectorContext } = this.props;\n    const { spApiGateway } = connectorContext;\n    const { bcPlayerProps, selectedVideo, webPartId } = this.state;\n\n    if (!selectedVideo) {\n      return;\n    }\n\n    bcPlayerProps.modeId = selectedVideo.id || '';\n\n    await spApiGateway.spWebPartConfig.setBrightcoveWebPartProps(webPartId, bcPlayerProps);\n    window.location.reload(true);\n  }\n\n  @autobind\n  async cancelWebpartChanges() {\n    window.location.reload(true);\n  }\n\n  render() {\n    const { connectorContext } = this.props;\n\n    const { bcPlayerProps, searchParameters, isLoadingVideos, isSaving, videos, selectedVideo, defaultVideoPlayerId } = this.state;\n\n    const labelClass = 'col-xs-3 control-label small';\n    const controlClass = 'col-xs-9';\n\n    const selectRow: SelectRow = {\n      mode: 'radio',\n      clickToSelect: true,\n      className: 'info',\n      onSelect: this.videoSelected\n    };\n\n    if (bcPlayerProps.modeId) {\n      selectRow.selected = [bcPlayerProps.modeId];\n    }\n\n    if (selectedVideo) {\n      selectRow.selected = [selectedVideo.id];\n    }\n\n    const canApply = !isLoadingVideos && bcPlayerProps.accountId && selectedVideo;\n\n    return (\n      <div className=\"form-horizontal\">\n        <div className=\"form-group\">\n          <label className={labelClass}>Brightcove Account:</label>\n          <div className={controlClass}>\n            <AccountPicker className=\"input-sm\" availableAccounts={connectorContext.availableAccounts} selectedAccountId={bcPlayerProps.accountId} onChange={this.handleAccountChange} />\n          </div>\n        </div>\n        <VideoSearchControls\n          accountId={bcPlayerProps.accountId || ''}\n          connectorContext={connectorContext}\n          labelClass={labelClass}\n          controlClass={controlClass}\n          showSearchTarget={false}\n          formControlClass=\"input-sm small\"\n          searchParameters={searchParameters}\n          onSearchParametersChanged={this.handleSearchParametersChanged}\n          onSearchForVideos={this.searchForVideos}\n        />\n        {isLoadingVideos && bcPlayerProps.accountId && <Spinner loadingText=\"Loading Videos...\" />}\n        {!isLoadingVideos && bcPlayerProps.accountId && (\n          <>\n            <div className=\"well\">\n              <BootstrapTable data={videos} striped={true} bordered={false} selectRow={selectRow} height=\"250\">\n                <TableHeaderColumn dataField=\"name\" dataFormat={this.renderVideoNameCell}>\n                  Videos\n                </TableHeaderColumn>\n                <TableHeaderColumn dataField=\"id\" isKey={true} hidden={true}>\n                  ID\n                </TableHeaderColumn>\n              </BootstrapTable>\n              <hr />\n            </div>\n          </>\n        )}\n        {!isLoadingVideos && bcPlayerProps.accountId && selectedVideo && (\n          <VideoEmbed\n            layoutMode={EmbedLayoutMode.Part}\n            bcPlayerProps={bcPlayerProps}\n            videoTitle={selectedVideo.name}\n            defaultVideoPlayerId={defaultVideoPlayerId}\n            doesEmbedHelperExist={connectorContext.doesEmbedHelperExist}\n            spAddinContext={connectorContext.spAddinContext}\n            spApiGateway={connectorContext.spApiGateway}\n            showUploadWebPartButton={false}\n            retrieveAllPlayers={connectorContext.retrieveAllPlayers}\n            onPlayerPropsChanged={this.handlePlayerPropsChanged}\n          />\n        )}\n        <div className=\"col-xs-12\" style={{ paddingTop: '5px' }}>\n          {isSaving && <Spinner loadingText=\"Saving...\" />}\n          {!isSaving && (\n            <>\n              <Button className=\"pull-right\" bsStyle=\"primary\" disabled={!canApply} style={{ margin: '2px' }} onClick={this.applyWebpartChanges}>\n                Apply\n              </Button>\n              <Button className=\"pull-right\" style={{ margin: '2px' }} onClick={this.cancelWebpartChanges}>\n                Cancel\n              </Button>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\ninterface EditPartPlayerProps {\n  connectorContext: ConnectorContext;\n  playerProps: Partial<BrightcovePlayerProps>;\n}\n\ninterface EditPartPlayerState {\n  bcPlayerProps: Partial<BrightcovePlayerProps>;\n  searchParameters: Partial<VideoSearchParameters>;\n\n  isLoadingVideos: boolean;\n  isSaving: boolean;\n  videos: Array<BCVideo>;\n  selectedVideo?: BCVideo;\n  defaultVideoPlayerId: string;\n  webPartId: string;\n}\n","import * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { BootstrapTable, TableHeaderColumn, SelectRow } from 'react-bootstrap-table';\nimport { AccountPicker, Spinner } from '../common';\nimport { BrightcovePlayerProps } from '../brightcove-player';\nimport { PlaylistEmbed, EmbedLayoutMode } from '../embeds';\nimport { PlaylistSearchControls } from '../manage-playlists';\n\nimport { BrightcoveAccount } from '../../services';\nimport { BCPlaylist, BCGetPlaylistsParams } from '@brightcove/video-cloud-sdk';\nimport { ConnectorContext, PlaylistSearchParameters, getDefaultPlaylistSearchParameters, SortOrder, PlaylistSortField } from '../../services/connector';\n\nimport autobind from 'autobind-decorator';\nimport URI from 'urijs';\nimport { find } from 'lodash';\n\nexport class EditPartPlaylist extends React.Component<EditPartPlayerProps, EditPartPlayerState> {\n  constructor(props: EditPartPlayerProps, context?: any) {\n    super(props, context);\n\n    const bcPlayerProps = props.playerProps;\n    bcPlayerProps.mode = 'Playlist';\n    bcPlayerProps.sharepointVersion = this.props.connectorContext.spAddinContext.SPProductNumber;\n\n    const uri = URI();\n    const info = uri.query(true) as { [key: string]: string };\n\n    this.state = {\n      bcPlayerProps,\n      searchParameters: getDefaultPlaylistSearchParameters(),\n      isLoadingPlaylists: false,\n      isSaving: false,\n      playlists: [],\n      defaultPlaylistPlayerId: '',\n      webPartId: info.wpId\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    const { connectorContext } = this.props;\n    const { bcPlayerProps } = this.state;\n    if (!bcPlayerProps.accountId && connectorContext.availableAccounts && connectorContext.availableAccounts.length > 0) {\n      bcPlayerProps.accountId = connectorContext.availableAccounts[0].accountId;\n    }\n\n    const selectedAccount = find(connectorContext.availableAccounts, account => {\n      return account.accountId === bcPlayerProps.accountId;\n    });\n    if (selectedAccount) {\n      this.setState({\n        defaultPlaylistPlayerId: selectedAccount.defaultPlaylistPlayerId\n      });\n    }\n\n    this.searchForPlaylists(bcPlayerProps.accountId || '', this.state.searchParameters);\n\n    this.setState({\n      bcPlayerProps\n    });\n  }\n\n  @autobind\n  async searchForPlaylists(accountId: string, searchParams: Partial<PlaylistSearchParameters>): Promise<void> {\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingPlaylists: true\n    });\n\n    const { bcApiGateway } = this.props.connectorContext;\n    const { bcPlayerProps } = this.state;\n    const playlistsApi = bcApiGateway.playlistsApi;\n\n    // Map search params to 'q'\n    const bcParams: BCGetPlaylistsParams = {\n      limit: searchParams.searchLimit || 45,\n      sort: searchParams.sortOrder === SortOrder.Descending ? '-' : '',\n      q: searchParams.searchTerms ? `+\"${searchParams.searchTerms}\"` : ''\n    };\n\n    switch (searchParams.sortField) {\n      case PlaylistSortField.DisplayName:\n        bcParams.sort += 'name';\n        break;\n      case PlaylistSortField.ModifiedDate:\n        bcParams.sort += 'updated_at';\n        break;\n      default:\n        // Do nothing.\n        break;\n    }\n\n    const playlists = await playlistsApi.getPlaylists(accountId, bcParams);\n\n    let selectedPlaylist: BCPlaylist | undefined;\n    if (bcPlayerProps.modeId) {\n      selectedPlaylist = find(playlists, { id: bcPlayerProps.modeId });\n    }\n\n    this.setState({\n      isLoadingPlaylists: false,\n      selectedPlaylist,\n      playlists\n    });\n  }\n\n  @autobind\n  async handleAccountChange(newAccount: BrightcoveAccount) {\n    const { bcPlayerProps } = this.state;\n\n    if (bcPlayerProps.accountId !== newAccount.accountId) {\n      bcPlayerProps.accountId = newAccount.accountId;\n      this.setState({\n        bcPlayerProps\n      });\n      this.searchForPlaylists(bcPlayerProps.accountId || '', this.state.searchParameters);\n    }\n  }\n\n  @autobind\n  handleSearchParametersChanged(searchParameters: Partial<PlaylistSearchParameters>, fieldChanged?: string) {\n    this.setState({\n      searchParameters\n    });\n\n    if (fieldChanged !== 'searchTerms') {\n      this.searchForPlaylists(this.state.bcPlayerProps.accountId || '', searchParameters);\n    }\n  }\n\n  @autobind\n  handlePlayerPropsChanged(bcPlayerProps: Partial<BrightcovePlayerProps>) {\n    this.setState({\n      bcPlayerProps\n    });\n  }\n\n  @autobind\n  playlistSelected(playlist: BCPlaylist, isSelected: boolean) {\n    const { bcPlayerProps } = this.state;\n    bcPlayerProps.embedCodeOverride = undefined;\n\n    let selectedPlaylist: BCPlaylist | undefined;\n    if (isSelected) {\n      selectedPlaylist = playlist;\n      bcPlayerProps.modeId = selectedPlaylist.id;\n    }\n\n    this.setState({\n      selectedPlaylist,\n      bcPlayerProps\n    });\n  }\n\n  @autobind\n  renderPlaylistNameCell(cell: any, playlist: BCPlaylist) {\n    const { bcPlayerProps } = this.state;\n\n    let uri = URI(`${window.location.origin}${window.location.pathname.replace(/AppPartPage.aspx/i, 'Default.aspx')}${window.location.search}`);\n    uri = uri.removeQuery('part');\n    uri = uri.removeQuery('IsDlg');\n    uri.hash(`/${bcPlayerProps.accountId}/manage-playlists/${playlist.id}/edit`);\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <a className=\"small\" href={uri.toString()} target=\"_blank\" rel=\"noopener noreferrer\">\n            {playlist.name}\n          </a>\n          <div className=\"small\">{playlist.id}</div>\n        </div>\n      </div>\n    );\n  }\n\n  @autobind\n  async applyWebpartChanges() {\n    this.setState({\n      isSaving: true\n    });\n\n    const { connectorContext } = this.props;\n    const { spApiGateway } = connectorContext;\n    const { bcPlayerProps, selectedPlaylist, webPartId } = this.state;\n\n    if (!selectedPlaylist) {\n      return;\n    }\n\n    bcPlayerProps.modeId = selectedPlaylist.id || '';\n\n    await spApiGateway.spWebPartConfig.setBrightcoveWebPartProps(webPartId, bcPlayerProps);\n    window.location.reload(true);\n  }\n\n  @autobind\n  async cancelWebpartChanges() {\n    window.location.reload(true);\n  }\n\n  render() {\n    const { connectorContext } = this.props;\n\n    const { bcPlayerProps, searchParameters, isLoadingPlaylists, isSaving, playlists, defaultPlaylistPlayerId, selectedPlaylist } = this.state;\n\n    const labelClass = 'col-xs-3 control-label small';\n    const controlClass = 'col-xs-9';\n\n    const selectRow: SelectRow = {\n      mode: 'radio',\n      clickToSelect: true,\n      className: 'info',\n      onSelect: this.playlistSelected\n    };\n\n    if (bcPlayerProps.modeId) {\n      selectRow.selected = [bcPlayerProps.modeId];\n    }\n\n    if (selectedPlaylist) {\n      selectRow.selected = [selectedPlaylist.id];\n    }\n\n    const canApply = !isLoadingPlaylists && bcPlayerProps.accountId && selectedPlaylist;\n\n    return (\n      <div className=\"form-horizontal\">\n        <div className=\"form-group\">\n          <label className={labelClass}>Brightcove Account:</label>\n          <div className={controlClass}>\n            <AccountPicker className=\"input-sm\" availableAccounts={connectorContext.availableAccounts} selectedAccountId={bcPlayerProps.accountId} onChange={this.handleAccountChange} />\n          </div>\n        </div>\n        <PlaylistSearchControls\n          accountId={bcPlayerProps.accountId || ''}\n          labelClass={labelClass}\n          controlClass={controlClass}\n          formControlClass=\"input-xs small\"\n          searchParameters={searchParameters}\n          onSearchParametersChanged={this.handleSearchParametersChanged}\n          onSearchForPlaylists={this.searchForPlaylists}\n        />\n        {isLoadingPlaylists && bcPlayerProps.accountId && <Spinner loadingText=\"Loading Playlists...\" />}\n        {!isLoadingPlaylists && bcPlayerProps.accountId && (\n          <>\n            <div className=\"well\">\n              <BootstrapTable data={playlists} striped={true} bordered={false} selectRow={selectRow} height=\"250\">\n                <TableHeaderColumn dataField=\"name\" dataFormat={this.renderPlaylistNameCell}>\n                  Playlist\n                </TableHeaderColumn>\n                <TableHeaderColumn dataField=\"id\" isKey={true} hidden={true}>\n                  ID\n                </TableHeaderColumn>\n              </BootstrapTable>\n              <hr />\n            </div>\n          </>\n        )}\n        {!isLoadingPlaylists && bcPlayerProps.accountId && selectedPlaylist && (\n          <PlaylistEmbed\n            layoutMode={EmbedLayoutMode.Part}\n            bcPlayerProps={bcPlayerProps}\n            playlistTitle={selectedPlaylist.name}\n            defaultPlaylistPlayerId={defaultPlaylistPlayerId}\n            doesEmbedHelperExist={connectorContext.doesEmbedHelperExist}\n            spAddinContext={connectorContext.spAddinContext}\n            spApiGateway={connectorContext.spApiGateway}\n            showUploadWebPartButton={false}\n            retrieveAllPlayers={connectorContext.retrieveAllPlayers}\n            onPlayerPropsChanged={this.handlePlayerPropsChanged}\n          />\n        )}\n        <div className=\"col-xs-12\" style={{ paddingTop: '5px' }}>\n          {isSaving && <Spinner loadingText=\"Saving...\" />}\n          {!isSaving && (\n            <>\n              <Button className=\"pull-right\" bsStyle=\"primary\" disabled={!canApply} style={{ margin: '2px' }} onClick={this.applyWebpartChanges}>\n                Apply\n              </Button>\n              <Button className=\"pull-right\" style={{ margin: '2px' }} onClick={this.cancelWebpartChanges}>\n                Cancel\n              </Button>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\ninterface EditPartPlayerProps {\n  connectorContext: ConnectorContext;\n  playerProps: Partial<BrightcovePlayerProps>;\n}\n\ninterface EditPartPlayerState {\n  bcPlayerProps: Partial<BrightcovePlayerProps>;\n  searchParameters: Partial<PlaylistSearchParameters>;\n\n  isLoadingPlaylists: boolean;\n  isSaving: boolean;\n  playlists: Array<BCPlaylist>;\n  selectedPlaylist?: BCPlaylist;\n  defaultPlaylistPlayerId: string;\n  webPartId: string;\n}\n","import * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { BootstrapTable, TableHeaderColumn, SelectRow, Options } from 'react-bootstrap-table';\nimport autobind from 'autobind-decorator';\nimport { AccountPicker, Spinner } from '../common';\n\nimport { BrightcoveAccount } from 'services';\nimport { BCExperience } from '@brightcove/video-cloud-sdk';\n\nimport URI from 'urijs';\nimport { filter, find } from 'lodash';\nimport { ConnectorContext } from '../../services/connector';\nimport { BrightcoveExperienceProps } from '../brightcove-experience';\nimport { ExperienceEmbed, EmbedLayoutMode } from '../embeds';\n\nexport class EditPartExperience extends React.Component<EditPartExperienceProps, EditPartExperienceState> {\n  constructor(props: EditPartExperienceProps, context?: any) {\n    super(props, context);\n\n    const bcExperienceProps = props.experienceProps;\n    bcExperienceProps.sharepointVersion = this.props.connectorContext.spAddinContext.SPProductNumber;\n\n    const uri = URI();\n    const info = uri.query(true) as { [key: string]: string };\n\n    this.state = {\n      bcExperienceProps,\n      experiencesFilter: '',\n      isLoadingExperiences: true,\n      isSaving: false,\n      allExperiences: [],\n      filteredExperiences: [],\n      webPartId: info.wpId\n    };\n  }\n\n  async UNSAFE_componentWillMount() {\n    const { connectorContext } = this.props;\n    const { bcExperienceProps } = this.state;\n    if (!bcExperienceProps.accountId && connectorContext.availableAccounts && connectorContext.availableAccounts.length > 0) {\n      bcExperienceProps.accountId = connectorContext.availableAccounts[0].accountId;\n    }\n\n    this.loadExperiences(bcExperienceProps.accountId || '');\n\n    this.setState({\n      bcExperienceProps\n    });\n  }\n\n  async loadExperiences(accountId: string) {\n    const { connectorContext } = this.props;\n    const { bcExperienceProps } = this.state;\n\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingExperiences: true,\n      experiencesFilter: ''\n    });\n\n    const experiencesApi = connectorContext.bcApiGateway.experiencesApi;\n    const experiencesResponse = await experiencesApi.getExperiences(accountId);\n\n    let selectedExperience: BCExperience | undefined = undefined;\n    if (bcExperienceProps.experienceId) {\n      selectedExperience = find(experiencesResponse.items, { id: bcExperienceProps.experienceId });\n    }\n\n    this.setState({\n      isLoadingExperiences: false,\n      allExperiences: experiencesResponse.items,\n      filteredExperiences: experiencesResponse.items,\n      selectedExperience\n    });\n  }\n\n  @autobind\n  async handleAccountChange(newAccount: BrightcoveAccount) {\n    const { bcExperienceProps } = this.state;\n\n    if (bcExperienceProps.accountId !== newAccount.accountId) {\n      bcExperienceProps.accountId = newAccount.accountId;\n      this.setState({\n        bcExperienceProps\n      });\n      this.loadExperiences(newAccount.accountId);\n    }\n  }\n\n  @autobind\n  handleExperiencesFilterChange(experiencesFilter: string) {\n    this.setState({\n      experiencesFilter\n    });\n\n    const { allExperiences } = this.state;\n    let filteredExperiences = allExperiences;\n    if (experiencesFilter) {\n      const strFilter = experiencesFilter.toLowerCase();\n      filteredExperiences = filter(filteredExperiences, ex => {\n        if (ex.name && ex.name.toLowerCase().indexOf(strFilter) > -1) {\n          return true;\n        }\n        return false;\n      });\n    }\n\n    this.setState({\n      filteredExperiences\n    });\n  }\n\n  @autobind\n  experienceSelected(experience: BCExperience, isSelected: boolean) {\n    const { bcExperienceProps } = this.state;\n    bcExperienceProps.embedCodeOverride = undefined;\n\n    let selectedExperience: BCExperience | undefined;\n    if (isSelected) {\n      selectedExperience = experience;\n      bcExperienceProps.experienceId = selectedExperience.id;\n    }\n    this.setState({\n      bcExperienceProps,\n      selectedExperience\n    });\n  }\n\n  @autobind\n  handleExperiencePropsChanged(bcExperienceProps: Partial<BrightcoveExperienceProps>) {\n    this.setState({\n      bcExperienceProps\n    });\n  }\n\n  @autobind\n  renderExperienceNameCell(cell: any, experience: BCExperience) {\n    const { bcExperienceProps } = this.state;\n\n    let uri = URI(`${window.location.origin}${window.location.pathname.replace(/AppPartPage.aspx/i, 'Default.aspx')}${window.location.search}`);\n    uri = uri.removeQuery('part');\n    uri = uri.removeQuery('IsDlg');\n    uri.hash(`/${bcExperienceProps.accountId}/manage-experiences/${experience.id}/preview`);\n\n    return (\n      <>\n        <a className=\"small\" href={uri.toString()} target=\"_blank\" rel=\"noopener noreferrer\">\n          {experience.name}\n        </a>\n        <br />\n        <div className=\"small\">{experience.template}</div>\n        <div className=\"small\">{experience.id}</div>\n      </>\n    );\n  }\n\n  @autobind\n  async applyWebpartChanges() {\n    this.setState({\n      isSaving: true\n    });\n\n    const { connectorContext } = this.props;\n    const { spApiGateway } = connectorContext;\n    const { bcExperienceProps, selectedExperience, webPartId } = this.state;\n\n    if (!selectedExperience) {\n      return;\n    }\n\n    bcExperienceProps.experienceId = selectedExperience.id || '';\n\n    await spApiGateway.spWebPartConfig.setBrightcoveWebPartProps(webPartId, bcExperienceProps);\n    window.location.reload(true);\n  }\n\n  @autobind\n  async cancelWebpartChanges() {\n    window.location.reload(true);\n  }\n\n  render() {\n    const { connectorContext } = this.props;\n\n    const { bcExperienceProps, experiencesFilter, isLoadingExperiences, isSaving, filteredExperiences, selectedExperience } = this.state;\n\n    const labelClass = 'col-xs-3 control-label small';\n    const controlClass = 'col-xs-9 word-wrap small';\n\n    const selectRow: SelectRow = {\n      mode: 'radio',\n      clickToSelect: true,\n      className: 'info',\n      onSelect: this.experienceSelected\n    };\n\n    if (bcExperienceProps.experienceId) {\n      selectRow.selected = [bcExperienceProps.experienceId];\n    }\n\n    if (selectedExperience) {\n      selectRow.selected = [selectedExperience.id];\n    }\n\n    const experienceTableOptions: Options = {\n      defaultSortName: 'updatedAt', // default sort column name\n      defaultSortOrder: 'desc' // default sort order\n    };\n\n    const canApply = !isLoadingExperiences && bcExperienceProps.accountId && selectedExperience;\n\n    return (\n      <div className=\"form-horizontal\">\n        <div className=\"form-group\">\n          <label className={labelClass}>Brightcove Account:</label>\n          <div className={controlClass}>\n            <AccountPicker className=\"input-sm\" availableAccounts={connectorContext.availableAccounts} selectedAccountId={bcExperienceProps.accountId} onChange={this.handleAccountChange} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className={labelClass}>Experiences Filter:</label>\n          <div className={controlClass}>\n            <div className=\"input-group\">\n              <input type=\"search\" placeholder=\"Search\" className=\"form-control input-sm\" value={experiencesFilter} onChange={e => this.handleExperiencesFilterChange(e.target.value)} />\n              <div className=\"input-group-btn searchButton\">\n                <Button bsSize=\"small\">\n                  &nbsp;\n                  <i className=\"glyphicon glyphicon-search\" />\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n        {isLoadingExperiences && bcExperienceProps.accountId && <Spinner loadingText=\"Loading Experiences...\" />}\n        {!isLoadingExperiences && bcExperienceProps.accountId && (\n          <>\n            <div className=\"well\">\n              <BootstrapTable data={filteredExperiences} striped={true} bordered={false} selectRow={selectRow} options={experienceTableOptions} height=\"250\">\n                <TableHeaderColumn dataField=\"name\" dataFormat={this.renderExperienceNameCell} dataSort={true}>\n                  Name\n                </TableHeaderColumn>\n                <TableHeaderColumn dataField=\"description\" dataSort={true} hidden={true}>\n                  Short Description\n                </TableHeaderColumn>\n                <TableHeaderColumn dataField=\"updatedAt\" dataSort={true} hidden={true}>\n                  Updated At\n                </TableHeaderColumn>\n                <TableHeaderColumn dataField=\"id\" dataSort={true} isKey={true} hidden={true}>\n                  ID\n                </TableHeaderColumn>\n              </BootstrapTable>\n              <hr />\n            </div>\n            <ExperienceEmbed\n              bcExperienceProps={bcExperienceProps}\n              layoutMode={EmbedLayoutMode.Part}\n              connectorContext={connectorContext}\n              experience={selectedExperience}\n              hideExperienceName={true}\n              labelClass={labelClass}\n              controlClass={controlClass}\n              showUploadWebPartButton={false}\n              onExperiencePropsChanged={this.handleExperiencePropsChanged}\n            />\n          </>\n        )}\n        <div className=\"col-xs-12\" style={{ paddingTop: '5px' }}>\n          {isSaving && <Spinner loadingText=\"Saving...\" />}\n          {!isSaving && (\n            <>\n              <Button className=\"pull-right\" bsStyle=\"primary\" disabled={!canApply} style={{ margin: '2px' }} onClick={this.applyWebpartChanges}>\n                Apply\n              </Button>\n              <Button className=\"pull-right\" style={{ margin: '2px' }} onClick={this.cancelWebpartChanges}>\n                Cancel\n              </Button>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\ninterface EditPartExperienceProps {\n  connectorContext: ConnectorContext;\n  experienceProps: Partial<BrightcoveExperienceProps>;\n}\n\ninterface EditPartExperienceState {\n  bcExperienceProps: Partial<BrightcoveExperienceProps>;\n  selectedExperience?: BCExperience;\n  experiencesFilter: string;\n  isLoadingExperiences: boolean;\n  isSaving: boolean;\n  allExperiences: Array<BCExperience>;\n  filteredExperiences: Array<BCExperience>;\n  webPartId: string;\n}\n","import * as React from 'react';\nimport { HashRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { EditPartVideo } from './components/part-video';\nimport { EditPartPlaylist } from './components/part-playlist';\nimport { EditPartExperience } from './components/part-experience';\nimport { BrightcovePlayer, BrightcovePlayerProps, BrightcovePlayerUtils } from './components/brightcove-player';\nimport { BrightcoveExperience, BrightcoveExperienceProps, BrightcoveExperienceUtils } from 'components/brightcove-experience';\n\nimport { ConnectorContext } from './services/connector';\nimport URI from 'urijs';\n\nexport class Part extends React.Component<PartProps, PartState> {\n  constructor(props: PartProps, context?: any) {\n    super(props, context);\n\n    const uri = URI();\n    const info = uri.query(true) as { [key: string]: string };\n\n    this.state = {\n      isLoading: true,\n      isEditing: info.editmode === '1' ? true : false,\n      senderId: info.SenderId,\n      webPartId: info.wpId,\n      embedCodeUrl: info.embedCodeUrl,\n      bcPlayerProps: BrightcovePlayerUtils.getBrightcovePlayerPropsFromQueryString(),\n      bcExperienceProps: BrightcoveExperienceUtils.getBrightcoveExperiencePropsFromQueryString()\n    };\n  }\n\n  async UNSAFE_componentWillMount() {\n    const { connectorContext } = this.props;\n    const { spApiGateway } = connectorContext;\n    const { isEditing, webPartId, embedCodeUrl } = this.state;\n    let { bcPlayerProps, bcExperienceProps } = this.state;\n\n    this.setState({\n      isLoading: true\n    });\n\n    // Get props from file.\n    if (!embedCodeUrl && webPartId) {\n      bcPlayerProps = await spApiGateway.spWebPartConfig.getBrightcoveWebPartProps(webPartId, bcPlayerProps);\n      bcExperienceProps = await spApiGateway.spWebPartConfig.getBrightcoveWebPartProps(webPartId, bcExperienceProps);\n    }\n\n    if (embedCodeUrl && embedCodeUrl.length > 0) {\n      try {\n        const response = await fetch(embedCodeUrl, {\n          method: 'GET',\n          cache: 'no-cache',\n          credentials: 'same-origin',\n          redirect: 'follow'\n        });\n\n        const embedCode = await response.text();\n\n        bcPlayerProps.embedCodeOverride = embedCode;\n        bcExperienceProps.embedCodeOverride = embedCode;\n      } catch (ex) {\n        // Do Nothing\n      }\n    }\n\n    if (isEditing) {\n      await require('./Part-Edit.css');\n      await connectorContext.initialize();\n    }\n\n    this.setState({\n      isLoading: false,\n      bcPlayerProps,\n      bcExperienceProps\n    });\n  }\n\n  renderPlaylist(bcPlayerProps: Partial<BrightcovePlayerProps>) {\n    const { embedCodeUrl } = this.state;\n    if ((!bcPlayerProps.accountId || !bcPlayerProps.modeId) && !embedCodeUrl) {\n      return (\n        <>\n          <p>\n            <strong>This Brightcove Playlist needs to be configured.</strong>\n          </p>\n          <p>Please edit this section to select the Brightcove playlist to display.</p>\n        </>\n      );\n    }\n\n    return <BrightcovePlayer bypassPlayerPadding={true} {...(bcPlayerProps as BrightcovePlayerProps)} />;\n  }\n\n  renderVideo(bcPlayerProps: Partial<BrightcovePlayerProps>) {\n    const { embedCodeUrl } = this.state;\n    if ((!bcPlayerProps.accountId || !bcPlayerProps.modeId) && !embedCodeUrl) {\n      return (\n        <>\n          <p>\n            <strong>This Brightcove Video needs to be configured.</strong>\n          </p>\n          <p>Please edit this section to the Brightcove video to display.</p>\n        </>\n      );\n    }\n\n    return <BrightcovePlayer bypassPlayerPadding={true} {...(bcPlayerProps as BrightcovePlayerProps)} />;\n  }\n\n  renderExperience(bcExperienceProps: Partial<BrightcoveExperienceProps>) {\n    const { embedCodeUrl } = this.state;\n    if ((!bcExperienceProps.accountId || !bcExperienceProps.experienceId) && !embedCodeUrl) {\n      return (\n        <>\n          <p>\n            <strong>This Brightcove Experience needs to be configured.</strong>\n          </p>\n          <p>Please edit this section to select the Brightcove experience to display.</p>\n        </>\n      );\n    }\n\n    return <BrightcoveExperience {...(bcExperienceProps as BrightcoveExperienceProps)} />;\n  }\n\n  render() {\n    const { connectorContext } = this.props;\n    const { isLoading, isEditing, bcPlayerProps, bcExperienceProps } = this.state;\n\n    const partStyle: React.CSSProperties = {};\n\n    if (isLoading) {\n      return <div className=\"part\" style={partStyle} />;\n    }\n\n    return (\n      <Router>\n        <div className=\"part\" style={partStyle}>\n          <Switch>\n            <Route path=\"/part/playlist\" exact={true}>\n              <>\n                {isEditing && <EditPartPlaylist connectorContext={connectorContext} playerProps={bcPlayerProps} />}\n                {!isEditing && this.renderPlaylist(bcPlayerProps)}\n              </>\n            </Route>\n            <Route path=\"/part/video\" exact={true}>\n              <>\n                {isEditing && <EditPartVideo connectorContext={connectorContext} playerProps={bcPlayerProps} />}\n                {!isEditing && this.renderVideo(bcPlayerProps)}\n              </>\n            </Route>\n            <Route path=\"/part/experience\" exact={true}>\n              <>\n                {isEditing && <EditPartExperience connectorContext={connectorContext} experienceProps={bcExperienceProps} />}\n                {!isEditing && this.renderExperience(bcExperienceProps)}\n              </>\n            </Route>\n            <Redirect to=\"/\" />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\ninterface PartProps {\n  connectorContext: ConnectorContext;\n  raiseError: (message: string, err?: Error) => boolean;\n}\n\ninterface PartState {\n  isLoading: boolean;\n  isEditing: boolean;\n  senderId: string;\n  webPartId: string;\n  embedCodeUrl?: string;\n  bcPlayerProps: Partial<BrightcovePlayerProps>;\n  bcExperienceProps: Partial<BrightcoveExperienceProps>;\n}\n","import * as React from 'react';\n\nexport class Home extends React.Component {\n  render() {\n    return (\n      <div className=\"jumbotron\">\n        <h1>Brightcove Video Connector</h1>\n        <p className=\"lead\" />\n        <p>\n          <a href=\"http://www.brightcove.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn btn-primary btn-lg\">\n            Visit Brightcove &raquo;\n          </a>\n        </p>\n      </div>\n    );\n  }\n}\n","import * as React from 'react';\nimport { Button, Modal, ControlLabel, FormControl } from 'react-bootstrap';\nimport { GroupPicker } from '../common';\nimport autobind from 'autobind-decorator';\n\nimport { truncate } from 'lodash';\nimport { ConnectorContext } from '../../services/connector';\n\nexport class AccountFieldRow extends React.Component<AccountFieldRowProps, AccountFieldRowState> {\n  constructor(props: AccountFieldRowProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      showFieldModal: false,\n      newFieldValue: props.fieldValue || ''\n    };\n  }\n\n  @autobind\n  showFieldModal() {\n    this.setState({\n      showFieldModal: true\n    });\n  }\n\n  @autobind\n  hideFieldModal() {\n    this.setState({\n      showFieldModal: false,\n      newFieldValue: this.props.fieldValue || ''\n    });\n  }\n\n  @autobind\n  handleFieldChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      newFieldValue: event.target.value\n    });\n  }\n\n  @autobind\n  handleFieldChange2(event: React.FormEvent<FormControl>) {\n    const target = event.target as any;\n\n    this.setState({\n      newFieldValue: target.value\n    });\n  }\n\n  @autobind\n  notifyUpdateFieldUpdate() {\n    this.props.updateFieldValue(this.state.newFieldValue);\n    this.setState({\n      showFieldModal: false\n    });\n  }\n\n  render() {\n    const { fieldName, fieldDescription, fieldValueType, fieldValue, connectorContext } = this.props;\n    const { showFieldModal, newFieldValue } = this.state;\n    return (\n      <tr>\n        <td className=\"NameField\">\n          <Button className=\"mLinks\" bsStyle=\"primary\" bsSize=\"large\" onClick={this.showFieldModal}>\n            {fieldName}\n          </Button>\n        </td>\n        <td>\n          {fieldValue && (\n            <Button className=\"mLinks\" bsStyle=\"primary\" bsSize=\"large\" onClick={this.showFieldModal}>\n              {truncate(fieldValue, { length: 30 })}\n            </Button>\n          )}\n        </td>\n        {fieldDescription && <td>{fieldDescription}</td>}\n        <Modal show={showFieldModal} onHide={this.hideFieldModal}>\n          <Modal.Header closeButton={true}>\n            <Modal.Title>{fieldName}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {(!fieldValueType || fieldValueType === 'text') && (\n              <>\n                <ControlLabel>Value</ControlLabel>\n                <FormControl type=\"text\" value={newFieldValue} placeholder=\"Enter Value\" onChange={this.handleFieldChange2} />\n              </>\n            )}\n            {fieldValueType === 'group' && connectorContext && (\n              <>\n                <ControlLabel>{fieldName}</ControlLabel>\n                <GroupPicker connectorContext={connectorContext} value={newFieldValue} onChange={this.handleFieldChange2} />\n              </>\n            )}\n            <br />\n            <h4>Description</h4>\n            <span>{fieldDescription}</span>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={this.hideFieldModal} bsStyle=\"default\">\n              Close\n            </Button>\n            <Button onClick={this.notifyUpdateFieldUpdate} bsStyle=\"primary\">\n              Ok\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </tr>\n    );\n  }\n}\n\ninterface AccountFieldRowProps {\n  fieldName: string;\n  fieldDescription?: string;\n  fieldValueType?: 'text' | 'group';\n  fieldValue?: string | null;\n  connectorContext?: ConnectorContext;\n  updateFieldValue: (newValue: string) => void;\n}\n\ninterface AccountFieldRowState {\n  showFieldModal: boolean;\n  newFieldValue: string;\n}\n","import * as React from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\nimport Dropzone from 'react-dropzone';\n\nimport { BrightcoveSettings, defaultBrightcoveSettings, BrightcoveAccount } from '../../services';\nimport { BrightcoveApiGateway } from '@brightcove/video-cloud-sdk';\nimport { SharePointApiGateway, SPEmbedUtil } from '../../services/sharepoint';\nimport { ConnectorContext, UserRole, ConnectorValidationResult } from '../../services/connector';\nimport { AccountFieldRow } from './AccountFieldRow';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Spinner } from '../common';\nimport autobind from 'autobind-decorator';\nimport { faDownload, faUpload, faPlusCircle, faCog } from '@fortawesome/free-solid-svg-icons';\nimport { makeId } from '../../services';\n\nimport * as FileSaver from 'file-saver';\nimport { find, isEqual, cloneDeep } from 'lodash';\nimport moment from 'moment';\nimport { readFileAsJson } from '../../services/Utils';\n\nimport './AccountManagement.css';\n\nexport class AccountManagement extends React.Component<AccountManagementProps, AccountManagementState> {\n\n  constructor(props: AccountManagementProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isAddingAccount: false,\n      isLoadingAccounts: true,\n      isSavingSettings: false,\n      isImportingSettings: false,\n      showConnectorSettings: false,\n      currentConnectorSettings: defaultBrightcoveSettings,\n      connectorSettings: defaultBrightcoveSettings\n    };\n  }\n\n  async componentDidMount() {\n    const { connectorContext, spApiGateway, validationResult } = this.props;\n\n    if (validationResult.accountEmptyGroups.length === 0 && (!connectorContext.currentUserRole || connectorContext.currentUserRole !== UserRole.Author)) {\n      window.location.hash = '#/';\n    }\n\n    // Get the brightcove accounts stored in the host web.\n    const settings = await spApiGateway.settingsManager.loadBrightcoveSettings();\n    const accounts = settings.brightcoveAccounts;\n\n    this.setState({\n      isLoadingAccounts: false,\n      currentConnectorSettings: cloneDeep(settings),\n      connectorSettings: settings,\n      accounts\n    });\n  }\n\n  @autobind\n  async showConnectorSettings() {\n    this.setState({\n      showConnectorSettings: true\n    });\n  }\n\n  @autobind\n  async hideConnectorSettings() {\n    this.setState({\n      showConnectorSettings: false\n    });\n  }\n\n  @autobind\n  async saveConnectorSettings() {\n    const { spApiGateway } = this.props;\n    const { currentConnectorSettings } = this.state;\n\n    this.setState({\n      showConnectorSettings: false,\n      isSavingSettings: true\n    });\n\n    await spApiGateway.settingsManager.saveBrightcoveSettings(currentConnectorSettings);\n\n    window.location.reload(true);\n  }\n\n  @autobind\n  async exportConnectorSettings() {\n    const { spApiGateway } = this.props;\n\n    const settings = await spApiGateway.settingsManager.loadBrightcoveSettings(false);\n    const blob = new Blob([JSON.stringify(settings)], { type: 'text/plain;charset=utf-8' });\n    const dt = moment();\n    FileSaver.saveAs(blob, `BrightcoveConnectorSettings_${dt.format('YYYY-MM-DD')}-${dt.format('hh-mm-ss')}.json`);\n  }\n\n  @autobind\n  async importConnectorSettings(acceptedFiles: File[]) {\n    const { connectorContext, spApiGateway } = this.props;\n\n    if (acceptedFiles.length !== 1) {\n      return;\n    }\n\n    this.setState({\n      showConnectorSettings: false,\n      isImportingSettings: true\n    });\n\n    const file = acceptedFiles[0];\n    try {\n      const settings = await readFileAsJson(file);\n\n      await spApiGateway.settingsManager.saveBrightcoveSettings(settings, false);\n    } catch (ex) {\n      connectorContext.raiseError('The connector settings could not be imported. Ensure that the file is a vaild Brightcove Settings export file.');\n      return;\n    }\n\n    window.location.reload(true);\n  }\n\n  @autobind\n  async addNewAccount() {\n    this.setState({\n      isAddingAccount: true\n    });\n\n    const spApiGateway = this.props.spApiGateway;\n\n    const settings = await spApiGateway.settingsManager.loadBrightcoveSettings();\n    let newId = makeId(5);\n    while (find(settings.brightcoveAccounts, { id: newId })) {\n      newId = makeId(5);\n    }\n\n    const newAccount: BrightcoveAccount = {\n      id: makeId(5),\n      title: 'New Account',\n      defaultPlaylistPlayerId: '',\n      defaultVideoPlayerId: '',\n      accountAuthorsGroupName: '',\n      accountViewersGroupName: '',\n      accountId: '',\n      clientId: '',\n      clientSecret: ''\n    };\n\n    if (!settings.brightcoveAccounts) {\n      settings.brightcoveAccounts = [];\n    }\n\n    settings.brightcoveAccounts.push(newAccount);\n    await spApiGateway.settingsManager.saveBrightcoveSettings(settings);\n\n    window.location.hash = `#/account-management/view/${newAccount.id}`;\n  }\n\n  @autobind\n  async downloadEmbedHelper() {\n    const { connectorContext } = this.props;\n    const embedHelperBlob = SPEmbedUtil.generateEmbedHelper(connectorContext.spAddinContext.SPHostUrl, connectorContext.spAddinContext.SPAppWebUrl);\n    FileSaver.saveAs(embedHelperBlob, SPEmbedUtil.getEmbedHelperFileNameFromAppWebUrl(connectorContext.spAddinContext.SPAppWebUrl));\n  }\n\n  render() {\n\n    const { isAddingAccount, isLoadingAccounts, isSavingSettings, isImportingSettings, accounts, showConnectorSettings, currentConnectorSettings, connectorSettings } = this.state;\n\n    let dropzoneRef: Dropzone | null;\n\n    if (isAddingAccount) {\n      return <Spinner loadingText=\"Creating New Account...\" />;\n    }\n\n    if (isSavingSettings) {\n      return <Spinner loadingText=\"Saving Brightcove Settings... The app will refresh once complete.\" />;\n    }\n\n    if (isImportingSettings) {\n      return <Spinner loadingText=\"Importing Brightcove Settings... The app will refresh once complete.\" />;\n    }\n\n    if (isLoadingAccounts || !accounts) {\n      return <Spinner loadingText=\"Loading Accounts...\" />;\n    }\n\n    const hasChanges = !isEqual(currentConnectorSettings, connectorSettings);\n\n    return (\n      <>\n        <ol className=\"breadcrumb\">\n          <li>\n            <NavLink to=\"/\">Brightcove Management</NavLink>\n          </li>\n          <li className=\"active\">Account Management</li>\n        </ol>\n        {!this.state.isLoadingAccounts && (\n          <div>\n            <table className=\"table table-striped\">\n              <thead>\n                <tr>\n                  <td>Account Title</td>\n                  <td>Authors Group</td>\n                  <td>Viewers Group</td>\n                </tr>\n              </thead>\n              <tbody>\n                {accounts.map((account, i) => (\n                  <tr key={i}>\n                    <td>\n                      <NavLink className=\"mLinks btn btn-lg btn-primary\" to={`/account-management/view/${account.id}`}>\n                        {account.title}\n                      </NavLink>\n                    </td>\n                    <td>\n                      <span>{account.accountAuthorsGroupName}</span>\n                    </td>\n                    <td>\n                      <span>{account.accountViewersGroupName}</span>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n            <hr />\n            <div>\n              <Button bsSize=\"large\" bsStyle=\"default\" style={{ margin: '2px' }} onClick={this.showConnectorSettings}>\n                <FontAwesomeIcon icon={faCog} />\n                &nbsp;Connector Settings\n              </Button>\n              <Button bsSize=\"large\" bsStyle=\"default\" style={{ margin: '2px' }} onClick={this.addNewAccount}>\n                <FontAwesomeIcon icon={faPlusCircle} />\n                &nbsp;Add new account\n              </Button>\n              {(process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'production') && (\n                <Button bsSize=\"large\" bsStyle=\"default\" style={{ margin: '2px' }} onClick={this.downloadEmbedHelper}>\n                  <FontAwesomeIcon icon={faDownload} />\n                  &nbsp;Download Embed Helper\n                </Button>\n              )}\n              <hr />\n            </div>\n          </div>\n        )}\n        <Modal show={showConnectorSettings} onHide={this.hideConnectorSettings}>\n          <Modal.Header closeButton={true}>\n            <Modal.Title>Brightcove Connector Settings</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <table className=\"table table-striped\">\n              <thead>\n                <tr>\n                  <td>Property</td>\n                  <td>Value</td>\n                  <td>Description</td>\n                </tr>\n              </thead>\n              <tbody>\n                <AccountFieldRow\n                  fieldName=\"Proxy Url\"\n                  fieldDescription=\"This field is used to specify the full address of the proxy (Leave blank to use the Brightcove Auth endpoint directly) \"\n                  fieldValue={currentConnectorSettings.proxySettings.proxyUrl}\n                  updateFieldValue={newValue => {\n                    this.setState({ currentConnectorSettings: { ...currentConnectorSettings, proxySettings: { ...currentConnectorSettings.proxySettings, proxyUrl: newValue } } });\n                  }}\n                />\n              </tbody>\n            </table>\n          </Modal.Body>\n          <Modal.Footer>\n            <Dropzone ref={(node) => { dropzoneRef = node; }} onDrop={this.importConnectorSettings} disableClick={true} multiple={false} style={{ textAlign: 'center', marginTop: '5px', display: 'none' }} />\n            <Button className=\"pull-left\" onClick={this.exportConnectorSettings} bsStyle=\"default\">\n              <FontAwesomeIcon icon={faDownload} />\n              &nbsp;Export Settings\n            </Button>\n            <Button\n              className=\"pull-left\"\n              onClick={() => {\n                dropzoneRef && dropzoneRef.open();\n              }}\n              bsStyle=\"default\"\n            >\n              <FontAwesomeIcon icon={faUpload} />\n              &nbsp;Import Settings\n            </Button>\n            <Button onClick={this.hideConnectorSettings} bsStyle=\"default\">\n              Close\n            </Button>\n            <Button onClick={this.saveConnectorSettings} bsStyle=\"primary\" disabled={!hasChanges}>\n              Save\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n}\n\ninterface AccountManagementProps {\n  connectorContext: ConnectorContext;\n  bcApiGateway: BrightcoveApiGateway;\n  spApiGateway: SharePointApiGateway;\n  validationResult: ConnectorValidationResult;\n}\n\ninterface AccountManagementState {\n  isAddingAccount: boolean;\n  isLoadingAccounts: boolean;\n  isSavingSettings: boolean;\n  isImportingSettings: boolean;\n  showConnectorSettings: boolean;\n  currentConnectorSettings: BrightcoveSettings;\n  connectorSettings: BrightcoveSettings;\n  accounts?: Array<BrightcoveAccount>;\n}\n","import * as React from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport { Prompt } from 'react-router';\nimport { Link, NavLink } from 'react-router-dom';\nimport { AccountFieldRow } from './AccountFieldRow';\n\nimport { BrightcoveAccount } from 'services';\nimport { BCGetCustomFieldsResponse } from '@brightcove/video-cloud-sdk';\nimport { ConnectorContext, UserRole, ConnectorValidationResult } from '../../services/connector';\n\nimport { Spinner } from '../common';\nimport autobind from 'autobind-decorator';\nimport { isEqual, cloneDeep, find, pull, merge } from 'lodash';\n\nimport './AccountView.css';\n\nexport class AccountView extends React.Component<AccountViewProps, AccountViewState> {\n  constructor(props: AccountViewProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isDeletingAccount: false,\n      isSavingAccount: false,\n      isLoadingAccount: true,\n      isLoadingCustomFields: false,\n      showCustomFieldsModal: false,\n      showDeleteModal: false\n    };\n  }\n\n  async componentDidMount() {\n    const { connectorContext, validationResult } = this.props;\n    const { spApiGateway } = connectorContext;\n\n    if (validationResult.accountEmptyGroups.length === 0 && (!connectorContext.currentUserRole || connectorContext.currentUserRole !== UserRole.Author)) {\n      window.location.hash = '#/';\n    }\n\n    // Get the brightcove accounts stored in settings.\n    const settings = await spApiGateway.settingsManager.loadBrightcoveSettings();\n    const account = find(settings.brightcoveAccounts, { id: this.props.accountId });\n\n    if (!account) {\n      window.location.hash = '#/account-management';\n      return;\n    }\n\n    this.setState({\n      isLoadingAccount: false,\n      account: cloneDeep(account),\n      originalAccount: account\n    });\n  }\n\n  @autobind\n  async saveAccountChanges() {\n    this.setState({\n      isSavingAccount: true\n    });\n\n    const { account } = this.state;\n\n    if (!account) {\n      return;\n    }\n\n    const { connectorContext } = this.props;\n    const { spApiGateway } = connectorContext;\n    const settings = await spApiGateway.settingsManager.loadBrightcoveSettings();\n    const existingAccount = find(settings.brightcoveAccounts, { id: this.props.accountId });\n    merge(existingAccount, account);\n    await spApiGateway.settingsManager.saveBrightcoveSettings(settings);\n\n    // Update available accounts.\n    await connectorContext.refreshAccounts();\n\n    this.setState({\n      isSavingAccount: false,\n      account: cloneDeep(existingAccount),\n      originalAccount: existingAccount\n    });\n\n    window.location.hash = '#/account-management';\n    window.location.reload(true);\n  }\n\n  @autobind\n  deleteAccount() {\n    this.setState({\n      showDeleteModal: true\n    });\n  }\n\n  @autobind\n  deleteCancel() {\n    this.setState({\n      showDeleteModal: false\n    });\n  }\n\n  @autobind\n  async deleteConfirm() {\n    this.setState({\n      isDeletingAccount: true\n    });\n\n    const { connectorContext } = this.props;\n    const { spApiGateway } = connectorContext;\n    const settings = await spApiGateway.settingsManager.loadBrightcoveSettings();\n    const existingAccount = find(settings.brightcoveAccounts, { id: this.props.accountId });\n    pull(settings.brightcoveAccounts, existingAccount);\n    await spApiGateway.settingsManager.saveBrightcoveSettings(settings);\n    window.location.hash = '#/account-management';\n  }\n\n  render() {\n    const { connectorContext } = this.props;\n\n    const { isDeletingAccount, isSavingAccount, isLoadingAccount, account, originalAccount } = this.state;\n\n    if (isDeletingAccount) {\n      return <Spinner loadingText=\"Deleting Account...\" />;\n    }\n\n    if (isSavingAccount) {\n      return <Spinner loadingText=\"Saving Account settings... The app will refresh once complete.\" />;\n    }\n\n    if (isLoadingAccount || !account) {\n      return <Spinner loadingText=\"Loading Account...\" />;\n    }\n\n    const hasChanges = isEqual(account, originalAccount);\n\n    return (\n      <>\n        <ol className=\"breadcrumb\">\n          <li>\n            <NavLink to=\"/\">Brightcove Management</NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/account-management\">Account Management</NavLink>\n          </li>\n          <li className=\"active\">{account.title}</li>\n        </ol>\n\n        <div className=\"hideSection\">\n          <table className=\"table table-striped\">\n            <thead>\n              <tr>\n                <td>Property</td>\n                <td>Value</td>\n                <td>Description</td>\n              </tr>\n            </thead>\n            <tbody>\n              <AccountFieldRow\n                fieldName=\"Account Name\"\n                fieldDescription=\"This field is used to specify the account name\"\n                fieldValue={account.title}\n                updateFieldValue={newValue => {\n                  this.setState({ account: { ...account, title: newValue } });\n                }}\n              />\n              <AccountFieldRow\n                fieldName=\"DefaultVideoPlayerId\"\n                fieldDescription=\"This field is used to specify the default video player of the account\"\n                fieldValue={account.defaultVideoPlayerId}\n                updateFieldValue={newValue => {\n                  this.setState({ account: { ...account, defaultVideoPlayerId: newValue } });\n                }}\n              />\n              <AccountFieldRow\n                fieldName=\"DefaultPlaylistPlayerId\"\n                fieldDescription=\"This field is used to specify the default playlist id of the account\"\n                fieldValue={account.defaultPlaylistPlayerId}\n                updateFieldValue={newValue => {\n                  this.setState({ account: { ...account, defaultPlaylistPlayerId: newValue } });\n                }}\n              />\n              <AccountFieldRow\n                fieldName=\"Account Id\"\n                fieldDescription=\"The Brightcove Account Id\"\n                fieldValue={account.accountId}\n                updateFieldValue={newValue => {\n                  this.setState({ account: { ...account, accountId: newValue } });\n                }}\n              />\n              <AccountFieldRow\n                fieldName=\"Client Id\"\n                fieldDescription=\"The Brightcove API Authentication Client Id\"\n                fieldValue={account.clientId}\n                updateFieldValue={newValue => {\n                  this.setState({ account: { ...account, clientId: newValue } });\n                }}\n              />\n              <AccountFieldRow\n                fieldName=\"Client Secret\"\n                fieldDescription=\"The Brightcove API Authentication Client Secret\"\n                fieldValue={account.clientSecret}\n                updateFieldValue={newValue => {\n                  this.setState({ account: { ...account, clientSecret: newValue } });\n                }}\n              />\n            </tbody>\n          </table>\n          <hr />\n          <table className=\"table table-striped\">\n            <thead>\n              <tr>\n                <td>Group</td>\n                <td>Value</td>\n              </tr>\n            </thead>\n            <tbody>\n              <AccountFieldRow\n                fieldName=\"Author's Group\"\n                fieldValue={account.accountAuthorsGroupName}\n                fieldValueType=\"group\"\n                connectorContext={connectorContext}\n                updateFieldValue={newValue => {\n                  this.setState({ account: { ...account, accountAuthorsGroupName: newValue } });\n                }}\n              />\n              <AccountFieldRow\n                fieldName=\"Viewer's Group\"\n                fieldValue={account.accountViewersGroupName}\n                fieldValueType=\"group\"\n                connectorContext={connectorContext}\n                updateFieldValue={newValue => {\n                  this.setState({ account: { ...account, accountViewersGroupName: newValue } });\n                }}\n              />\n            </tbody>\n          </table>\n          <div>\n            <hr />\n            <Button bsStyle={!hasChanges ? 'primary' : 'default'} bsSize=\"large\" disabled={hasChanges} onClick={this.saveAccountChanges} style={{ margin: '2px' }}>\n              Save Account\n            </Button>\n            <Button bsStyle=\"warning\" bsSize=\"large\" onClick={this.deleteAccount} style={{ margin: '2px' }}>\n              Delete Account\n            </Button>\n            <Link className=\"btn btn-lg btn-default\" to=\"/account-management\" style={{ margin: '2px' }}>\n              Cancel\n            </Link>\n          </div>\n        </div>\n\n        <Modal show={this.state.showDeleteModal} onHide={this.deleteCancel}>\n          <Modal.Header closeButton={true}>\n            <Modal.Title>Confirm Account Deletion</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <h5>This account will be permanently deleted. Are you sure you want to proceed?</h5>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={this.deleteConfirm} bsStyle=\"danger\">\n              Delete Account\n            </Button>\n            <Button onClick={this.deleteCancel}>Cancel</Button>\n          </Modal.Footer>\n        </Modal>\n        <Prompt when={!hasChanges} message=\"There are unsaved changes. Are you sure you wish to leave?\" />\n      </>\n    );\n  }\n}\n\ninterface AccountViewProps {\n  connectorContext: ConnectorContext;\n  accountId: string;\n  validationResult: ConnectorValidationResult;\n}\n\ninterface AccountViewState {\n  account?: BrightcoveAccount;\n  originalAccount?: BrightcoveAccount;\n  isDeletingAccount: boolean;\n  isSavingAccount: boolean;\n  isLoadingAccount: boolean;\n  isLoadingCustomFields: boolean;\n  customFields?: BCGetCustomFieldsResponse;\n  accountInEdit?: BrightcoveAccount;\n  showCustomFieldsModal: boolean;\n  showDeleteModal: boolean;\n}\n","import * as React from 'react';\nimport Dropzone from 'react-dropzone';\nimport { ImageFile } from 'react-dropzone';\nimport { Prompt } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { Button, ProgressBar } from 'react-bootstrap';\nimport { AccountPicker, FolderPicker } from '../common';\n\nimport { BrightcoveAccount } from '../../services';\nimport { BCIngestProfile, BCFolder } from '@brightcove/video-cloud-sdk';\nimport { ConnectorContext, ConnectorVideoUpload } from '../../services/connector';\n\nimport { filter, cloneDeep } from 'lodash';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowCircleUp } from '@fortawesome/free-solid-svg-icons';\nimport autobind from 'autobind-decorator';\nimport './AddVideos.css';\n\nexport class AddVideos extends React.Component<AddVideosProps, AddVideosState> {\n  constructor(props: AddVideosProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      videoFiles: [],\n      currentTags: []\n    };\n  }\n\n  @autobind\n  onDrop(acceptedFiles: ImageFile[]) {\n    const { connectorContext, accountId } = this.props;\n    const { videoFiles, selectedFolder, currentTags } = this.state;\n\n    if (!accountId) {\n      throw new Error('An account must be selected.');\n    }\n\n    acceptedFiles.forEach(async file => {\n      const uploadingVideo: ConnectorVideoUpload = {\n        file,\n        accountId: accountId,\n        targetFolder: cloneDeep(selectedFolder),\n        tags: cloneDeep(currentTags),\n        fileName: file.name,\n        isUploading: true,\n        isComplete: false,\n        hasError: false,\n        status: 'Starting Upload...',\n        progress: 10\n      };\n\n      videoFiles.push(uploadingVideo);\n      connectorContext.performDynamicIngest(uploadingVideo, video => {\n        const videoIx = videoFiles.indexOf(video);\n        videoFiles[videoIx] = video;\n\n        // TODO: Instruct react to only partially update the specific video's state?\n        this.setState({\n          videoFiles\n        });\n      });\n    });\n\n    this.setState({\n      videoFiles\n    });\n  }\n\n  updateVideoStatus() {\n    this.setState({\n      videoFiles: [...this.state.videoFiles]\n    });\n  }\n\n  @autobind\n  handleSelectedAccountChange(selectedAccount: BrightcoveAccount) {\n    const { onAccountChange } = this.props;\n    if (onAccountChange) {\n      onAccountChange(selectedAccount.accountId);\n    }\n  }\n\n  @autobind\n  handleSelectedFolderChange(selectedFolder?: BCFolder) {\n    this.setState({\n      selectedFolder\n    });\n  }\n\n  @autobind\n  handleOnTagsChange(event: React.ChangeEvent<HTMLInputElement>) {\n    let currentTags: Array<string> = [];\n    const str = event.target.value;\n    if (str) {\n      currentTags = str.split(',').map(s => s.trim());\n    }\n\n    this.setState({\n      currentTags\n    });\n  }\n\n  render() {\n    let dropzoneRef: Dropzone | null;\n\n    const { connectorContext, accountId } = this.props;\n\n    const { videoFiles, selectedFolder, currentTags } = this.state;\n    const uploadingVideoFiles = filter(videoFiles, { isUploading: true });\n\n    const strCurrentTags = currentTags.join(',');\n\n    return (\n      <>\n        <ol className=\"breadcrumb\">\n          <li>\n            <Link to=\"/\">Brightcove Management</Link>\n          </li>\n          <li className=\"active\">Add Videos</li>\n        </ol>\n        <div className=\"formContent\">\n          <label>Select Account:</label> <AccountPicker availableAccounts={connectorContext.availableAccounts} selectedAccountId={accountId} onChange={this.handleSelectedAccountChange} />\n        </div>\n        <Dropzone\n          className=\"dropzone\"\n          ref={(node: Dropzone) => {\n            dropzoneRef = node;\n          }}\n          onDrop={this.onDrop}\n          disableClick={true}\n        >\n          {() => (\n            <div style={{ textAlign: 'center', marginTop: '5px' }}>\n              <div className=\"drag-videos-icon\">\n                <FontAwesomeIcon icon={faArrowCircleUp} style={{ color: '#d32781' }} size=\"5x\" />\n              </div>\n              <h5 className=\"drag-videos-target\">Drag Your Videos Here</h5>\n              <div className=\"drag-or-label dimmable\">-or-</div>\n              <Button\n                bsStyle=\"primary\"\n                onClick={() => {\n                  dropzoneRef && dropzoneRef.open();\n                }}\n              >\n                Browse for Videos\n                    </Button>\n            </div>\n          )}\n        </Dropzone>\n        <div className=\"form-group\" style={{ paddingTop: '5px' }}>\n          <label className=\"control-label\">Folder for all current uploads</label>\n          <div className=\"control-group\">\n            <FolderPicker accountId={accountId} connectorContext={connectorContext} selectedFolderId={selectedFolder && selectedFolder.id} onChange={this.handleSelectedFolderChange} />\n          </div>\n        </div>\n        <div className=\"form-group\" style={{ paddingTop: '5px' }}>\n          <label className=\"control-label\">Tags for all current uploads (comma-separated)</label>\n          <div className=\"control-group\">\n            <input className=\"form-control\" type=\"text\" value={strCurrentTags} onChange={this.handleOnTagsChange} />\n          </div>\n        </div>\n        <hr />\n        <table className=\"table table-striped\">\n          <tbody>\n            {videoFiles.map((video, ix) => (\n              <tr key={ix} className=\"row\">\n                <td>\n                  <div>\n                    <div className=\"result\">\n                      {video.fileName}&nbsp;\n                      <span className=\"small\">\n                        (Account:&nbsp;<strong>{video.accountId}</strong>&nbsp; Folder:&nbsp;\n                        <strong>\n                          {video.targetFolder && video.targetFolder.name}\n                          {!video.targetFolder && <i>Root Folder</i>}\n                        </strong>\n                        &nbsp; Tags:&nbsp;\n                        <strong>\n                          {video.tags && video.tags.length > 0 && video.tags.join(', ')}\n                          {(!video.tags || video.tags.length <= 0) && <i>No Tags Entered</i>}\n                        </strong>\n                        )\n                      </span>\n                    </div>\n                    <div>\n                      <ProgressBar bsStyle={video.hasError ? 'danger' : 'info'} now={video.progress} striped={true} active={!video.isComplete} />\n                      <div style={{ fontSize: 'small' }}>\n                        <span>{video.status}</span>\n                        {video.progress === 100 && !video.hasError && video.bcVideo && (\n                          <Link className=\"btn btn-link\" to={`/${video.accountId}/manage-videos/${video.bcVideo.id}/edit`} target={uploadingVideoFiles.length > 0 ? '_blank' : '_self'}>\n                            Edit Video\n                          </Link>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        <Prompt when={uploadingVideoFiles && uploadingVideoFiles.length > 0} message=\"There are videos currently uploading. Are you sure you wish to leave?\" />\n      </>\n    );\n  }\n}\n\ninterface AddVideosProps {\n  accountId: string;\n  connectorContext: ConnectorContext;\n  onAccountChange?: (accountId: string) => void;\n  onAllowNavigateChange?: (allowNavigate: boolean) => void;\n}\n\ninterface AddVideosState {\n  videoFiles: Array<ConnectorVideoUpload>;\n  selectedAccount?: BrightcoveAccount;\n  selectedIngestProfile?: BCIngestProfile;\n  selectedFolder?: BCFolder;\n  currentTags: Array<string>;\n}\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Modal } from 'react-bootstrap';\nimport { BootstrapTable, TableHeaderColumn, Options } from 'react-bootstrap-table';\nimport { AccountPicker, Spinner } from '../common';\nimport { ExperienceEmbed, EmbedLayoutMode } from '../embeds';\n\nimport { BrightcoveAccount } from 'services';\nimport { BrightcoveApiGateway, BCExperience } from '@brightcove/video-cloud-sdk';\nimport { SharePointApiGateway } from 'services/sharepoint';\nimport { ConnectorContext } from 'services/connector';\nimport { BrightcoveExperienceProps, BrightcoveExperienceUtils } from '../brightcove-experience';\n\nimport autobind from 'autobind-decorator';\nimport './ManageExperiences.css';\n\nexport class ManageExperiences extends React.Component<ManageExperiencesProps, ManageExperiencesState> {\n  constructor(props: ManageExperiencesProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isLoadingExperiences: true,\n      showEmbedModal: false,\n      experiences: []\n    };\n  }\n\n  @autobind\n  UNSAFE_componentWillMount() {\n    this.loadExperiences(this.props.accountId);\n  }\n\n  @autobind\n  async UNSAFE_componentWillUpdate(nextProps: ManageExperiencesProps) {\n    if (nextProps.accountId !== this.props.accountId) {\n      this.loadExperiences(nextProps.accountId);\n    }\n  }\n\n  async loadExperiences(accountId: string) {\n    if (!accountId) {\n      return;\n    }\n\n    this.setState({\n      isLoadingExperiences: true\n    });\n\n    const experiencesApi = this.props.bcApiGateway.experiencesApi;\n    try {\n      const experiencesResponse = await experiencesApi.getExperiences(accountId);\n\n      this.setState({\n        isLoadingExperiences: false,\n        experiences: experiencesResponse.items\n      });\n    } catch (err) {\n      this.setState({\n        isLoadingExperiences: false,\n        experiences: []\n      });\n    }\n  }\n\n  @autobind\n  async handleAccountChange(newAccount: BrightcoveAccount) {\n    const { onAccountChange } = this.props;\n\n    if (onAccountChange) {\n      onAccountChange(newAccount.accountId);\n    }\n\n    this.loadExperiences(newAccount.accountId);\n  }\n\n  @autobind\n  handleEmbedPlayerPropsChanged(embedExperienceProps: Partial<BrightcoveExperienceProps>) {\n    this.setState({\n      embedExperienceProps\n    });\n  }\n\n  @autobind\n  showEmbedModal(experience: BCExperience) {\n    const { accountId } = this.props;\n\n    const embedExperienceProps = BrightcoveExperienceUtils.getDefaultBrightcoveExperienceProps();\n    embedExperienceProps.accountId = accountId;\n    embedExperienceProps.experienceId = experience.id;\n    embedExperienceProps.sharepointVersion = this.props.connectorContext.spAddinContext.SPProductNumber;\n\n    this.setState({\n      showEmbedModal: true,\n      embedExperience: experience,\n      embedExperienceProps\n    });\n  }\n\n  @autobind\n  hideEmbedModal() {\n    this.setState({\n      showEmbedModal: false,\n      embedExperience: undefined,\n      embedExperienceProps: undefined\n    });\n  }\n\n  @autobind\n  renderExperienceNameCell(cell: any, experience: BCExperience) {\n    const { accountId } = this.props;\n    const editPlaylistUrl = `/${accountId}/manage-experiences/${experience.id}/preview`;\n    return (\n      <>\n        <Link to={editPlaylistUrl}>{experience.name}</Link>\n        <br />\n        {experience.videos.videoIds && experience.videos.videoIds.length > 0 && (\n          <>\n            <div style={{ fontSize: 'small' }}>Video IDs in list: </div>\n            <div style={{ fontSize: 'xx-small' }}>\n              {experience.videos.videoIds.map(videoId => (\n                <span key={videoId} style={{ paddingLeft: '5px', float: 'left' }}>\n                  {videoId}\n                </span>\n              ))}\n            </div>\n          </>\n        )}\n        {(!experience.videos.videoIds || experience.videos.videoIds.length === 0) && <i>No Videos</i>}\n      </>\n    );\n  }\n\n  @autobind\n  renderEditLink(cell: any, experience: BCExperience): React.ReactElement<any> {\n    // const { accountId } = this.props;\n    // const editPlaylistUrl = `/${accountId}/manage-experiences/${experience.id}/preview`;;\n\n    return (\n      <div className=\"result text-center\">\n        {/* <div>\n                    <Link\n                        style={{ width: '70px' }}\n                        to={editPlaylistUrl}\n                    >\n                        Preview\n                    </Link>\n                </div> */}\n        <div>\n          <Button bsStyle=\"success\" style={{ width: '70px' }} bsSize=\"small\" onClick={() => this.showEmbedModal(experience)}>\n            Embed\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { accountId, connectorContext } = this.props;\n\n    const { isLoadingExperiences, experiences, showEmbedModal, embedExperience, embedExperienceProps } = this.state;\n\n    const experienceTableOptions: Options = {\n      defaultSortName: 'updatedAt', // default sort column name\n      defaultSortOrder: 'desc', // default sort order\n      noDataText: 'There are no experiences defined in this account.'\n    };\n\n    const labelClass = 'col-md-3 control-label';\n    const controlClass = 'col-md-9';\n\n    return (\n      <>\n        <ol className=\"breadcrumb\">\n          <li>\n            <Link to=\"/\">Brightcove Management</Link>\n          </li>\n          <li className=\"active\">Manage Experiences</li>\n        </ol>\n        <div className=\"search form-horizontal\">\n          <div className=\"form-group\">\n            <label className={labelClass}>Select Account:</label>{' '}\n            <div className={controlClass}>\n              <AccountPicker availableAccounts={connectorContext.availableAccounts} selectedAccountId={accountId} onChange={this.handleAccountChange} />\n            </div>\n          </div>\n        </div>\n        {accountId && (\n          <>\n            {isLoadingExperiences && <Spinner loadingText=\"Loading Experiences...\" />}\n            {!isLoadingExperiences && (\n              <>\n                <BootstrapTable data={experiences} striped={true} bordered={false} options={experienceTableOptions}>\n                  <TableHeaderColumn dataField=\"name\" dataFormat={this.renderExperienceNameCell} dataSort={true}>\n                    Name\n                  </TableHeaderColumn>\n                  <TableHeaderColumn dataField=\"description\" dataSort={true}>\n                    Short Description\n                  </TableHeaderColumn>\n                  <TableHeaderColumn dataField=\"template\" dataSort={true}>\n                    Type\n                  </TableHeaderColumn>\n                  <TableHeaderColumn width=\"200\" dataField=\"id\" dataSort={true} isKey={true}>\n                    ID\n                  </TableHeaderColumn>\n                  <TableHeaderColumn dataField=\"updatedAt\" dataSort={true} hidden={true}>\n                    Updated At\n                  </TableHeaderColumn>\n                  <TableHeaderColumn width=\"90\" dataFormat={this.renderEditLink}>\n                    Edit Link\n                  </TableHeaderColumn>\n                </BootstrapTable>\n                <hr />\n              </>\n            )}\n            <Modal className=\"embed\" show={showEmbedModal} onHide={this.hideEmbedModal} bsSize=\"large\">\n              <Modal.Header closeButton={true}>\n                <Modal.Title>Embed Experience</Modal.Title>\n              </Modal.Header>\n              <Modal.Body>\n                {embedExperienceProps && (\n                  <ExperienceEmbed\n                    bcExperienceProps={embedExperienceProps}\n                    layoutMode={EmbedLayoutMode.Full}\n                    connectorContext={connectorContext}\n                    experience={embedExperience}\n                    onExperiencePropsChanged={this.handleEmbedPlayerPropsChanged}\n                  />\n                )}\n              </Modal.Body>\n              <Modal.Footer />\n            </Modal>\n          </>\n        )}\n      </>\n    );\n  }\n}\n\ninterface ManageExperiencesProps {\n  accountId: string;\n  connectorContext: ConnectorContext;\n  bcApiGateway: BrightcoveApiGateway;\n  spApiGateway: SharePointApiGateway;\n  onAccountChange?: (accountId: string) => void;\n}\n\ninterface ManageExperiencesState {\n  isLoadingExperiences: boolean;\n  experiences: Array<BCExperience>;\n\n  showEmbedModal: boolean;\n  embedExperience?: BCExperience;\n  embedExperienceProps?: Partial<BrightcoveExperienceProps>;\n}\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Spinner } from '../common';\nimport autobind from 'autobind-decorator';\n\nimport { BrightcoveApiGateway, BCExperience } from '@brightcove/video-cloud-sdk';\nimport { SharePointApiGateway } from '../../services/sharepoint';\nimport { ConnectorContext } from '../../services/connector';\n\nimport './PreviewExperience.css';\n\nexport class PreviewExperience extends React.Component<PreviewExperienceProps, PreviewExperienceState> {\n  constructor(props: PreviewExperienceProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isLoadingExperience: true\n    };\n  }\n\n  @autobind\n  async componentDidMount() {\n    await this.getExperience();\n  }\n\n  @autobind\n  async getExperience() {\n    const { accountId, experienceId, bcApiGateway } = this.props;\n\n    if (!experienceId) {\n      window.location.hash = `#/${accountId}/manage-experiences`;\n      return;\n    }\n\n    this.setState({\n      isLoadingExperience: true\n    });\n\n    const experiencesApi = bcApiGateway.experiencesApi;\n    const bcExperience = await experiencesApi.getExperienceById(accountId, experienceId);\n\n    this.setState({\n      isLoadingExperience: false,\n      experience: bcExperience\n    });\n  }\n\n  render() {\n    const { experienceId, accountId } = this.props;\n    const { isLoadingExperience, experience } = this.state;\n\n    if (isLoadingExperience || !experience) {\n      return <Spinner loadingText=\"Loading Experience...\" />;\n    }\n\n    return (\n      <>\n        <ol className=\"breadcrumb\">\n          <li>\n            <Link to=\"/\">Brightcove Management</Link>\n          </li>\n          <li>\n            <Link to={`/${accountId}/manage-experiences`}>Manage Experiences</Link>\n          </li>\n          <li>\n            <Link to={`/${accountId}/manage-experiences`}>Account {accountId}</Link>\n          </li>\n          <li className=\"active\">Experience {experienceId.substr(0, 7)}</li>\n        </ol>\n        <div className=\"form-horizontal\">\n          <h3>{experience.name}</h3>\n          <div className=\"row\">\n            <iframe title=\"Experience\" className=\"col-md-12\" src={experience.previewUrl} style={{ height: '500px' }} />\n          </div>\n          <hr />\n          <div className=\"pull-right\">\n            <Link className=\"btn btn-default btn-space\" to={`/${experience.accountId}/manage-experiences`}>\n              Cancel\n            </Link>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\ninterface PreviewExperienceProps {\n  connectorContext: ConnectorContext;\n  bcApiGateway: BrightcoveApiGateway;\n  spApiGateway: SharePointApiGateway;\n  accountId: string;\n  experienceId: string;\n}\n\ninterface PreviewExperienceState {\n  isLoadingExperience: boolean;\n  experience?: BCExperience;\n}\n","import * as React from 'react';\nimport { Spinner } from '../common';\n\nimport { SharePointApiGateway } from '../../services/sharepoint';\nimport { ConnectorValidationResult } from '../../services/connector';\n\nexport class InstallationValidation extends React.Component<InstallationValidationProps, InstallationValidationState> {\n  constructor(props: InstallationValidationProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isPerformingInstallationAction: false,\n      installationActionMessage: ''\n    };\n  }\n\n  render() {\n    const { validationResult } = this.props;\n\n    const { isPerformingInstallationAction, installationActionMessage } = this.state;\n\n    return (\n      <>\n        {isPerformingInstallationAction && <Spinner loadingText={installationActionMessage || 'Configuring...'} />}\n        {!isPerformingInstallationAction && (\n          <>\n            <h4>Welcome to the Brightcove Video Connector for SharePoint!</h4>\n            <p>We&apos;ve detected a few installation steps that need to be completed:</p>\n            <ul>\n              {!validationResult.isProxyDefined && (\n                <li>\n                  <span>\n                    <strong>Missing/Empty Proxy settings.</strong>\n                  </span>\n                  <div>The Brightcove Proxy settings must be provided. Please provide the proxy settings in &apos;Connector Settings&apos; under Account Management</div>\n                  <br />\n                </li>\n              )}\n              {!validationResult.areAccountsAvailable && (\n                <>\n                  <li>\n                    <span>\n                      <strong>No accounts defined</strong>\n                    </span>\n                    <div>Please add a new account within account management.</div>\n                  </li>\n                </>\n              )}\n              {validationResult.areAccountsAvailable && (\n                <>\n                  {validationResult.accountEmptyAccountId.length > 0 && (\n                    <li>\n                      <span>\n                        <strong>Account Id not defined in account</strong>\n                      </span>\n                      <div>The following accounts are missing the account id:</div>\n                      {validationResult.accountEmptyAccountId.map((accountName, ix) => (\n                        <div key={ix}>{accountName}</div>\n                      ))}\n                      <br />\n                      <p>Please correct this by editing the account settings</p>\n                      <br />\n                    </li>\n                  )}\n\n                  {validationResult.accountEmptyGroups.length > 0 && (\n                    <li>\n                      <span>\n                        <strong>Groups not defined in account</strong>\n                      </span>\n                      <div>The following accounts do not have groups defined:</div>\n                      {validationResult.accountEmptyGroups.map((accountName, ix) => (\n                        <div key={ix}>{accountName}</div>\n                      ))}\n                      <br />\n                      <p>Please correct this by editing the account settings</p>\n                      <br />\n                    </li>\n                  )}\n\n                  {validationResult.missingGroups.length > 0 && (\n                    <li>\n                      <span>\n                        <strong>Missing Groups</strong>\n                      </span>\n                      <div>The following groups are specified within account settings but have not been created:</div>\n                      {validationResult.missingGroups.map((missingGroup, ix) => (\n                        <div key={ix}>{missingGroup}</div>\n                      ))}\n                      <br />\n                    </li>\n                  )}\n                </>\n              )}\n            </ul>\n            <p>\n              <i>\n                For more information or assistance, please visit the Brightcove Video Connector documentation{' '}\n                <a href=\"https://support.brightcove.com/getting-started-brightcove-video-connect-sharepoint\" target=\"_blank\" rel=\"noopener noreferrer\">\n                  {' '}\n                  by clicking this link\n                </a>\n              </i>\n            </p>\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport interface InstallationValidationProps {\n  spApiGateway: SharePointApiGateway;\n  validationResult: ConnectorValidationResult;\n}\n\nexport interface InstallationValidationState {\n  isPerformingInstallationAction: boolean;\n  installationActionMessage?: string;\n}\n","import * as React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { HashRouter as Router, Route, Switch, Redirect, Link, matchPath } from 'react-router-dom';\nimport autobind from 'autobind-decorator';\n\nimport { ConnectorContext, ConnectorValidationResult, UserRole } from './services/connector';\n\nimport { Home } from './components/home';\nimport { AccountManagement, AccountView } from './components/account-management';\nimport { AddVideos } from './components/add-videos';\nimport { ManageVideos, EditVideo } from './components/manage-videos';\nimport { ManagePlaylists, EditPlaylist } from './components/manage-playlists';\nimport { ManageExperiences, PreviewExperience } from './components/manage-experiences';\nimport { LoadingProgress } from './components/common';\nimport { InstallationValidation } from './components/installation-validation';\n\nimport './Manage.css';\n\nconst RouteButton = ({ label, to, activeOnlyWhenExact, path }: { label: string; to: string; activeOnlyWhenExact?: boolean; path?: string }) => {\n  const linkClass = 'btn btn-lg btn-block';\n  return (\n    <Route\n      path={path || to}\n      exact={activeOnlyWhenExact}\n      // eslint-disable-next-line react/no-children-prop\n      children={({ match }) => (\n        <>\n          {match && (\n            <Link className={linkClass + ' btn-primary'} to={to}>\n              {label}\n            </Link>\n          )}\n          {!match && (\n            <Link className={linkClass + ' btn-default'} to={to}>\n              {label}\n            </Link>\n          )}\n        </>\n      )}\n    />\n  );\n};\n\nexport class Manage extends React.Component<ManageProps, ManageState> {\n  constructor(props: ManageProps, context?: any) {\n    super(props, context);\n\n    this.state = {\n      isLoading: false,\n      showInstallationModal: false,\n      validationResult: {\n        isValid: false,\n        isSettingsListCreated: false,\n        isProxyDefined: false,\n        isAccountsListCreated: false,\n        isVideosListCreated: false,\n        areAccountsAvailable: false,\n        accountEmptyAccountId: [],\n        accountEmptyGroups: [],\n        missingGroups: [],\n        currentUserAvailableAccounts: [],\n        currentUserMaxRole: UserRole.None\n      }\n    };\n  }\n\n  async UNSAFE_componentWillMount() {\n    const { connectorContext } = this.props;\n\n    this.setState({\n      isLoading: true\n    });\n\n    const validationResult = await connectorContext.validateConfiguration();\n    connectorContext.currentUserRole = validationResult.currentUserMaxRole;\n\n    if (validationResult.isValid) {\n      await connectorContext.initialize();\n    }\n\n    const pathMatch = matchPath<{ accountId: string }>(window.location.hash.replace('#', ''), {\n      path: '/:accountId(\\\\d+)'\n    });\n\n    let accountId = '';\n    if (pathMatch) {\n      accountId = pathMatch.params.accountId;\n    }\n\n    if (!accountId && connectorContext.availableAccounts && connectorContext.availableAccounts.length > 0) {\n      accountId = connectorContext.availableAccounts[0].accountId;\n    }\n\n    this.setState({\n      isLoading: false,\n      validationResult,\n      showInstallationModal: !validationResult.isValid && (!connectorContext.currentUserRole || connectorContext.currentUserRole === UserRole.Author)\n    });\n  }\n\n  @autobind\n  handleAccountChange(accountId: string) {\n    let accountActionPath = '';\n    const pathMatch = matchPath<{ accountId: string; accountActionPath: string }>(window.location.hash.replace('#', ''), {\n      path: '/:accountId(\\\\d+):accountActionPath(.*)?'\n    });\n\n    if (pathMatch && pathMatch.params.accountActionPath) {\n      accountActionPath = pathMatch.params.accountActionPath;\n    }\n\n    window.location.hash = `/${accountId}${accountActionPath}`;\n    window.location.reload();\n  }\n\n  @autobind\n  hideInstallationModel() {\n    this.setState({\n      showInstallationModal: false\n    });\n  }\n\n  render() {\n    const { isLoading } = this.state;\n\n    if (isLoading) {\n      return <LoadingProgress />;\n    }\n\n    const { connectorContext } = this.props;\n    const { bcApiGateway, spApiGateway } = connectorContext;\n\n    const { validationResult, showInstallationModal } = this.state;\n\n    const showAccountManagement =\n      (connectorContext && connectorContext.currentUserRole && connectorContext.currentUserRole === UserRole.Author) ||\n      validationResult.accountEmptyGroups.length > 0 ||\n      validationResult.accountEmptyAccountId.length > 0 ||\n      false;\n\n    const pathMatch = matchPath<{ accountId: string }>(window.location.hash.replace('#', ''), {\n      path: '/:accountId(\\\\d+)'\n    });\n\n    let accountId = '';\n    if (pathMatch) {\n      accountId = pathMatch.params.accountId;\n    } else if (connectorContext.availableAccounts && connectorContext.availableAccounts.length > 0) {\n      accountId = connectorContext.availableAccounts[0].accountId;\n    }\n\n    return (\n      <Router>\n        <div className=\"App\">\n          <div className=\"container body-content\">\n            <div className=\"row\">\n              <div className=\"col-md-4\">\n                <nav className=\"leftNav\">\n                  <RouteButton to=\"/\" label=\"Home\" activeOnlyWhenExact={true} path=\"/:accountId(\\d+)?\" />\n                  {showAccountManagement && <RouteButton to=\"/account-management\" label=\"Account Management\" />}\n                  {accountId && (\n                    <>\n                      <RouteButton to={`/${accountId}/add-videos`} label=\"Add Videos\" path=\"/:accountId(\\d+)/add-videos\" />\n                      <RouteButton to={`/${accountId}/manage-videos`} label=\"Manage Videos\" path=\"/:accountId(\\d+)/manage-videos\" />\n                      <RouteButton to={`/${accountId}/manage-playlists`} label=\"Manage Playlists\" path=\"/:accountId(\\d+)/manage-playlists\" />\n                      <RouteButton to={`/${accountId}/manage-experiences`} label=\"Manage Experiences\" path=\"/:accountId(\\d+)/manage-experiences\" />\n                    </>\n                  )}\n                </nav>\n              </div>\n              <div className=\"col-md-8\">\n                <Switch>\n                  <Route path=\"/:accountId(\\d+)?\" exact={true} component={Home} />\n                  <Route path=\"/account-management\" exact={true}>\n                    <AccountManagement connectorContext={connectorContext} bcApiGateway={bcApiGateway} spApiGateway={spApiGateway} validationResult={validationResult} />\n                  </Route>\n                  <Route\n                    path=\"/account-management/view/:accountSharePointId\"\n                    render={props => <AccountView connectorContext={connectorContext} accountId={props.match.params.accountSharePointId} validationResult={validationResult} />}\n                  />\n                  <Route path=\"/:accountId/add-videos\" render={() => <AddVideos connectorContext={connectorContext} accountId={accountId} onAccountChange={this.handleAccountChange} />} />\n                  <Route path=\"/:accountId/manage-videos\" exact={true}>\n                    <ManageVideos accountId={accountId} connectorContext={connectorContext} onAccountChange={this.handleAccountChange} />\n                  </Route>\n                  <Route\n                    path=\"/:accountId/manage-videos/:videoId/edit\"\n                    render={props => <EditVideo connectorContext={connectorContext} accountId={accountId} videoId={props.match.params.videoId} />}\n                  />\n                  <Route path=\"/:accountId/manage-playlists\" exact={true}>\n                    <ManagePlaylists accountId={accountId} connectorContext={connectorContext} bcApiGateway={bcApiGateway} spApiGateway={spApiGateway} onAccountChange={this.handleAccountChange} />\n                  </Route>\n                  <Route path=\"/:accountId/manage-playlists/new\" render={() => <EditPlaylist accountId={accountId} bcApiGateway={bcApiGateway} spApiGateway={spApiGateway} />} />\n                  <Route\n                    path=\"/:accountId/manage-playlists/:playlistId/edit\"\n                    render={props => <EditPlaylist bcApiGateway={bcApiGateway} spApiGateway={spApiGateway} accountId={accountId} playlistId={props.match.params.playlistId} />}\n                  />\n                  <Route path=\"/:accountId/manage-experiences\" exact={true}>\n                    <ManageExperiences accountId={accountId} connectorContext={connectorContext} bcApiGateway={bcApiGateway} spApiGateway={spApiGateway} onAccountChange={this.handleAccountChange} />\n                  </Route>\n                  <Route\n                    path=\"/:accountId/manage-experiences/:experienceId/preview\"\n                    render={props => (\n                      <PreviewExperience\n                        connectorContext={connectorContext}\n                        bcApiGateway={bcApiGateway}\n                        spApiGateway={spApiGateway}\n                        accountId={accountId}\n                        experienceId={props.match.params.experienceId}\n                      />\n                    )}\n                  />\n                  {accountId && <Redirect to={`/${accountId}`} />}\n                  {!accountId && <Redirect to={`/`} />}\n                </Switch>\n              </div>\n            </div>\n            <hr />\n            <footer>\n              <p className=\"copyright\"> 2018 - Brightcove</p>\n              <p className=\"version\">{process.env.REACT_APP_VERSION}</p>\n            </footer>\n          </div>\n          <Modal className=\"installation-modal\" show={showInstallationModal} onHide={this.hideInstallationModel} bsSize=\"large\">\n            <Modal.Header closeButton={true}>\n              <Modal.Title>Brightcove Video Connector for SharePoint Installation</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <InstallationValidation spApiGateway={connectorContext.spApiGateway} validationResult={validationResult} />\n            </Modal.Body>\n            <Modal.Footer />\n          </Modal>\n        </div>\n      </Router>\n    );\n  }\n}\n\ninterface ManageProps {\n  connectorContext: ConnectorContext;\n  raiseError: (message: string, err?: Error) => boolean;\n}\n\ninterface ManageState {\n  isLoading: boolean;\n  validationResult: ConnectorValidationResult;\n  showInstallationModal: boolean;\n}\n\nexport default Manage;\n","import * as React from 'react';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport NotificationSystem from 'react-notification-system';\nimport autobind from 'autobind-decorator';\n\nimport { Mini } from './Mini';\nimport { Part } from './Part';\nimport { Manage } from './Manage';\n\nimport { ConnectorContext } from './services/connector';\n\nexport class App extends React.Component<{}, AppState> {\n  private _notificationSystem: NotificationSystem.System | undefined;\n\n  constructor(props: {}, context?: any) {\n    super(props, context);\n\n    const connectorContext = new ConnectorContext(this.raiseError);\n\n    this.state = {\n      connectorContext\n    };\n\n    // Redirect to mini routes based on query string.\n    const { spAddinContext } = connectorContext;\n    if (spAddinContext.mini) {\n      switch (spAddinContext.mini) {\n        case 'videos':\n          window.location.hash = '#/mini/videos';\n          break;\n        case 'playlists':\n          window.location.hash = '#/mini/playlists';\n          break;\n        case 'experiences':\n          window.location.hash = '#/mini/experiences';\n          break;\n        default:\n          // Do Nothing.\n          break;\n      }\n    }\n\n    // Redirect to part routes based on query string.\n    if (spAddinContext.part) {\n      switch (spAddinContext.part) {\n        case 'experience':\n          window.location.hash = '#part/experience';\n          break;\n        case 'playlist':\n          window.location.hash = '#/part/playlist';\n          break;\n        case 'video':\n          window.location.hash = '#/part/video';\n          break;\n        default:\n          // Do Nothing.\n          break;\n      }\n    }\n  }\n\n  render() {\n    const { connectorContext } = this.state;\n\n    return (\n      <Router>\n        <>\n          <Switch>\n            <Route path=\"/mini/:area\" exact={true}>\n              <Mini connectorContext={connectorContext} raiseError={this.raiseError} />\n            </Route>\n            <Route path=\"/part/:kind\" exact={true}>\n              <Part connectorContext={connectorContext} raiseError={this.raiseError} />\n            </Route>\n            <Route>\n              <Manage connectorContext={connectorContext} raiseError={this.raiseError} />\n            </Route>\n          </Switch>\n          <NotificationSystem ref={(ns: NotificationSystem.System) => this.setNotificationSystem(ns)} />\n        </>\n      </Router>\n    );\n  }\n\n  @autobind\n  setNotificationSystem(ns: NotificationSystem.System) {\n    this._notificationSystem = ns;\n  }\n\n  @autobind\n  private raiseError(message: string): boolean {\n    if (!this._notificationSystem) {\n      return true;\n    }\n\n    this._notificationSystem.addNotification({\n      title: 'An error has occurred',\n      message: message,\n      level: 'error',\n      position: 'br',\n      autoDismiss: 0\n    });\n    return false;\n  }\n}\n\ninterface AppState {\n  connectorContext: ConnectorContext;\n}\n","import 'babel-polyfill';\nimport 'whatwg-fetch';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { App } from './App';\nimport 'vendor';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root') as HTMLElement);\n","export * from './BrightcoveAccount';\nexport * from './BrightcoveSettings';\n\nexport * from './BCSPAccessTokenService';\nexport * from './ResourceLoader';\nexport * from './Utils';\n","import { isString } from 'lodash';\n\n/**\n * Utility function to convert an object into query string parameters.\n * @param params\n */\nexport function getQueryString(params: object) {\n  const queryTerms = [];\n  const esc = encodeURIComponent;\n\n  for (const key of Object.keys(params)) {\n    const value = params[key];\n    if (value === undefined || value === null || value === '') {\n      continue;\n    }\n\n    queryTerms.push(`${esc(key)}=${esc(value)}`);\n  }\n\n  queryTerms.push(`v=${new Date().getTime()}`);\n  return queryTerms.join('&');\n}\n\n/**\n * Utility function to convert an ArrayBuffer to a string.\n * @param buffer\n */\nexport function ab2str(buffer: ArrayBuffer): string {\n  let result = '';\n  const bytes = new Uint8Array(buffer);\n  const len = bytes.byteLength;\n  for (let i = 0; i < len; i++) {\n    result += String.fromCharCode(bytes[i]);\n  }\n  return result;\n}\n\n/**\n * Utility function to convert a string to an ArrayBuffer.\n * @param str\n */\nexport function str2ab(str: string): ArrayBuffer {\n  const len = str.length;\n  const bytes = new Uint8Array(len);\n  for (let i = 0; i < len; i++) {\n    bytes[i] = str.charCodeAt(i);\n  }\n  return bytes.buffer;\n}\n\n/**\n * Utility function to create a random string of characters of a given length.\n * @param length Desired length of the id\n */\nexport function makeId(length: number): string {\n  let text = '';\n  const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (let i = 0; i < length; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n}\n\n/**\n * Utility function to retrieve the text contents of a File using a promise.\n * @param file\n */\nexport async function readFileAsJson(file: File): Promise<any> {\n  const temporaryFileReader = new FileReader();\n\n  return new Promise((resolve, reject) => {\n    temporaryFileReader.onerror = () => {\n      temporaryFileReader.abort();\n      reject(new Error('Problem parsing input file.'));\n    };\n\n    temporaryFileReader.onload = () => {\n      if (isString(temporaryFileReader.result)) {\n        resolve(JSON.parse(temporaryFileReader.result));\n      }\n    };\n    temporaryFileReader.readAsText(file);\n  });\n}\n","import { BrightcoveAccount } from './BrightcoveAccount';\n\nexport interface BrightcoveProxySettings {\n  proxyUrl: string;\n}\n\nexport interface BrightcoveSettings {\n  proxySettings: BrightcoveProxySettings;\n  brightcoveAccounts: Array<BrightcoveAccount>;\n}\n\nexport const defaultBrightcoveSettings: BrightcoveSettings = {\n  proxySettings: {\n    proxyUrl: ''\n  },\n  brightcoveAccounts: [\n    {\n      id: '8777fa77-c67c-4fde-9c4a-67c6292486a6',\n      title: 'Default Account',\n      accountId: '5718741447001',\n      clientId: '9d8dbf16-2cdf-43c0-9f84-ede087c0dbd2',\n      clientSecret: '2LyDAXQr-ziscDHNCmAwHGmCrTAo6SN_INCkLQznHavNLAoi0imCcMlHghngpvbbBx6Z2RR25yZ0OhUtLoV7ug',\n      defaultVideoPlayerId: 'default',\n      defaultPlaylistPlayerId: 'default',\n      accountViewersGroupName: 'Team Site Owners',\n      accountAuthorsGroupName: 'Team Site Owners'\n    },\n    {\n      id: '8777fa77-c67c-4fde-9c4a-67c6292486a5',\n      title: 'fdsa',\n      accountId: '2750642194001',\n      clientId: '543c1427-fe89-4d20-b09f-9d41f1c42eb7',\n      clientSecret: '4d2vp8rwMsESq3-Kn3fEXRml7fDXevQuGdd3plGtojKx31LMdf5a80ZTe31g2uBbKKTwbi1SrDI2iNAwIqgCQw',\n      defaultVideoPlayerId: 'default',\n      defaultPlaylistPlayerId: 'default',\n      accountViewersGroupName: 'Team Site Owners',\n      accountAuthorsGroupName: 'Team Site Owners'\n    }\n  ]\n};\n","import URI from 'urijs';\n\n/**\n * Represents an object that dynamically loads resources into the current page. For instance, iframe content, javascript and css.\n */\nexport class ResourceLoader {\n  private $document: HTMLDocument;\n  private $promises: Record<string, any>;\n\n  public constructor() {\n    this.$document = document;\n    this.$promises = {};\n  }\n\n  /**\n   * Dynamically loads an iframe pointed to the specifed source url\n   * @param src The url of the iframe to load dynamically\n   * @param sandbox If specified, indicates that the iframe is a sandbox with the indicated restictions.\n   * @returns {*} Promise that will be resolved once the iframe has been loaded.\n   */\n  public loadIFrame(src: string, sandbox?: string): Promise<HTMLIFrameElement> {\n    if (!src) {\n      throw Error('The url of the page to load in the iframe must be specified as the first parameter.');\n    }\n\n    sandbox = sandbox || 'allow-forms allow-scripts allow-same-origin';\n\n    src = URI(src)\n      .normalize()\n      .toString();\n    return this._loader(src, () => {\n      const iframe = this.$document.createElement('iframe');\n      iframe.tabIndex = -1;\n      iframe.style.display = 'none';\n      iframe.height = '0';\n      iframe.width = '0';\n      iframe.frameBorder = '0';\n      if (sandbox) {\n        (iframe as any).sandbox = sandbox;\n      }\n\n      iframe.src = src;\n\n      this.$document.body.appendChild(iframe);\n      return iframe;\n    });\n  }\n\n  /**\n   * Dynamically loads the given script\n   * @param src The url of the script to load dynamically\n   * @returns {*} Promise that will be resolved once the script has been loaded.\n   */\n  public loadScript(src: string): Promise<HTMLScriptElement> {\n    if (!src) {\n      throw Error('The url of the script to load must be specified as the first parameter.');\n    }\n\n    src = URI(src)\n      .normalize()\n      .toString();\n    return this._loader(src, () => {\n      const script = this.$document.createElement('script');\n\n      script.src = src;\n\n      this.$document.body.appendChild(script);\n      return script;\n    });\n  }\n\n  /**\n   * Dynamically loads the given CSS file\n   * @param href The url of the CSS to load dynamically\n   * @returns {*} Promise that will be resolved once the CSS file has been loaded.\n   */\n  public loadCSS(href: string): Promise<HTMLLinkElement> {\n    if (!href) {\n      throw Error('The url of the css to load must be specified as the first parameter.');\n    }\n\n    href = URI(href)\n      .normalize()\n      .toString();\n    return this._loader(href, () => {\n      const style = this.$document.createElement('link');\n\n      style.rel = 'stylesheet';\n      style.type = 'text/css';\n      style.href = href;\n\n      this.$document.head.appendChild(style);\n      return style;\n    });\n  }\n\n  /**\n   * Internal method used to load resources in a generic manner.\n   * @param url The url of the resource to load dynamically\n   * @param createElement a custom function that performs the actual resource loading for a given dom element.\n   * @returns {*} Promise that will be resolved once the resource has been loaded.\n   */\n  private _loader(url: string, createElement: (url: string) => HTMLElement): Promise<any> {\n    if (this.$promises[url]) {\n      return this.$promises[url];\n    }\n\n    let resolve: Function, reject: Function;\n    const promise = new Promise((innerRequest, innerReject) => {\n      resolve = innerRequest;\n      reject = innerReject;\n    });\n    const element = createElement(url);\n\n    element.onload = (element as any).onreadystatechange = () => {\n      if ((element as any).readyState && (element as any).readyState !== 'complete' && (element as any).readyState !== 'loaded') {\n        return;\n      }\n\n      resolve(element);\n    };\n\n    element.onerror = () => {\n      reject(element);\n    };\n\n    return (this.$promises[url] = promise);\n  }\n}\n","import { BCAccessTokenService, BCApiCredentials, BCAccessToken } from '@brightcove/video-cloud-sdk';\nimport moment from 'moment';\nimport { SharePointApiGateway } from './sharepoint';\nimport { find, endsWith } from 'lodash';\n\n/*\n * See:\n * https://support.brightcove.com/getting-access-tokens\n * https://brightcovelearning.github.io/Brightcove-API-References/oauth-api/v4/doc/index.html#api-Access_Token\n */\n\n/**\n * Represents an Access Token Service that obtains an access token through a proxy.\n */\nexport class BCSPAccessTokenService implements BCAccessTokenService {\n  private readonly _spApiGateway: SharePointApiGateway;\n  private _proxyUrl: string | undefined;\n\n  private _accessTokens: { [accountId: string]: { accessToken?: BCAccessToken; apiCredentials: BCApiCredentials; clearAccessToken?: NodeJS.Timer } };\n  private readonly _errorCallback?: (message: string, err?: Error) => boolean | undefined;\n\n  constructor(spApiGateway: SharePointApiGateway, errorCallback?: (message: string, err?: Error) => boolean | undefined) {\n    this._accessTokens = {};\n    this._spApiGateway = spApiGateway;\n\n    this._errorCallback = errorCallback;\n  }\n\n  public async obtainAccessToken(accountId: string): Promise<BCAccessToken> {\n    if (!accountId) {\n      throw new Error('Account Id must be specified.');\n    }\n\n    // Get the proxy url if it hasn't already been retrieved.\n    if (!this._proxyUrl) {\n      try {\n        const brightcoveSettings = await this._spApiGateway.settingsManager.loadBrightcoveSettings();\n        let proxyUrl = brightcoveSettings.proxySettings.proxyUrl;\n\n        if (process.env.REACT_APP_BC_Override_ProxyUrl === 'true') {\n          proxyUrl = process.env.REACT_APP_BC_ProxyUrl || `${window.location.protocol}//${window.location.hostname}:${process.env.REACT_APP_BC_Proxy_Port || '3001'}`;\n        }\n\n        // No longer check to see if a proxy url is present.\n        // if (!proxyUrl) {\n        //     const err = this.raiseError(`A proxy url could not be obtained from the settings list.`);\n        //     throw err;\n        // }\n\n        if (proxyUrl && !endsWith(proxyUrl, '/')) {\n          proxyUrl += '/';\n        }\n\n        this._proxyUrl = proxyUrl;\n      } catch (ex) {\n        const err = this.raiseError(`An error occurred while attempting to retrieve brightcove settings: ${ex}`);\n        throw err;\n      }\n    }\n\n    let finalProxyUrl;\n    if (this._proxyUrl) {\n      finalProxyUrl = `${this._proxyUrl}api/auth?v=${new Date().getTime()}`;\n    } else {\n      finalProxyUrl = `https://oauth.brightcove.com/v4/access_token?v=${new Date().getTime()}`;\n    }\n\n    try {\n      // If the account hasn't been defined, retrieve it.\n      if (!this._accessTokens[accountId]) {\n        const settings = await this._spApiGateway.settingsManager.loadBrightcoveSettings();\n        const account = find(settings.brightcoveAccounts, { accountId: accountId });\n\n        if (!account) {\n          const err = this.raiseError(`Unable to find the specified account defined in settings: ${accountId}`);\n          throw err;\n        }\n\n        this._accessTokens[accountId] = {\n          apiCredentials: {\n            // eslint-disable-next-line @typescript-eslint/camelcase\n            client_id: account.clientId,\n            // eslint-disable-next-line @typescript-eslint/camelcase\n            client_secret: account.clientSecret\n          }\n        };\n      } else {\n        const existingAccessToken = this._accessTokens[accountId].accessToken;\n        if (existingAccessToken && existingAccessToken.expiration && moment(existingAccessToken.expiration).isAfter(moment())) {\n          return existingAccessToken;\n        }\n      }\n    } catch (ex) {\n      const err = this.raiseError(`An error occurred while attempting to retrieve account settings: ${ex}`);\n      throw err;\n    }\n\n    try {\n      const accessTokenInfo = this._accessTokens[accountId];\n\n      const response = await fetch(finalProxyUrl, {\n        method: 'POST',\n        mode: 'cors',\n        credentials: 'omit',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: `grant_type=client_credentials&client_id=${accessTokenInfo.apiCredentials.client_id}&client_secret=${accessTokenInfo.apiCredentials.client_secret}`\n      });\n\n      const accessToken = await response.json();\n      if (!accessToken || !accessToken.access_token) {\n        throw new Error('Unable to obtain access token');\n      }\n\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      accessToken.expires_in = parseInt(accessToken.expires_in, 10);\n      accessToken.obtainedAt = moment().toDate();\n      accessToken.expiration = moment()\n        .add(accessToken.expires_in, 'seconds')\n        .toDate();\n      this._accessTokens[accountId].accessToken = accessToken;\n\n      this.clearAccessTokenInFuture(accountId);\n      return accessToken;\n    } catch (ex) {\n      const err = this.raiseError(`An error occurred while attempting to contact the Brightcove Proxy. Please ensure the proxy is operational. ${ex}`);\n      throw err;\n    }\n  }\n\n  public invalidateAccessToken(accountId: string): void {\n    if (!accountId) {\n      throw new Error('Account Id must be specified.');\n    }\n\n    delete this._accessTokens[accountId];\n  }\n\n  protected raiseError(message: string, err?: Error): Error {\n    const errorMessage = `${message} ${err && err.message ? err.message : ''}`;\n    const outerErr = new Error(errorMessage);\n\n    if (this._errorCallback) {\n      const throwException = this._errorCallback(message, err);\n      if (throwException === true) {\n        throw outerErr;\n      }\n    } else {\n      throw outerErr;\n    }\n\n    return outerErr;\n  }\n\n  private clearAccessTokenInFuture(accountId: string): void {\n    if (!this._accessTokens[accountId]) {\n      return;\n    }\n\n    const accessTokenInfo = this._accessTokens[accountId];\n    if (!accessTokenInfo.accessToken || !accessTokenInfo.accessToken.expires_in) {\n      return;\n    }\n\n    if (accessTokenInfo.clearAccessToken) {\n      clearTimeout(accessTokenInfo.clearAccessToken);\n    }\n\n    accessTokenInfo.clearAccessToken = setTimeout(() => {\n      accessTokenInfo.accessToken = undefined;\n    }, accessTokenInfo.accessToken.expires_in * 1000);\n  }\n}\n","import { Video as SPVideo } from '../../services/sharepoint/Videos';\nimport { BCVideo, BCVideoTextTrack } from '@brightcove/video-cloud-sdk';\nimport { filter, startsWith } from 'lodash';\n\n/**\n * Represents a Video suitable for the app.\n */\nexport interface ConnectorVideo {\n  videoId: string;\n  referenceId: string;\n  name: string;\n  shortDescription: string;\n  longDescription: string;\n  complete: boolean;\n  state: string;\n  relatedLinkUrl: string;\n  relatedLinkText: string;\n  creationDate: Date;\n  startAvailabilityDate?: Date;\n  endAvailabilityDate?: Date;\n  economics: string;\n  tags: Array<string>;\n  customFields: { [fieldName: string]: string };\n  textTracks?: Array<Partial<BCVideoTextTrack>>;\n  videoStillUrl: string;\n  thumbnailUrl: string;\n}\n\nexport function mapBCVideoToMVideo(bcVideo: BCVideo): ConnectorVideo {\n  const video: ConnectorVideo = {\n    videoId: bcVideo.id,\n    referenceId: bcVideo.reference_id || '',\n    name: bcVideo.name,\n    shortDescription: bcVideo.description || '',\n    longDescription: bcVideo.long_description || '',\n    complete: bcVideo.complete || false,\n    state: bcVideo.state || '',\n    relatedLinkUrl: bcVideo.link ? bcVideo.link.url : '',\n    relatedLinkText: bcVideo.link ? bcVideo.link.text : '',\n    creationDate: new Date(bcVideo.created_at),\n    startAvailabilityDate: bcVideo.schedule && bcVideo.schedule.starts_at ? new Date(bcVideo.schedule.starts_at) : undefined,\n    endAvailabilityDate: bcVideo.schedule && bcVideo.schedule.ends_at ? new Date(bcVideo.schedule.ends_at) : undefined,\n    economics: bcVideo.economics || '',\n    tags: bcVideo.tags ? filter(bcVideo.tags, tag => !startsWith(tag, 'bcsp-')) : [],\n    customFields: bcVideo.custom_fields || [],\n    textTracks: bcVideo.text_tracks || [],\n    videoStillUrl: '',\n    thumbnailUrl: ''\n  };\n\n  // The images might not be available if the video is still processing.\n  if (bcVideo.images) {\n    if (bcVideo.images.poster) {\n      video.videoStillUrl = bcVideo.images.poster.src || '';\n    }\n\n    if (bcVideo.images.thumbnail) {\n      video.thumbnailUrl = bcVideo.images.thumbnail.src || '';\n    }\n  }\n\n  return video;\n}\n\nexport function mapMVideoToBCVideo(video: ConnectorVideo, bcspTags?: Array<string>): Partial<BCVideo> {\n  // Map the MVideo back to a partial bc video object.\n  const bcVideo: Partial<BCVideo> = {\n    name: video.name,\n    description: video.shortDescription,\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    long_description: video.longDescription,\n    state: video.state,\n    link: {\n      text: video.relatedLinkText,\n      url: video.relatedLinkUrl\n    },\n    schedule: {\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      starts_at: video.startAvailabilityDate ? video.startAvailabilityDate.toISOString() : null,\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      ends_at: video.endAvailabilityDate ? video.endAvailabilityDate.toISOString() : null\n    },\n    economics: video.economics,\n    tags: video.tags,\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    custom_fields: video.customFields\n  };\n\n  if (bcspTags) {\n    if (!bcVideo.tags) {\n      bcVideo.tags = [];\n    }\n\n    for (const bcspTag of bcspTags) {\n      bcVideo.tags.push(bcspTag);\n    }\n  }\n\n  // For the text tracks that have an id, go ahead and patch them.\n  // eslint-disable-next-line @typescript-eslint/camelcase\n  bcVideo.text_tracks = filter(video.textTracks, tt => !!tt.id) as Array<BCVideoTextTrack>;\n\n  return bcVideo;\n}\n\nexport function mapSPVideoToMVideo(spVideo: SPVideo): ConnectorVideo {\n  const video: ConnectorVideo = {\n    name: spVideo.title,\n    videoId: spVideo.referenceId, // FIXME: This doesn't seem right\n\n    referenceId: spVideo.referenceId,\n    shortDescription: spVideo.shortDescription,\n    longDescription: spVideo.longDescription,\n    complete: true,\n    state: spVideo.active ? 'ACTIVE' : 'INACTIVE',\n    economics: spVideo.economic,\n\n    relatedLinkText: spVideo.relatedLinkText,\n    relatedLinkUrl: spVideo.relatedLink,\n\n    creationDate: new Date(spVideo.creationDate),\n    startAvailabilityDate: new Date(spVideo.startDate),\n    endAvailabilityDate: spVideo.endDate ? new Date(spVideo.endDate) : undefined,\n\n    tags: spVideo.keywords ? filter(spVideo.keywords.split(','), tag => !startsWith(tag, 'bcsp-')) : [],\n\n    videoStillUrl: spVideo.videoImage ? spVideo.videoImage.Url : '',\n    thumbnailUrl: spVideo.videoThumbnail ? spVideo.videoThumbnail.Url : '',\n    customFields: {} // TODO: Get the sharepoint fields starting with c1 and get their values.\n  };\n\n  return video;\n}\n\nexport function mapMVideoToSPVideo(accountName: string, video: ConnectorVideo): Partial<SPVideo> {\n  const spVideo: Partial<SPVideo> = {\n    title: video.name,\n    referenceId: video.videoId,\n\n    shortDescription: video.shortDescription,\n    longDescription: video.longDescription,\n    active: video.state === 'ACTIVE' ? true : false,\n    economic: video.economics,\n\n    relatedLinkText: video.relatedLinkText,\n    relatedLink: video.relatedLinkUrl,\n\n    // creationdate\n    startDate: video.startAvailabilityDate ? video.startAvailabilityDate.toISOString() : '',\n    endDate: video.endAvailabilityDate ? video.endAvailabilityDate.toISOString() : '',\n\n    keywords: video.tags.join(','),\n\n    videoImage: {\n      Description: video.videoStillUrl,\n      Url: video.videoStillUrl\n    },\n    videoThumbnail: {\n      Description: video.thumbnailUrl,\n      Url: video.thumbnailUrl\n    },\n\n    accountName: accountName\n  };\n\n  return spVideo;\n}\n","import { SortOrder } from '.';\n\nexport enum PlaylistSortField {\n  DisplayName = 'name',\n  ModifiedDate = 'modifiedDate'\n}\n\nexport interface PlaylistSearchParameters {\n  searchTerms: string;\n  searchLimit: number;\n  folderId: string;\n  sortField: PlaylistSortField;\n  sortOrder: SortOrder;\n}\n\nexport function getDefaultPlaylistSearchParameters() {\n  return {\n    searchTerms: '',\n    searchLimit: 30,\n    sortField: PlaylistSortField.ModifiedDate,\n    sortOrder: SortOrder.Descending\n  };\n}\n","export enum UserRole {\n  None,\n  Viewer,\n  Author\n}\n","import { SortOrder } from '.';\n\nexport enum SearchTarget {\n  SharePoint = 'SharePoint',\n  VideoCloud = 'VideoCloud'\n}\n\nexport enum VideoSortField {\n  Name = 'name',\n  CreationDate = 'creationDate',\n  StartDate = 'startDate',\n  UpdatedDate = 'updatedDate',\n  TotalPlays = 'totalPlays'\n}\n\nexport interface VideoSearchParameters {\n  searchTerms: string;\n  searchTarget: SearchTarget;\n  searchLimit: number;\n  folderId: string;\n  sortField: VideoSortField;\n  sortOrder: SortOrder;\n}\n\nexport function getDefaultVideoSearchParameters() {\n  return {\n    searchTerms: '',\n    searchTarget: SearchTarget.VideoCloud,\n    searchLimit: 30,\n    sortField: VideoSortField.UpdatedDate,\n    sortOrder: SortOrder.Descending\n  };\n}\n","import { ConnectorContext, ConnectorValidationResult, UserRole } from '..';\n\nimport { BrightcoveAccount } from 'services';\nimport { find } from 'lodash';\n\nexport async function validateConfiguration(this: ConnectorContext, currentUserEmail?: string): Promise<ConnectorValidationResult> {\n  const { settingsManager, spGroups } = this.spApiGateway;\n\n  let areAccountsAvailable = false;\n  const accountEmptyAccountId = [];\n  const accountEmptyGroups = [];\n  const missingGroups = [];\n  const currentUserAvailableAccounts: Array<BrightcoveAccount> = [];\n  let currentUserMaxRole: UserRole = UserRole.None;\n\n  const brightcoveSettings = await settingsManager.loadBrightcoveSettings();\n\n  // Since the Brightcove auth endpoint seems to have CORS headers now,\n  // allow the proxyurl to be blank.\n  const isProxyDefined = true;\n  /*\n    if (brightcoveSettings.proxySettings &&\n        brightcoveSettings.proxySettings.proxyUrl) {\n        isProxyDefined = true;\n    }*/\n\n  const accounts = brightcoveSettings.brightcoveAccounts;\n  areAccountsAvailable = accounts && accounts.length > 0;\n\n  // Act as an admin if there are no accounts available.\n  if (!areAccountsAvailable) {\n    currentUserMaxRole = UserRole.Author;\n  }\n\n  const siteGroups = await spGroups.getSiteGroups();\n  const currentUserGroups = await spGroups.getUserGroups(currentUserEmail);\n\n  for (const account of accounts) {\n    if (!account.accountAuthorsGroupName || !account.accountViewersGroupName) {\n      accountEmptyGroups.push(account.title);\n      continue;\n    }\n\n    if (!account.accountId) {\n      accountEmptyAccountId.push(account.title);\n    }\n\n    // If we can't find either of the defined author or viewers groups in the site groups, they're missing *cue dramatic music*\n    if (!find(siteGroups, { title: account.accountAuthorsGroupName }) || !find(siteGroups, { title: account.accountViewersGroupName })) {\n      if (missingGroups.indexOf(account.accountAuthorsGroupName) < 0) {\n        missingGroups.push(account.accountAuthorsGroupName);\n      }\n    }\n\n    let currentUserIsAuthor = false,\n      currentUserIsViewer = false;\n\n    if (find(currentUserGroups, { title: account.accountAuthorsGroupName })) {\n      currentUserIsAuthor = true;\n      if (currentUserMaxRole < UserRole.Author) {\n        currentUserMaxRole = UserRole.Author;\n      }\n    }\n\n    if (find(currentUserGroups, { title: account.accountViewersGroupName })) {\n      currentUserIsViewer = true;\n      if (currentUserMaxRole < UserRole.Viewer) {\n        currentUserMaxRole = UserRole.Viewer;\n      }\n    }\n\n    if (currentUserIsAuthor || currentUserIsViewer) {\n      currentUserAvailableAccounts.push(account);\n    }\n  }\n\n  const isValid = isProxyDefined && areAccountsAvailable && accountEmptyAccountId.length <= 0 && accountEmptyGroups.length <= 0 && missingGroups.length <= 0;\n\n  return {\n    isValid,\n    isProxyDefined,\n    isAccountsListCreated: false,\n    isSettingsListCreated: false,\n    isVideosListCreated: false,\n    areAccountsAvailable,\n    accountEmptyAccountId,\n    accountEmptyGroups,\n    missingGroups,\n    currentUserAvailableAccounts,\n    currentUserMaxRole\n  };\n}\n","import { ConnectorContext, ConnectorVideoUpload } from '..';\nimport axios from 'axios';\nimport { get } from 'lodash';\n\nexport async function performDynamicIngest(this: ConnectorContext, video: ConnectorVideoUpload, statusUpdateCallback?: (video: ConnectorVideoUpload) => void): Promise<void> {\n  if (!video) {\n    throw new Error('A video must be specified.');\n  }\n\n  const onError = (message: string, ex: Error) => {\n    video.hasError = true;\n    video.status = 'An error has occurred while creating the Brightcove Video: ' + ex.message;\n    video.isUploading = false;\n    video.isComplete = true;\n    video.progress = 100;\n    if (statusUpdateCallback) {\n      statusUpdateCallback(video);\n    }\n  };\n\n  const { dynamicIngestApi, videosApi, foldersApi } = this.bcApiGateway;\n\n  // Start the upload process.\n\n  // 1. Create a new video.\n  video.status = `Creating Brightcove video for ${video.fileName}...`;\n  video.progress = 10;\n  if (statusUpdateCallback) {\n    statusUpdateCallback(video);\n  }\n\n  try {\n    const createdVideo = await videosApi.createVideo(video.accountId, video.fileName, video.tags);\n    video.bcVideo = createdVideo;\n  } catch (ex) {\n    onError('An error has occurred while creating the Brightcove Video: ' + ex.message, ex);\n    return;\n  } finally {\n    if (statusUpdateCallback) {\n      statusUpdateCallback(video);\n    }\n  }\n\n  // 1a. If a folder is specified, add the video to the folder.\n  if (video.targetFolder && video.targetFolder.id) {\n    video.status = `Adding video to folder ${video.targetFolder.name}...`;\n    video.progress = 15;\n    if (statusUpdateCallback) {\n      statusUpdateCallback(video);\n    }\n\n    try {\n      await foldersApi.addVideoToFolder(video.accountId, video.targetFolder.id, video.bcVideo.id);\n    } catch (ex) {\n      onError('An error has occurred while adding the video to a folder: ' + ex.message, ex);\n      return;\n    } finally {\n      if (statusUpdateCallback) {\n        statusUpdateCallback(video);\n      }\n    }\n  }\n\n  // 2. Get the AWS S3 Urls for the upload.\n  video.status = `Getting AWS S3 Urls for ${video.bcVideo.id}...`;\n  video.progress = 20;\n  if (statusUpdateCallback) {\n    statusUpdateCallback(video);\n  }\n\n  try {\n    video.uploadUrls = await dynamicIngestApi.getUploadUrls(video.accountId, video.bcVideo.id, video.fileName);\n  } catch (ex) {\n    onError('An error has occurred while obtaining upload urls: ' + ex.message, ex);\n    return;\n  } finally {\n    if (statusUpdateCallback) {\n      statusUpdateCallback(video);\n    }\n  }\n\n  // 3. Perform the upload to AWS S3.\n  video.status = `Uploading '${video.fileName}' (${video.bcVideo.id}) to AWS (Initializing...)`;\n  video.progress = 40;\n  if (statusUpdateCallback) {\n    statusUpdateCallback(video);\n  }\n\n  try {\n    await axios({\n      method: 'PUT',\n      url: video.uploadUrls.signed_url,\n      headers: {\n        'Content-Type': '' // The content type in the signed url is blank, thus we must do the same.\n      },\n      data: video.file,\n      onUploadProgress: progress => {\n        if (!video.bcVideo) {\n          return;\n        }\n        const pctComplete = progress.loaded / progress.total;\n        video.status = `Uploading '${video.fileName}' (${video.bcVideo.id}) to AWS (${(pctComplete * 100).toFixed(2)}%)...`;\n        video.progress = 40 + pctComplete * 40;\n        if (statusUpdateCallback) {\n          statusUpdateCallback(video);\n        }\n      }\n    });\n\n    // const uploadResponse = await fetch(video.uploadUrls.signed_url, {\n    //     method: 'PUT',\n    //     credentials: 'omit',\n    //     headers: {\n    //         'Content-Type': ''\n    //     },\n    //     body: video.file\n    // });\n    // video.uploadResponse = uploadResponse;\n  } catch (ex) {\n    onError('An error has occurred uploading a video to AWS: ' + ex.message, ex);\n    return;\n  } finally {\n    if (statusUpdateCallback) {\n      statusUpdateCallback(video);\n    }\n  }\n\n  // 4. Make an ingest request.\n  video.status = `Making an ingest request for ${video.bcVideo.id}...`;\n  video.progress = 80;\n  if (statusUpdateCallback) {\n    statusUpdateCallback(video);\n  }\n\n  try {\n    const makeIngestResponse = await dynamicIngestApi.makeIngestRequest(video.accountId, video.bcVideo.id, video.uploadUrls.api_request_url);\n    video.ingestResponse = makeIngestResponse;\n  } catch (ex) {\n    onError('An error has occurred while making an ingest request: ' + ex.message, ex);\n    return;\n  } finally {\n    if (statusUpdateCallback) {\n      statusUpdateCallback(video);\n    }\n  }\n\n  video.status = 'Ingest request made. Finalizing file upload.';\n  video.isUploading = false;\n  video.progress = 90;\n  if (statusUpdateCallback) {\n    statusUpdateCallback(video);\n  }\n\n  // 5. Wait until the video completes processing.\n  video.status = 'File transfer completed. Video is now processing on Brightcove..';\n  video.isUploading = false;\n  video.progress = 95;\n  if (statusUpdateCallback) {\n    statusUpdateCallback(video);\n  }\n\n  try {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    await waitUntilVideoThumbnailUrlsExist(this, video.accountId, video.bcVideo.id);\n  } catch (ex) {\n    onError('An error has occurred while checking on ingest job status: ' + ex.message, ex);\n    return;\n  }\n\n  video.status = 'Upload & Processing Complete!';\n  video.isUploading = false;\n  video.isComplete = true;\n  video.progress = 100;\n  if (statusUpdateCallback) {\n    statusUpdateCallback(video);\n  }\n}\n\n/**\n * Helper function that waits until the specified video ingest job completes *** Note: Does not work for legacy ingest accounts ***\n * @param connectorContext\n * @param accountId\n * @param videoId\n * @param ingestJobId\n * @param watchInterval\n */\nexport function waitUntilVideoIngestJobCompletes(connectorContext: ConnectorContext, accountId: string, videoId: string, ingestJobId: string, watchInterval?: number): Promise<unknown> {\n  if (!watchInterval) {\n    watchInterval = 10 * 1000;\n  }\n  const { videosApi } = connectorContext.bcApiGateway;\n\n  const watchPromise = new Promise((resolve, reject) => {\n    const monitorTimer = setInterval(async () => {\n      try {\n        const ingestStatus = await videosApi.getVideoIngestJobStatus(accountId, videoId, ingestJobId);\n        if (ingestStatus.state === 'finished') {\n          clearInterval(monitorTimer);\n          resolve();\n        }\n      } catch (ex) {\n        clearInterval(monitorTimer);\n        reject(ex);\n      }\n    }, watchInterval);\n  });\n\n  return watchPromise;\n}\n\n/**\n * Helper function that waits until a video thumbnail exists by polling the assets api ***Note: Does not work for dynamic ingest accounts***\n * @param connectorContext\n * @param accountId\n * @param videoId\n * @param watchInterval\n */\nexport function waitUntilVideoThumbnailsExist(connectorContext: ConnectorContext, accountId: string, videoId: string, watchInterval?: number): Promise<unknown> {\n  if (!watchInterval) {\n    watchInterval = 10 * 1000;\n  }\n  const { assetsApi } = connectorContext.bcApiGateway;\n\n  const watchPromise = new Promise((resolve, reject) => {\n    const monitorTimer = setInterval(async () => {\n      try {\n        const thumbnail = await assetsApi.getThumbnailList(accountId, videoId);\n        if (thumbnail) {\n          clearInterval(monitorTimer);\n          resolve();\n        }\n      } catch (ex) {\n        clearInterval(monitorTimer);\n        reject(ex);\n      }\n    }, watchInterval);\n  });\n\n  return watchPromise;\n}\n\n/**\n * Helper function that waits until a video thumbnail exists by polling the video api and examining the thumbnails property.\n * @param connectorContext\n * @param accountId\n * @param videoId\n * @param watchInterval\n */\nexport function waitUntilVideoThumbnailUrlsExist(connectorContext: ConnectorContext, accountId: string, videoId: string, watchInterval?: number): Promise<unknown> {\n  if (!watchInterval) {\n    watchInterval = 10 * 1000;\n  }\n  const { videosApi } = connectorContext.bcApiGateway;\n\n  const watchPromise = new Promise((resolve, reject) => {\n    const monitorTimer = setInterval(async () => {\n      try {\n        const video = await videosApi.getVideoById(accountId, videoId);\n        const videoThumbnail = get(video, 'images.thumbnail');\n        const videoThumbnailSrc = get(video, 'images.thumbnail.src');\n\n        if (videoThumbnail && videoThumbnailSrc) {\n          clearInterval(monitorTimer);\n          resolve();\n        }\n      } catch (ex) {\n        clearInterval(monitorTimer);\n        reject(ex);\n      }\n    }, watchInterval);\n  });\n\n  return watchPromise;\n}\n","import { VideoSearchParameters, ConnectorVideo, mapBCVideoToMVideo, ConnectorContext } from '..';\nimport { filter } from 'lodash';\n\n/**\n * See https://support.brightcove.com/cmsplayback-api-videos-search#combinesearchcriteria\n * @param this\n * @param searchParams\n */\nexport async function searchForBrightcoveVideos(this: ConnectorContext, accountId: string, searchParams: Partial<VideoSearchParameters>): Promise<Array<ConnectorVideo>> {\n  if (!accountId) {\n    return [];\n  }\n\n  const { bcApiGateway } = this;\n  const videosApi = bcApiGateway.videosApi;\n  const bcParams = this.getBCVideoSearchParams(searchParams);\n  let videos = await videosApi.getVideos(accountId, bcParams);\n\n  if (searchParams.folderId) {\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    videos = filter(videos, { folder_id: searchParams.folderId });\n  }\n\n  const result: Array<ConnectorVideo> = [];\n  for (const video of videos) {\n    result.push(mapBCVideoToMVideo(video));\n  }\n  return result;\n}\n","import { observable, action, computed } from 'mobx';\nimport { BrightcoveAccount } from 'services';\nimport { SharePointApiGateway, SPAddinContext, SPGroup } from '../sharepoint';\nimport { BCSPAccessTokenService } from '../BCSPAccessTokenService';\nimport { BrightcoveApiGateway, BCGetVideosParams, BCGetPlaylistsParams, BCPlayer } from '@brightcove/video-cloud-sdk';\nimport { UserRole, ConnectorValidationResult, ConnectorVideoUpload, ConnectorVideo, VideoSearchParameters, SortOrder, VideoSortField, PlaylistSearchParameters, PlaylistSortField } from '.';\n\nimport { validateConfiguration } from './behaviors/validateConfiguration';\nimport { performDynamicIngest } from './behaviors/performDynamicIngest';\nimport { searchForBrightcoveVideos } from './behaviors/searchForBrightcoveVideos';\n\nimport { setup } from 'sp-pnp-js';\nimport { defaultsDeep, find } from 'lodash';\nimport { bind } from 'lodash-decorators';\nimport URI from 'urijs';\n\nexport class ConnectorContext {\n  @observable\n  public allAccounts: Array<BrightcoveAccount>;\n\n  public addinWebId?: string;\n  public currentUserRole?: UserRole;\n\n  @observable\n  public userGroups: Array<SPGroup>;\n\n  @observable\n  public doesEmbedHelperExist: boolean | undefined;\n\n  private readonly onError: (message: string, err?: Error) => boolean | undefined;\n  private readonly _spAddinContext: SPAddinContext;\n  private readonly _bcApiGateway: BrightcoveApiGateway;\n  private readonly _spApiGateway: SharePointApiGateway;\n  private readonly _players: { [accountId: string]: BCPlayer[] } = {};\n\n  constructor(onError: (message: string, err?: Error) => boolean) {\n    this.onError = onError;\n\n    // Set up pnp\n    setup({\n      sp: {\n        headers: {\n          Accept: 'application/json; odata=verbose'\n        }\n      }\n    });\n\n    // Get information passed to the SharePoint addin via the query string parameters.\n    const uri = URI();\n    this._spAddinContext = uri.query(true) as SPAddinContext;\n\n    // If we're in development mode, default what we normally would have picked off the querystring to environment variables\n    if (process.env.NODE_ENV !== 'production' || process.env.REACT_APP_UseEnv === 'true') {\n      defaultsDeep(this._spAddinContext, {\n        ProductId: process.env.REACT_APP_ProductId,\n        SPHostUrl: process.env.REACT_APP_SPHostUrl,\n        SPAppWebUrl: process.env.REACT_APP_SPAppWebUrl || window.location.origin,\n        SPLanguage: process.env.REACT_APP_SPLanguage,\n        SPClientTag: process.env.REACT_APP_SPClientTag,\n        SPProductNumber: process.env.REACT_APP_SPProductNumber,\n        Referrer: process.env.REACT_APP_Referrer || document.referrer\n      });\n    }\n\n    if (this._spAddinContext.SPHostUrl === 'default') {\n      this.spAddinContext.SPHostUrl = '';\n    }\n\n    if (this._spAddinContext.SPAppWebUrl === 'default') {\n      this.spAddinContext.SPAppWebUrl = '';\n    }\n\n    if (!this._spAddinContext.Referrer || this._spAddinContext.Referrer === 'default') {\n      this.spAddinContext.Referrer = document.referrer;\n    }\n\n    this._spApiGateway = new SharePointApiGateway(this._spAddinContext, this.onError);\n\n    const accessTokenService = new BCSPAccessTokenService(this._spApiGateway, this.onError);\n    this._bcApiGateway = new BrightcoveApiGateway(accessTokenService, this.onError);\n\n    this.allAccounts = [];\n    this.userGroups = [];\n  }\n\n  /**\n   * Gets a collection of accounts that the current user has access to.\n   */\n  @computed\n  get availableAccounts(): Array<BrightcoveAccount> {\n    const availableAccounts: Array<BrightcoveAccount> = [];\n    if (!this.allAccounts) {\n      return availableAccounts;\n    }\n\n    for (const account of this.allAccounts) {\n      if (!account.accountAuthorsGroupName || !account.accountViewersGroupName) {\n        continue;\n      }\n\n      let currentUserIsAuthor = false,\n        currentUserIsViewer = false;\n\n      if (find(this.userGroups, { title: account.accountAuthorsGroupName })) {\n        currentUserIsAuthor = true;\n      }\n\n      if (find(this.userGroups, { title: account.accountViewersGroupName })) {\n        currentUserIsViewer = true;\n      }\n\n      if (currentUserIsAuthor || currentUserIsViewer) {\n        availableAccounts.push(account);\n      }\n    }\n\n    return availableAccounts;\n  }\n\n  get bcApiGateway(): BrightcoveApiGateway {\n    return this._bcApiGateway;\n  }\n\n  get spAddinContext(): SPAddinContext {\n    return this._spAddinContext;\n  }\n\n  get spApiGateway(): SharePointApiGateway {\n    return this._spApiGateway;\n  }\n\n  getBCPlaylistSearchParams(searchParams: Partial<PlaylistSearchParameters>): BCGetPlaylistsParams {\n    // Map search params to 'q'\n    const bcParams: BCGetPlaylistsParams = {\n      limit: searchParams.searchLimit || 45,\n      sort: searchParams.sortOrder === SortOrder.Descending ? '-' : '',\n      q: searchParams.searchTerms ? `${searchParams.searchTerms}` : ''\n    };\n\n    switch (searchParams.sortField) {\n      case PlaylistSortField.DisplayName:\n        bcParams.sort += 'name';\n        break;\n      case PlaylistSortField.ModifiedDate:\n        bcParams.sort += 'updated_at';\n        break;\n      default:\n        // Do nothing.\n        break;\n    }\n\n    return bcParams;\n  }\n\n  getBCVideoSearchParams(searchParams: Partial<VideoSearchParameters>): BCGetVideosParams {\n    // Map search params to 'q'\n    const bcParams: BCGetVideosParams = {\n      limit: searchParams.searchLimit || 45,\n      sort: searchParams.sortOrder === SortOrder.Descending ? '-' : '',\n      q: searchParams.searchTerms ? `${searchParams.searchTerms}` : ''\n    };\n\n    // Remove videos that are tagged with the addin web id.\n    if (this.addinWebId) {\n      bcParams.q += `-tags:\"bcsp-${this.addinWebId.replace(/-/g, '')}-1\"`;\n    }\n\n    switch (searchParams.sortField) {\n      case VideoSortField.Name:\n        bcParams.sort += 'name';\n        break;\n      case VideoSortField.TotalPlays:\n        bcParams.sort += 'plays_total';\n        break;\n      case VideoSortField.UpdatedDate:\n        bcParams.sort += 'updated_at';\n        break;\n      case VideoSortField.CreationDate:\n        bcParams.sort += 'created_at';\n        break;\n      case VideoSortField.StartDate:\n        bcParams.sort += 'schedule_starts_at';\n        break;\n      default:\n        throw new Error('Unknown or unsupported sort field: ' + searchParams.sortField);\n    }\n\n    if (searchParams.folderId) {\n      bcParams.limit = 1000;\n      // bcParams.q = 'folder_id:' + searchParams.folderId;\n    }\n\n    return bcParams;\n  }\n\n  @action\n  public async initialize() {\n    await this.refreshAccounts();\n    await this.refreshUserGroups();\n    await this.refreshEmbedHelper();\n  }\n\n  public raiseError(message: string, err?: Error): boolean | undefined {\n    return this.onError(message, err);\n  }\n\n  @action\n  public async refreshAccounts() {\n    const settings = await this.spApiGateway.settingsManager.loadBrightcoveSettings();\n    this.allAccounts = settings.brightcoveAccounts;\n  }\n\n  @action\n  public async refreshEmbedHelper() {\n    this.doesEmbedHelperExist = await this.spApiGateway.spEmbedUtil.doesEmbedHelperExist();\n  }\n\n  @action\n  public async refreshUserGroups(currentUserEmail?: string) {\n    if (!currentUserEmail && process.env.REACT_APP_BC_Override_Current_User !== 'default') {\n      currentUserEmail = process.env.REACT_APP_BC_Override_Current_User;\n    }\n\n    this.userGroups = await this.spApiGateway.spGroups.getUserGroups(currentUserEmail);\n  }\n\n  @bind\n  @action\n  public async retrieveAllPlayers(accountId: string, force?: boolean): Promise<BCPlayer[]> {\n    if ((force === undefined || force === false) && this._players[accountId] !== undefined) {\n      return this._players[accountId];\n    }\n\n    const { playerManagementApi } = this.bcApiGateway;\n\n    try {\n      const playersResponse = await playerManagementApi.getAllPlayers(accountId);\n      if (playersResponse && playersResponse.item_count > 0 && playersResponse.items) {\n        this._players[accountId] = playersResponse.items;\n        return this._players[accountId];\n      }\n    } catch (ex) {\n      // Do Nothing.\n    }\n\n    return [];\n  }\n\n  public async searchForBrightcoveVideos(accountId: string, searchParams: Partial<VideoSearchParameters>) {\n    return searchForBrightcoveVideos.call(this, accountId, searchParams) as Promise<Array<ConnectorVideo>>;\n  }\n\n  public async performDynamicIngest(video: ConnectorVideoUpload, statusUpdateCallback: (video: ConnectorVideoUpload) => void): Promise<void> {\n    return performDynamicIngest.call(this, video, statusUpdateCallback) as Promise<void>;\n  }\n\n  public async validateConfiguration(currentUserEmail?: string): Promise<ConnectorValidationResult> {\n    if (!currentUserEmail && process.env.REACT_APP_BC_Override_Current_User !== 'default') {\n      currentUserEmail = process.env.REACT_APP_BC_Override_Current_User;\n    }\n    const validationResult = (await validateConfiguration.call(this, currentUserEmail)) as ConnectorValidationResult;\n\n    return validationResult;\n  }\n}\n","import { Web } from 'sp-pnp-js';\nimport { BrightcoveSettings, defaultBrightcoveSettings } from '../BrightcoveSettings';\n\nimport { defaultsDeep } from 'lodash';\nimport URI from 'urijs';\nimport * as CryptoJS from 'crypto-js';\n\nconst BrightcoveSettingsDocumentLibraryName = 'BrightcoveSettings';\nconst BrightcoveSettingsFileName = 'ConnectorSettings.txt';\nconst BrightcoveAccountSecretPassphrase = 'BrightcoveConectorRocks';\n\nexport class BrightcoveSettingsManager {\n  private readonly _addinWebUrl?: string;\n  private readonly _hostWebUrl: string;\n  private readonly _webUrl: string;\n  private readonly _web: Web;\n\n  private readonly _errorCallback?: (message: string, err?: Error) => boolean | undefined;\n\n  constructor(hostWebUrl: string, addinWebUrl?: string, errorCallback?: (message: string, err?: Error) => boolean | undefined) {\n    this._hostWebUrl = hostWebUrl;\n    this._addinWebUrl = addinWebUrl;\n\n    if (!addinWebUrl) {\n      this._webUrl = hostWebUrl;\n      this._web = new Web(hostWebUrl);\n    } else {\n      this._webUrl = addinWebUrl;\n      this._web = new Web(addinWebUrl);\n    }\n\n    if (process.env.NODE_ENV === 'development' && URI(this._webUrl).domain() === 'localhost') {\n      this._webUrl += URI(hostWebUrl).path() + '/bcvc4sp';\n    }\n\n    this._errorCallback = errorCallback;\n  }\n\n  public get addinWebUrl(): string | undefined {\n    return this._addinWebUrl;\n  }\n\n  public get hostWebUrl(): string {\n    return this._hostWebUrl;\n  }\n\n  public get web(): Web {\n    return this._web;\n  }\n\n  public async loadBrightcoveSettings(decryptSecrets?: boolean): Promise<BrightcoveSettings> {\n    // const settingsFileServerRelativeUrl = URI(`${this._webUrl}/${BrightcoveSettingsDocumentLibraryName}/${BrightcoveSettingsFileName}`).path();\n\n    let settings: BrightcoveSettings = defaultBrightcoveSettings;\n    try {\n      const savedSettings: any = {}; // await this._web.getFileByServerRelativeUrl(settingsFileServerRelativeUrl).getJSON();\n      if (!savedSettings.error) {\n        settings = defaultsDeep(savedSettings, defaultBrightcoveSettings);\n      }\n    } catch (ex) {\n      // Do Nothing\n    }\n\n    // Decrypt account secrets\n    if (decryptSecrets === undefined || decryptSecrets === true) {\n      // for (const account of settings.brightcoveAccounts) {\n      //   if (account.clientSecret) {\n      //     try {\n      //       account.clientSecret = CryptoJS.AES.decrypt(account.clientSecret, BrightcoveAccountSecretPassphrase).toString(CryptoJS.enc.Utf8);\n      //     } catch (err) {\n      //       this.raiseError(`Error decrypting client secret for ${account.accountId}`);\n      //     }\n      //   }\n      // }\n    }\n\n    return settings;\n  }\n\n  public async saveBrightcoveSettings(settings: BrightcoveSettings, encryptSecrets?: boolean): Promise<void> {\n    const settingsPath = URI(`${this._webUrl}/${BrightcoveSettingsDocumentLibraryName}/`).path();\n\n    if (encryptSecrets === undefined || encryptSecrets === true) {\n      for (const account of settings.brightcoveAccounts) {\n        const encrypedSecret = CryptoJS.AES.encrypt(account.clientSecret, BrightcoveAccountSecretPassphrase).toString();\n        account.clientSecret = encrypedSecret;\n      }\n    }\n\n    try {\n      this._web.getFolderByServerRelativeUrl(settingsPath).files.add(BrightcoveSettingsFileName, JSON.stringify(settings), true);\n\n      // Wait for a few seconds\n      const promise = new Promise(resolve => setTimeout(resolve, 2000));\n      await promise;\n    } catch (ex) {\n      const err = this.raiseError(`Unable to save Brightcove Settings`);\n      throw err;\n    }\n  }\n\n  /**\n   * Raises an error to a callback optionally specified in the constructor.\n   */\n  protected raiseError(message: string, err?: Error): Error {\n    const errorMessage = `${message} ${err && err.message ? err.message : ''}`;\n    const outerErr = new Error(errorMessage);\n\n    if (this._errorCallback) {\n      const throwException = this._errorCallback(message, err);\n      if (throwException === true) {\n        throw outerErr;\n      }\n    } else {\n      throw outerErr;\n    }\n\n    return outerErr;\n  }\n}\n","import { Web, sp } from 'sp-pnp-js';\n\nexport class SPGroups {\n  private readonly _web: Web;\n\n  constructor(hostWebUrl: string, addinWebUrl?: string) {\n    if (!addinWebUrl) {\n      this._web = new Web(hostWebUrl);\n    } else {\n      this._web = sp.crossDomainWeb(addinWebUrl, hostWebUrl);\n    }\n  }\n\n  /**\n   * Gets a value that indicates if the specified group exists in the specified web.\n   * @param webUrl\n   * @param groupName\n   */\n  public async ensureGroup(groupName: string): Promise<boolean> {\n    const groups = await this._web.siteGroups.filter(`Title eq '${groupName}'`).get();\n\n    if (groups.length > 0) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Gets all groups defined in the host web.\n   */\n  public async getSiteGroups(): Promise<Array<SPGroup>> {\n    let groups = await this._web.siteGroups.get();\n    return this.mapGroups(groups);\n  }\n\n  /**\n   * Gets all groups that the current user is a member of.\n   */\n  public async getUserGroups(userEmail?: string): Promise<Array<SPGroup>> {\n    let currentUser: any;\n    if (!userEmail) {\n      currentUser = await this._web.currentUser.select('Id').get();\n    } else {\n      currentUser = await this._web.siteUsers\n        .getByEmail(userEmail)\n        .select('Id')\n        .get();\n    }\n\n    if (!currentUser) {\n      throw new Error('Unable to obtain the current user.');\n    }\n\n    const userGroups = await this._web.siteUsers.getById(currentUser.Id).groups.get();\n    return this.mapGroups(userGroups);\n  }\n\n  private mapGroups(groups: any): Array<SPGroup> {\n    let result: Array<SPGroup> = [];\n    for (let group of groups) {\n      result.push({\n        id: group.Id,\n        title: group.Title\n      });\n    }\n\n    return result;\n  }\n}\n\nexport interface SPGroup {\n  id: number;\n  title: string;\n}\n","import { Web } from 'sp-pnp-js';\nimport { defaultsDeep } from 'lodash';\n\nimport URI from 'urijs';\n\nexport class SPWebPartConfig {\n  private readonly _docLibPath = 'BrightcoveWebPartData/';\n  private readonly _webUrl: string;\n  private readonly _web: Web;\n\n  constructor(hostWebUrl: string, addinWebUrl?: string) {\n    // Use the addin web if it exists. This is different than elsewhere.\n    if (!addinWebUrl) {\n      this._webUrl = hostWebUrl;\n      this._web = new Web(hostWebUrl);\n    } else {\n      this._webUrl = addinWebUrl;\n      this._web = new Web(addinWebUrl);\n    }\n  }\n\n  public async getBrightcoveWebPartProps<T>(webPartId: string, defaultProps: Partial<T>): Promise<Partial<T>> {\n    const webPartConfigServerRelativeUrl = URI(this._webUrl + `/${this._docLibPath}${webPartId}.txt`).path();\n\n    let props: Partial<T> = defaultProps;\n    try {\n      const savedProps = await this._web.getFileByServerRelativeUrl(webPartConfigServerRelativeUrl).getJSON();\n      if (!savedProps.error) {\n        props = defaultsDeep(savedProps, defaultProps);\n      }\n    } catch (ex) {\n      // Do Nothing;\n    }\n    return props;\n  }\n\n  public async setBrightcoveWebPartProps<T>(webPartId: string, props: Partial<T>): Promise<void> {\n    const webPartConfigPath = URI(this._webUrl + `/${this._docLibPath}`).path();\n\n    try {\n      this._web.getFolderByServerRelativeUrl(webPartConfigPath).files.add(`${webPartId}.txt`, JSON.stringify(props), true);\n    } catch (ex) {\n      // Do Nothing;\n    }\n  }\n}\n","import { SPAddinContext, BrightcoveSettingsManager, SPGroups, SPEmbedUtil } from '../../services/sharepoint';\nimport { SPWebPartConfig } from './SPWebPartConfig';\n\nexport class SharePointApiGateway {\n  private readonly _spAddinContext: SPAddinContext;\n  private readonly _spGroups: SPGroups;\n  private readonly _spEmbedUtil: SPEmbedUtil;\n  private readonly _spWebPartConfig: SPWebPartConfig;\n\n  private readonly _connectorSettingsManager: BrightcoveSettingsManager;\n\n  private readonly _errorCallback?: (message: string, err?: Error) => boolean | undefined;\n\n  public constructor(spAddinContext: SPAddinContext, errorCallback?: (message: string, err?: Error) => boolean | undefined) {\n    if (!spAddinContext) {\n      throw new Error('spAddinContext must be specified.');\n    }\n\n    this._spAddinContext = spAddinContext;\n    this._errorCallback = errorCallback;\n\n    const spHostUrl: string = this._spAddinContext.SPHostUrl;\n    let spAddinUrl: string | undefined = this._spAddinContext.SPAppWebUrl;\n\n    if (spHostUrl === window.location.origin) {\n      spAddinUrl = undefined;\n    }\n\n    this._connectorSettingsManager = new BrightcoveSettingsManager(spHostUrl, spAddinUrl, this._errorCallback);\n\n    this._spGroups = new SPGroups(spHostUrl, spAddinUrl);\n    this._spEmbedUtil = new SPEmbedUtil(spHostUrl, spAddinUrl);\n    this._spWebPartConfig = new SPWebPartConfig(spHostUrl, spAddinUrl);\n  }\n\n  get settingsManager(): BrightcoveSettingsManager {\n    return this._connectorSettingsManager;\n  }\n\n  get spAddinContext(): SPAddinContext {\n    return this._spAddinContext;\n  }\n\n  get spGroups(): SPGroups {\n    return this._spGroups;\n  }\n\n  get spEmbedUtil(): SPEmbedUtil {\n    return this._spEmbedUtil;\n  }\n\n  get spWebPartConfig(): SPWebPartConfig {\n    return this._spWebPartConfig;\n  }\n}\n","/*eslint no-restricted-globals: off*/\nimport { Web, FileAddResult, sp, ClientSidePage, ClientSideWebpart } from 'sp-pnp-js';\n\nexport class SPUtility {\n  /**\n   * Returns a promise that resolves when the specified SharePoint SOD script is loaded.\n   * @param scriptFileName\n   * @param scriptUrl\n   */\n  public static async ensureScriptLoaded(scriptFileName: string, scriptUrl: string): Promise<any> {\n    let resolvePromise: () => void;\n    const scriptLoadedPromise = new Promise(resolve => {\n      resolvePromise = resolve;\n    });\n\n    SP.SOD.registerSod(scriptFileName, scriptUrl);\n    SP.SOD.executeFunc(scriptFileName, '', () => {\n      resolvePromise();\n    });\n\n    return scriptLoadedPromise;\n  }\n\n  /**\n   * Executes the pending query on the specified context and returns a promise that resolves when the specified context succeeds or fails.\n   * @param context\n   */\n  public static async executePendingQuery(context: SP.ClientContext): Promise<any> {\n    if (!context) {\n      throw Error('A ClientContext must be specified.');\n    }\n\n    let resolveExecuteQuery: (value?: {} | PromiseLike<{}> | undefined) => void;\n    let rejectExecuteQuery: (reason?: any) => void;\n    const executeQueryPromise = new Promise((resolve, reject) => {\n      resolveExecuteQuery = resolve;\n      rejectExecuteQuery = reject;\n    });\n    context.executeQueryAsync(\n      (sender: any, args: SP.ClientRequestSucceededEventArgs) => {\n        resolveExecuteQuery(args);\n      },\n      (sender: any, args: SP.ClientRequestFailedEventArgs) => {\n        const err = new Error(args.get_message());\n        (err as any).spError = args;\n        rejectExecuteQuery(err);\n      }\n    );\n\n    return executeQueryPromise;\n  }\n\n  /**\n   * Gets the web id of the addin web.\n   * @param webUrl\n   */\n  public static async getWebId(webUrl: string): Promise<string> {\n    const web = new Web(webUrl);\n\n    const webInfo = await web.get();\n\n    return webInfo.Id;\n  }\n\n  /**\n   * Uploads a file to the specified web in the specified folder with the specified filename.\n   * @param webUrl\n   * @param folderRelativeUrl\n   * @param fileName\n   * @param file\n   */\n  public static async uploadFile(webUrl: string, folderRelativeUrl: string, fileName: string, file: File): Promise<FileAddResult> {\n    const web = new Web(webUrl);\n    const addedFileInfo = await web.getFolderByServerRelativeUrl(folderRelativeUrl).files.add(fileName, file);\n    return addedFileInfo;\n  }\n\n  /**\n   * Utility function to close the parent dialog when in a Custom Action HostWebDialog.\n   * @param refresh\n   */\n  public static closeParentDialog(refresh: boolean) {\n    if (refresh) {\n      parent.postMessage('CloseCustomActionDialogRefresh', '*');\n    } else {\n      parent.postMessage('CloseCustomActionDialogNoRefresh', '*');\n    }\n  }\n\n  /**\n   * Utility function to instruct the parent sharepoint window to navigate to a specific page.\n   */\n  public static closeAndRedirect(url: string) {\n    let postMessage = parent.postMessage;\n    if (!postMessage && (parent.document as any).postMessage) {\n      postMessage = (parent.document as any).postMessage;\n    }\n\n    if (!postMessage) {\n      return;\n    }\n\n    postMessage('NavigateParent=' + url, '*');\n  }\n\n  /**\n   * Utility function to instruct the parent page to resize the web part.\n   * @param width\n   * @param height\n   */\n  public static resizeMessage(senderId: string, width: string, height: string) {\n    const postMessage = window.parent.postMessage;\n\n    if (!postMessage) {\n      return;\n    }\n\n    const resizeMessage = `<message senderId=${senderId}>resize(${width}, ${height})</message>`;\n    postMessage(resizeMessage, '*');\n  }\n\n  /**\n   * Updates the web part properties\n   * @param webPartPageUrl\n   * @param webPartId\n   * @param properties\n   */\n  public static async updateWebPartProperties(hostWebUrl: string, webPartPageUrl: string, webPartId: string, properties: { [key: string]: string }, addinWebUrl?: string) {\n    // Client Side Page\n    let web: Web;\n    if (!addinWebUrl) {\n      web = new Web(hostWebUrl);\n    } else {\n      web = sp.crossDomainWeb(addinWebUrl, hostWebUrl);\n    }\n\n    const fooFile = web.getFileByServerRelativeUrl(webPartPageUrl);\n    const page = await ClientSidePage.fromFile(fooFile);\n    const wpid2 = webPartId.replace('g_', '').replace(/_/g, '-');\n    const csWebPart = page.findControlById(wpid2) as ClientSideWebpart;\n\n    if (csWebPart) {\n      // We're on a Modern Web Part Page\n      csWebPart.setProperties(properties);\n      try {\n        await page.save();\n      } catch (err) {\n        // Do Nothing.\n      }\n    } else {\n      // We're on a Traditional Web Part Page\n      let context: SP.ClientContext;\n      let referrerWeb: SP.Web;\n\n      if (addinWebUrl) {\n        context = new SP.ClientContext(addinWebUrl);\n        const appContextSite = new SP.AppContextSite(context, hostWebUrl);\n        referrerWeb = appContextSite.get_web();\n      } else {\n        context = new SP.ClientContext(hostWebUrl);\n        referrerWeb = context.get_web();\n      }\n\n      const file = referrerWeb.getFileByServerRelativeUrl(webPartPageUrl);\n      const webPartManager = file.getLimitedWebPartManager(SP.WebParts.PersonalizationScope.shared);\n      const webParts = webPartManager.get_webParts();\n      const webPartDef = webParts.getByControlId(webPartId);\n      const webPartProperties = webPartDef.get_webPart().get_properties();\n\n      for (const prop of Object.keys(properties)) {\n        webPartProperties.set_item(prop, properties[prop]);\n      }\n\n      webPartDef.saveWebPartChanges();\n      await SPUtility.executePendingQuery(context);\n    }\n  }\n}\n","import URI from 'urijs';\nimport { SPProxyConfig, SPProxyResponse } from '.';\nimport { ResourceLoader } from '../ResourceLoader';\nimport { makeId } from '../Utils';\n\nimport Bluebird from 'bluebird';\nimport { get, defaultsDeep } from 'lodash';\n\nexport const defaultSPProxyConfig = {\n  createProxyTimeout: 5 * 1000,\n  messagePrefix: 'SP.RequestExecutor',\n  messageResponseTimeout: 5 * 1000\n};\n\n/**\n * Represents a proxy that uses an embedded iFrame to HostWebProxy.aspx and postMessage to bypass cross-origin policy.\n *\n * A simple protocol is used to invoke commands that are defined in the hostwebproxy.\n */\nexport class SPProxy {\n  private static $resourceLoader = new ResourceLoader();\n  private static $proxies: { [origin: string]: SPProxy } = {};\n\n  private readonly _window: Window;\n  private readonly _origin: string;\n  private readonly _messageId: string;\n  private readonly _iFrame: HTMLIFrameElement;\n  private readonly _config: SPProxyConfig;\n  private _messageCounter: number;\n  private _isRemoved: boolean;\n\n  constructor(proxyOrigin: string, proxyIFrame: HTMLIFrameElement, config: SPProxyConfig) {\n    this._window = window;\n    this._origin = proxyOrigin;\n    this._messageId = makeId(7);\n    this._iFrame = proxyIFrame;\n    this._config = config;\n\n    this._messageCounter = 0;\n    this._isRemoved = false;\n  }\n\n  public get origin(): string {\n    return this._origin;\n  }\n\n  /**\n   * Fire and forget pattern that sends the command to the target without waiting for a response.\n   */\n  public invokeDirect(command: string, data?: any, targetOrigin?: string, transferrablePropertyPath?: string): void {\n    if (!command) {\n      throw Error('A command must be specified.');\n    }\n\n    if (this._isRemoved || !this._iFrame || !this._iFrame.parentElement || !this._iFrame.contentWindow) {\n      throw Error(`The SPProxy for ${this._origin} has been removed.`);\n    }\n\n    data = data || {};\n    targetOrigin = targetOrigin || this._origin || '*';\n\n    data.$$command = command;\n    data.$$postMessageId = `${this._config.messagePrefix}_${this._messageId}_${++this._messageCounter}`;\n\n    let transferrableProperty: any = undefined;\n\n    if (transferrablePropertyPath) {\n      transferrableProperty = get(data, transferrablePropertyPath);\n    }\n\n    if (transferrableProperty) {\n      this._iFrame.contentWindow.postMessage(data, targetOrigin, [transferrableProperty]);\n    } else {\n      this._iFrame.contentWindow.postMessage(data, targetOrigin);\n    }\n  }\n\n  /**\n   * Invokes the specified command on the channel with the specified data, constrained to the specified domain awaiting for max ms specified in timeout\n   */\n  public async invoke(command: string, data?: any, targetOrigin?: string, timeout?: number, transferrablePath?: string, onProgress?: (progress: any) => void): Promise<any> {\n    if (!command) {\n      throw Error('A command must be specified.');\n    }\n\n    if (this._isRemoved || !this._iFrame || !this._iFrame.parentElement || !this._iFrame.contentWindow) {\n      throw Error(`The SPProxy for ${this._origin} has been removed.`);\n    }\n\n    data = data || {};\n    targetOrigin = targetOrigin || this._origin || '*';\n    if (!timeout) {\n      timeout = this._config.messageResponseTimeout || 5000;\n    }\n\n    data.$$command = command;\n    data.$$postMessageId = `${this._config.messagePrefix}_${this._messageId}_${++this._messageCounter}`;\n\n    let resolve: Function, reject: Function;\n    let invokePromise = new Bluebird((innerResolve, innerReject) => {\n      resolve = innerResolve;\n      reject = innerReject;\n    });\n\n    const messageListener = (ev: MessageEvent) => {\n      ev = (ev as any).originalEvent || ev;\n      if (!ev || !ev.data || !ev.data.$$postMessageId || ev.data.$$postMessageId !== data.$$postMessageId) {\n        // This message is not meant for us.\n        return;\n      }\n\n      const response: SPProxyResponse = ev.data;\n      response.$$origin = ev.origin;\n      // TODO: Add things like response time.\n\n      switch (response.$$result) {\n        case 'success':\n          resolve(response);\n          break;\n        case 'progress':\n          if (typeof onProgress === 'function') {\n            onProgress(response);\n          }\n          break;\n        case 'error':\n          const err = new Error(response.message);\n          (err as any).$$spproxy = 'eval';\n          err.name = response.name;\n          err.stack = response.stack;\n          for (const key in response) {\n            if (response.hasOwnProperty(key)) {\n              err[key] = response[key];\n            }\n          }\n          reject(err);\n          break;\n        default:\n          reject(Error(`An unknown or unsupported result type was reported by the HostWebProxy: ${response.$$result}`));\n      }\n    };\n\n    if (timeout && timeout > 0) {\n      const invokeTimeoutError = Error(`invoke() timed out while waiting for a response while executing ${command}. (${timeout}ms)`);\n      (invokeTimeoutError as any).$$spproxy = 'timeout';\n      invokePromise = invokePromise.timeout(timeout, invokeTimeoutError);\n    }\n\n    invokePromise = invokePromise.finally(() => {\n      this._window.removeEventListener('message', messageListener);\n    });\n\n    this._window.addEventListener('message', messageListener);\n\n    let transferrableProperty: any = undefined;\n\n    if (transferrablePath) {\n      transferrableProperty = get(data, transferrablePath);\n    }\n\n    if (transferrableProperty) {\n      this._iFrame.contentWindow.postMessage(data, targetOrigin, [transferrableProperty]);\n    } else {\n      this._iFrame.contentWindow.postMessage(data, targetOrigin);\n    }\n\n    return invokePromise;\n  }\n\n  /**\n   * Gets or creates a new SPProxy given the specified proxy url. For instance: https://mytenant.sharepoint.com//Shared%20Documents/HostWebProxy.aspx\n   *\n   * A Proxy only needs to be created for a given origin, if a proxy has already been created for an origin, that proxy is returned.\n   *\n   * If an exception occurs, this indicates that a proxy couldn't be created\n   * due to an authentication or other problem.\n   */\n  public static async getOrCreateProxy(proxyAbsoluteUrl: string, config?: SPProxyConfig): Promise<SPProxy> {\n    if (!proxyAbsoluteUrl) {\n      throw Error('The absolute url to a HostWebProxy.aspx must be specified as the first argument.');\n    }\n\n    config = defaultsDeep({}, config, defaultSPProxyConfig) as SPProxyConfig;\n\n    const proxyUri: uri.URI = URI(proxyAbsoluteUrl).normalize();\n    const origin: string = proxyUri.origin();\n\n    if (this.$proxies[origin]) {\n      return this.$proxies[origin];\n    }\n\n    proxyUri.setQuery({ v: new Date().getTime() });\n    const elemIFrame: HTMLIFrameElement = await this.$resourceLoader.loadIFrame(proxyUri.toString(), 'allow-forms allow-scripts allow-same-origin');\n\n    if (!elemIFrame) {\n      throw Error('Unable to load Proxy IFrame.');\n    }\n\n    if (!elemIFrame.parentElement || !elemIFrame.contentWindow) {\n      throw Error('Proxy IFrame was loaded, but does not contain a parent element or content window.');\n    }\n\n    const proxy = new SPProxy(origin, elemIFrame, config);\n    this.$proxies[origin] = proxy;\n\n    const pingResponse = await proxy.invoke('Ping', {}, origin, config.createProxyTimeout);\n    if (pingResponse.data !== 'Pong') {\n      throw Error(`Did not expect the following response to Ping: ${pingResponse.data}`);\n    }\n    return proxy;\n  }\n\n  /**\n   * Removes the specified proxy using the specified SPProxy instance or a url whose origin will be used to determine the proxy instance.\n   * @param proxy\n   */\n  public static removeProxy(proxy: SPProxy | string): boolean {\n    if (typeof proxy === 'string') {\n      const proxyUri = URI(proxy).normalize();\n      const origin = proxyUri.origin();\n      proxy = this.$proxies[origin];\n      if (!proxy) {\n        return false;\n      }\n    }\n\n    const proxyParent = proxy._iFrame.parentElement;\n    if (proxyParent) {\n      proxyParent.removeChild(proxy._iFrame);\n    }\n\n    proxy._isRemoved = true;\n    return delete this.$proxies[proxy._origin];\n  }\n}\n","/* eslint import/no-webpack-loader-syntax: off */\n\nimport { Web, sp } from 'sp-pnp-js';\nimport { SharePointPageType } from '.';\nimport { startsWith } from 'lodash';\n\nimport URI from 'urijs';\nimport { SPProxy } from './SPProxy';\nimport { escape } from 'lodash';\n\nconst getContentWebPartXml = (title: string, description: string, content: string) => {\n  const webPartXml = `<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<WebPart xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"http://schemas.microsoft.com/WebPart/v2\">\n    <Title>${title}</Title>\n    <FrameType>Default</FrameType>\n    <Description>${description}</Description>\n    <IsIncluded>true</IsIncluded><ZoneID></ZoneID><PartOrder>0</PartOrder>\n    <FrameState>Normal</FrameState>\n    <Height />\n    <Width />\n    <AllowRemove>true</AllowRemove>\n    <AllowZoneChange>true</AllowZoneChange>\n    <AllowMinimize>true</AllowMinimize>\n    <AllowConnect>true</AllowConnect>\n    <AllowEdit>true</AllowEdit>\n    <AllowHide>true</AllowHide>\n    <IsVisible>true</IsVisible>\n    <DetailLink /><HelpLink />\n    <HelpMode>Modeless</HelpMode>\n    <Dir>Default</Dir>\n    <PartImageSmall />\n    <MissingAssembly>Cannot import this Web Part.</MissingAssembly>\n    <PartImageLarge>/_layouts/images/mscontl.gif</PartImageLarge>\n    <IsIncludedFilter />\n    <Assembly>Microsoft.SharePoint, Version=13.0.0.0, Culture=neutral, PublicKeyToken=94de0004b6e3fcc5</Assembly>\n    <TypeName>Microsoft.SharePoint.WebPartPages.ContentEditorWebPart</TypeName>\n    <ContentLink xmlns=\"http://schemas.microsoft.com/WebPart/v2/ContentEditor\" />\n    <Content xmlns=\"http://schemas.microsoft.com/WebPart/v2/ContentEditor\"><![CDATA[${content}]]></Content>\n    <PartStorage xmlns=\"http://schemas.microsoft.com/WebPart/v2/ContentEditor\" />\n</WebPart>`;\n\n  return webPartXml;\n};\n\n/**\n * Contains utility methods associated with the Brightcove Embed Helper\n */\nexport class SPEmbedUtil {\n  private readonly _addinWebUrl?: string;\n  private readonly _hostWebUrl: string;\n  private readonly _web: Web;\n\n  private _doesEmbedHelperExist: boolean | undefined;\n\n  constructor(hostWebUrl: string, addinWebUrl?: string) {\n    this._addinWebUrl = addinWebUrl;\n    this._hostWebUrl = hostWebUrl;\n\n    if (!addinWebUrl) {\n      this._web = new Web(hostWebUrl);\n    } else {\n      this._web = sp.crossDomainWeb(addinWebUrl, hostWebUrl);\n    }\n  }\n\n  /**\n   * Returns a value that indicates if the embed helper exists.\n   */\n  async doesEmbedHelperExist(): Promise<boolean | undefined> {\n    if (this._doesEmbedHelperExist !== undefined) {\n      return this._doesEmbedHelperExist;\n    }\n\n    const embedHelperServerRelativeUrl = URI(`${this._hostWebUrl}/Brightcove/${SPEmbedUtil.getEmbedHelperFileNameFromAppWebUrl(this._addinWebUrl || this._hostWebUrl)}`).path();\n\n    try {\n      const embedHelper = await this._web.getFileByServerRelativeUrl(embedHelperServerRelativeUrl).get();\n      this._doesEmbedHelperExist = embedHelper.Exists;\n    } catch (ex) {\n      this._doesEmbedHelperExist = false;\n    }\n\n    return this._doesEmbedHelperExist;\n  }\n\n  async getWebPartPageType(pageUrl: string): Promise<SharePointPageType | undefined> {\n    const referrer = URI(pageUrl).path();\n    if (!referrer || URI(referrer).equals(document.location.origin)) {\n      return undefined;\n    }\n\n    const referrerServerRelativeUrl = new URI(referrer).relativeTo(this._hostWebUrl).toString();\n\n    const file = await this._web\n      .getFileByServerRelativeUrl(referrerServerRelativeUrl)\n      .listItemAllFields.select('ContentTypeId,PublishingPageLayout')\n      .get();\n\n    let pageType = SharePointPageType.Other;\n\n    if (startsWith(file.ContentTypeId, '0x010108')) {\n      pageType = SharePointPageType.WikiPage;\n    } else if (startsWith(file.ContentTypeId, '0x010109')) {\n      pageType = SharePointPageType.WikiPage;\n    } else if (file.PublishingPageLayout !== undefined) {\n      pageType = SharePointPageType.PublishingPage;\n    }\n\n    return pageType;\n  }\n\n  async insertContentEditorWebPart(webPartPageUrl: string, title: string, description: string, content: string): Promise<string | undefined> {\n    // 1. determine the type of web part page.\n    const pageType = await this.getWebPartPageType(webPartPageUrl);\n\n    if (pageType !== SharePointPageType.WikiPage && pageType !== SharePointPageType.PublishingPage && pageType !== SharePointPageType.WebPartPage) {\n      return;\n    }\n\n    // 2. get the proxy.\n    const proxy = await SPProxy.getOrCreateProxy(`${this._hostWebUrl}/Brightcove/${SPEmbedUtil.getEmbedHelperFileNameFromAppWebUrl(this._addinWebUrl || this._hostWebUrl)}`);\n\n    const properties: any = {\n      hostWebUrl: this._hostWebUrl,\n      webPartPageUrl:\n        '/' +\n        URI(webPartPageUrl)\n          .relativeTo(URI(this._hostWebUrl).origin())\n          .pathname(),\n      webPartXml: getContentWebPartXml(title, description, content),\n      zoneId: 'wpz',\n      zoneIndex: 0\n    };\n\n    switch (pageType) {\n      case SharePointPageType.WikiPage:\n        properties.isWikiPage = true;\n        break;\n      case SharePointPageType.PublishingPage:\n        properties.isPublishingPage = true;\n        break;\n      case SharePointPageType.WebPartPage:\n        // Do Nothing\n        break;\n      default:\n        return;\n    }\n\n    // 3. invoke the method on the proxy and return the result.\n    const result = await proxy.invoke('InsertWebPart', properties);\n    return result.webPartId;\n  }\n\n  async uploadWebPartToGallery(webPartXml: string, webPartFileName: string, group?: string) {\n    const proxy = await SPProxy.getOrCreateProxy(`${this._hostWebUrl}/Brightcove/${SPEmbedUtil.getEmbedHelperFileNameFromAppWebUrl(this._addinWebUrl || this._hostWebUrl)}`);\n\n    const properties: any = {\n      hostWebUrl: this._hostWebUrl,\n      webPartXml,\n      webPartFileName,\n      group\n    };\n\n    await proxy.invoke('UploadWebPartToGallery', properties);\n  }\n\n  static generateEmbedHelper(hostWebUrl: string, addInWebUrl?: string): Blob {\n    if (!hostWebUrl) {\n      throw Error('hostWebUrl must be specified.');\n    }\n\n    const activationPageData = require('raw-loader!../../assets/BrightcoveEmbedHelper.html') as string;\n    const config = {\n      responseOrigin: '*',\n      trustedOriginAuthorities: [URI(window.location.href).origin()]\n    };\n\n    if (addInWebUrl) {\n      config.trustedOriginAuthorities.push(URI(addInWebUrl).origin());\n    }\n\n    if (process.env.NODE_ENV === 'development') {\n      config.trustedOriginAuthorities.push('http://localhost:3000');\n    }\n\n    const expression = `\n            window.__brightcoveConfig = ${JSON.stringify(config, null, 4)};\n            `;\n\n    const activationPage = activationPageData.replace(/(\\/\\/ @\\}-,--`--> Start BrightcoveConfig)([\\s\\S]*)(\\/\\/ @\\}-,--`--> End BrightcoveConfig)/, `$1\\n${expression}\\n$3`);\n    return new Blob([activationPage], { type: 'text/plain;charset=utf-8' });\n  }\n\n  static getEmbedHelperFileNameFromAppWebUrl(appWebUrl: string) {\n    const uri = new URI(appWebUrl);\n    return `BrightcoveEmbedHelper-${uri.hostname()}.aspx`;\n  }\n\n  static generateScriptEditorWebPart(title: string, description: string, content: string) {\n    const webPartData = `<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<webParts>\n    <webPart xmlns=\"http://schemas.microsoft.com/WebPart/v3\">\n        <metaData>\n            <type name=\"Microsoft.SharePoint.WebPartPages.ScriptEditorWebPart, Microsoft.SharePoint, Version=15.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c\" />\n            <importErrorMessage>Cannot import this Web Part.</importErrorMessage>\n        </metaData>\n        <data>\n            <properties>\n                <property name=\"ExportMode\" type=\"exportmode\">All</property>\n                <property name=\"HelpUrl\" type=\"string\" />\n                <property name=\"Hidden\" type=\"bool\">False</property>\n                <property name=\"Description\" type=\"string\">${escape(description)}</property>\n                <property name=\"Content\" type=\"string\">${escape(content)}</property>\n                <property name=\"CatalogIconImageUrl\" type=\"string\" />\n                <property name=\"Title\" type=\"string\">${escape(title)}</property>\n                <property name=\"AllowHide\" type=\"bool\">True</property>\n                <property name=\"AllowMinimize\" type=\"bool\">True</property>\n                <property name=\"AllowZoneChange\" type=\"bool\">True</property>\n                <property name=\"TitleUrl\" type=\"string\" />\n                <property name=\"ChromeType\" type=\"chrometype\">None</property>\n                <property name=\"AllowConnect\" type=\"bool\">True</property>\n                <property name=\"Width\" type=\"unit\" />\n                <property name=\"Height\" type=\"unit\" />\n                <property name=\"HelpMode\" type=\"helpmode\">Navigate</property>\n                <property name=\"AllowEdit\" type=\"bool\">True</property>\n                <property name=\"TitleIconImageUrl\" type=\"string\" />\n                <property name=\"Direction\" type=\"direction\">NotSet</property>\n                <property name=\"AllowClose\" type=\"bool\">True</property>\n                <property name=\"ChromeState\" type=\"chromestate\">Normal</property>\n            </properties>\n        </data>\n    </webPart>\n</webParts>`;\n\n    return webPartData;\n  }\n}\n","export * from './BrightcoveSettingsManager';\nexport * from './SPGroups';\nexport * from './SPList';\nexport * from './SharePointApiGateway';\n\nexport * from './SPUtility';\nexport * from './SPEmbedUtil';\n\nexport interface SPAddinContext {\n  [index: string]: string;\n  ProductId: string;\n  SPHostUrl: string;\n  SPLanguage: string;\n  SPClientTag: string;\n  SPProductNumber: string;\n  SPAppWebUrl: string;\n  Referrer: string;\n}\n\nexport interface SPProxyConfig {\n  createProxyTimeout: number;\n  messagePrefix: string;\n  messageResponseTimeout: number;\n}\n\nexport interface SPContextConfig {\n  /**\n   * The server relative URL to a host web proxy file.\n   */\n  proxyServerRelativeUrl: string;\n  /**\n   * Default Proxy Configuration\n   */\n  proxyConfig: SPProxyConfig;\n  /**\n   * The web relative url to contextinfo. E.g. \"/_api/contextinfo\"\n   */\n  contextinfoEndpointWebRelativeUrl: string;\n  /**\n   * Optionally defines additional query string values to pass to the authentication page.\n   */\n  authenticationConfig: SPContextAuthenticationConfig;\n  /**\n   * Specifies any default headers to include.\n   */\n  defaultHeaders: any;\n}\n\nexport interface SPContextAuthenticationConfig {\n  /**\n   * The web relative url to the authentication page. E.g. \"/_layouts/15/authenticate.aspx\"\n   */\n  authenticationEndpointWebRelativeUrl: string;\n  /**\n   * The value of the source query string value to pass to the authentication endpoint\n   */\n  sourceUrl: string | undefined;\n  /**\n   * A hash whose key/values will be passed as query string parameters to the authentication endpoint.\n   */\n  query: any;\n}\n\nexport type SPProxyResponse = {\n  $$command: string;\n  $$postMessageId: string;\n  $$result: 'success' | 'error' | 'progress';\n  [others: string]: any;\n};\n\nexport interface SPContextInfo {\n  FormDigestTimeoutSeconds: number;\n  FormDigestValue: string;\n  LibraryVersion: string;\n  SiteFullUrl: string;\n  WebFullUrl: string;\n  expires: Date;\n}\n\nexport interface BrewConfig {\n  bootstrap: Array<string>;\n  entryPointId: string;\n  props?: any;\n  timeout?: number;\n  [others: string]: any;\n}\n\nexport enum SharePointPageType {\n  WikiPage = 'Wiki',\n  WebPartPage = 'WebPartPage',\n  PublishingPage = 'PublishingPage',\n  Other = 'Other'\n}\n","\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__export(require(\"./dto\"));\n\n__export(require(\"./AssetsApi\"));\n\n__export(require(\"./BrightcoveApiGateway\"));\n\n__export(require(\"./ClientCredentialsApi\"));\n\n__export(require(\"./DynamicIngestApi\"));\n\n__export(require(\"./ExperiencesApi\"));\n\n__export(require(\"./FoldersApi\"));\n\n__export(require(\"./IngestProfilesApi\"));\n\n__export(require(\"./PlayerManagementApi\"));\n\n__export(require(\"./PlaylistsApi\"));\n\n__export(require(\"./VideosApi\"));","export default \"<!DOCTYPE html>\\n<%@ Register tagprefix=\\\"WebPartPages\\\" namespace=\\\"Microsoft.SharePoint.WebPartPages\\\" assembly=\\\"Microsoft.SharePoint, Version=15.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c\\\" %>\\n<html xmlns=\\\"http://www.w3.org/1999/xhtml\\\">\\n<WebPartPages:AllowFraming ID=\\\"AllowFraming1\\\" runat=\\\"server\\\" />\\n\\n<head runat=\\\"server\\\">\\n    <meta name=\\\"GENERATOR\\\" content=\\\"Microsoft SharePoint\\\" />\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\">\\n    <meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=utf-8\\\" />\\n    <meta http-equiv=\\\"Expires\\\" content=\\\"0\\\" />\\n    <title>Brightcove Video Connector for SharePoint - Embed Helper</title>\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://static2.sharepointonline.com/files/fabric/office-ui-fabric-js/1.5.0/css/fabric.min.css\\\">\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://static2.sharepointonline.com/files/fabric/office-ui-fabric-js/1.5.0/css/fabric.components.min.css\\\">\\n    <script type=\\\"text/javascript\\\" src=\\\"https://static2.sharepointonline.com/files/fabric/office-ui-fabric-js/1.5.0/js/fabric.min.js\\\"></script>\\n    <script type=\\\"text/javascript\\\" src=\\\"_layouts/1033/init.js\\\"></script>\\n    <script type=\\\"text/javascript\\\" src=\\\"_layouts/15/MicrosoftAjax.js\\\"></script>\\n    <script type=\\\"text/javascript\\\" src=\\\"_layouts/15/sp.core.js\\\"></script>\\n    <script type=\\\"text/javascript\\\" src=\\\"_layouts/15/sp.runtime.js\\\"></script>\\n    <script type=\\\"text/javascript\\\" src=\\\"_layouts/15/sp.js\\\"></script>\\n</head>\\n\\n<body>\\n    <div id=\\\"root\\\">\\n        <div class=\\\"ms-Spinner ms-Spinner--large\\\">\\n            <div id=\\\"statusLabel\\\" class=\\\"ms-Spinner-label\\\">\\n                Initializing...\\n            </div>\\n        </div>\\n    </div>\\n    <script id=\\\"Brightcove-Config\\\" type=\\\"text/javascript\\\">\\n        // @}-,--`--> Start BrightcoveConfig\\n        // @}-,--`--> End BrightcoveConfig\\n    </script>\\n<script type=\\\"text/javascript\\\">!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\\\"a\\\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\\\"/\\\",e(e.s=174)}([function(t,e,n){var r=n(3),o=n(24),i=n(15),a=n(16),s=n(21),u=\\\"prototype\\\",c=function(t,e,n){var l,p,f,h,d=t&c.F,y=t&c.G,g=t&c.S,v=t&c.P,m=t&c.B,b=y?r:g?r[e]||(r[e]={}):(r[e]||{})[u],_=y?o:o[e]||(o[e]={}),P=_[u]||(_[u]={});y&&(n=e);for(l in n)p=!d&&b&&void 0!==b[l],f=(p?b:n)[l],h=m&&p?s(f,r):v&&\\\"function\\\"==typeof f?s(Function.call,f):f,b&&a(b,l,f,t&c.U),_[l]!=f&&i(_,l,h),v&&P[l]!=f&&(P[l]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){\\\"use strict\\\";(function(t){function r(t){if(null===t)return\\\"\\\";var e=t.indexOf(\\\"_api/\\\");return e>-1?t.substr(0,e):t}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(33);e.extractWebUrl=r;var i=function(){function e(){}return e.getCtxCallback=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){e.apply(t,n)}},e.urlParamExists=function(t){return t=t.replace(/[\\\\[]/,\\\"\\\\\\\\[\\\").replace(/[\\\\]]/,\\\"\\\\\\\\]\\\"),new RegExp(\\\"[\\\\\\\\?&]\\\"+t+\\\"=([^&#]*)\\\").test(location.search)},e.getUrlParamByName=function(t){t=t.replace(/[\\\\[]/,\\\"\\\\\\\\[\\\").replace(/[\\\\]]/,\\\"\\\\\\\\]\\\");var e=new RegExp(\\\"[\\\\\\\\?&]\\\"+t+\\\"=([^&#]*)\\\"),n=e.exec(location.search);return null==n?\\\"\\\":decodeURIComponent(n[1].replace(/\\\\+/g,\\\" \\\"))},e.getUrlParamBoolByName=function(t){var e=this.getUrlParamByName(t);return!(\\\"\\\"===e||/false|0/i.test(e))},e.stringInsert=function(t,e,n){return e>0?t.substring(0,e)+n+t.substring(e,t.length):n+t},e.dateAdd=function(t,e,n){var r=new Date(t);switch(e.toLowerCase()){case\\\"year\\\":r.setFullYear(r.getFullYear()+n);break;case\\\"quarter\\\":r.setMonth(r.getMonth()+3*n);break;case\\\"month\\\":r.setMonth(r.getMonth()+n);break;case\\\"week\\\":r.setDate(r.getDate()+7*n);break;case\\\"day\\\":r.setDate(r.getDate()+n);break;case\\\"hour\\\":r.setTime(r.getTime()+36e5*n);break;case\\\"minute\\\":r.setTime(r.getTime()+6e4*n);break;case\\\"second\\\":r.setTime(r.getTime()+1e3*n);break;default:r=void 0}return r},e.loadStylesheet=function(t,e){e&&(t+=\\\"?\\\"+encodeURIComponent((new Date).getTime().toString()));var n=document.getElementsByTagName(\\\"head\\\");if(n.length>0){var r=document.createElement(\\\"link\\\");n[0].appendChild(r),r.setAttribute(\\\"type\\\",\\\"text/css\\\"),r.setAttribute(\\\"rel\\\",\\\"stylesheet\\\"),r.setAttribute(\\\"href\\\",t)}},e.combinePaths=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(function(t){return!e.stringIsNullOrEmpty(t)}).map(function(t){return t.replace(/^[\\\\\\\\|\\\\/]/,\\\"\\\").replace(/[\\\\\\\\|\\\\/]$/,\\\"\\\")}).join(\\\"/\\\").replace(/\\\\\\\\/g,\\\"/\\\")},e.getRandomString=function(t){for(var e=new Array(t),n=\\\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\\\",r=0;r<t;r++)e[r]=n.charAt(Math.floor(Math.random()*n.length));return e.join(\\\"\\\")},e.getGUID=function(){var t=(new Date).getTime();return\\\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\\\".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),(\\\"x\\\"===e?n:3&n|8).toString(16)})},e.isFunction=function(t){return\\\"function\\\"==typeof t},e.isArray=function(t){return Array.isArray?Array.isArray(t):t&&\\\"number\\\"==typeof t.length&&t.constructor===Array},e.stringIsNullOrEmpty=function(t){return void 0===t||null===t||t.length<1},e.extend=function(t,e,n){if(void 0===n&&(n=!1),null===e||void 0===e)return t;var r=n?function(t,e){return!(e in t)}:function(){return!0};return Object.getOwnPropertyNames(e).filter(function(e){return r(t,e)}).reduce(function(t,n){return t[n]=e[n],t},t)},e.isUrlAbsolute=function(t){return/^https?:\\\\/\\\\/|^\\\\/\\\\//i.test(t)},e.toAbsoluteUrl=function(n){return new Promise(function(r){if(e.isUrlAbsolute(n))return r(n);if(null!==o.RuntimeConfig.spBaseUrl)return r(e.combinePaths(o.RuntimeConfig.spBaseUrl,n));if(void 0!==t._spPageContextInfo){if(t._spPageContextInfo.hasOwnProperty(\\\"webAbsoluteUrl\\\"))return r(e.combinePaths(t._spPageContextInfo.webAbsoluteUrl,n));if(t._spPageContextInfo.hasOwnProperty(\\\"webServerRelativeUrl\\\"))return r(e.combinePaths(t._spPageContextInfo.webServerRelativeUrl,n))}if(void 0!==t.location){var i=t.location.toString().toLowerCase();[\\\"/_layouts/\\\",\\\"/siteassets/\\\"].forEach(function(t){var o=i.indexOf(t);if(o>0)return r(e.combinePaths(i.substr(0,o),n))})}return r(n)})},e}();e.Util=i}).call(e,n(62))},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(t+\\\" is not an object!\\\");return t}},function(t,e){var n=t.exports=\\\"undefined\\\"!=typeof window&&window.Math==Math?window:\\\"undefined\\\"!=typeof self&&self.Math==Math?self:Function(\\\"return this\\\")();\\\"number\\\"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return\\\"object\\\"==typeof t?null!==t:\\\"function\\\"==typeof t}},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(1),i=n(54),a=n(59),s=n(20),u=n(34),c=n(108),l=n(109),p=n(110),f=function(t){function e(e,n){var r=t.call(this)||this;if(r._options={},r._query=new i.Dictionary,r._batch=null,\\\"string\\\"==typeof e){var a=e;if(o.Util.isUrlAbsolute(a)||a.lastIndexOf(\\\"/\\\")<0)r._parentUrl=a,r._url=o.Util.combinePaths(a,n);else if(a.lastIndexOf(\\\"/\\\")>a.lastIndexOf(\\\"(\\\")){var s=a.lastIndexOf(\\\"/\\\");r._parentUrl=a.slice(0,s),n=o.Util.combinePaths(a.slice(s),n),r._url=o.Util.combinePaths(r._parentUrl,n)}else{var s=a.lastIndexOf(\\\"(\\\");r._parentUrl=a.slice(0,s),r._url=o.Util.combinePaths(a,n)}}else{var u=e;r._parentUrl=u._url,r._options=u._options;var c=u._query.get(\\\"@target\\\");null!==c&&r._query.add(\\\"@target\\\",c),r._url=o.Util.combinePaths(r._parentUrl,n)}return r}return r(e,t),e.prototype.addBatchDependency=function(){return this.hasBatch?this._batch.addDependency():function(){return null}},Object.defineProperty(e.prototype,\\\"hasBatch\\\",{get:function(){return null!==this._batch},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"batch\\\",{get:function(){return this.hasBatch?this._batch:null},enumerable:!0,configurable:!0}),e.prototype.as=function(t){var e=new t(this._url,null);return o.Util.extend(e,this,!0)},e.prototype.inBatch=function(t){if(null!==this._batch)throw new s.AlreadyInBatchException;return this._batch=t,this},e.prototype.toUrlAndQuery=function(){var t=new i.Dictionary,e=this.toUrl().replace(/'!(@.*?)::(.*?)'/gi,function(e,n,r){return u.Logger.write(\\\"Rewriting aliased parameter from match \\\"+e+\\\" to label: \\\"+n+\\\" value: \\\"+r,u.LogLevel.Verbose),t.add(n,\\\"'\\\"+r+\\\"'\\\"),n});return t.merge(this._query),t.count()>0&&(e+=\\\"?\\\"+t.getKeys().map(function(e){return e+\\\"=\\\"+t.get(e)}).join(\\\"&\\\")),e},e.prototype.getParent=function(t,e,n,r){void 0===e&&(e=this.parentUrl);var o=new t(e,n);o.configure(this._options);var i=this.query.get(\\\"@target\\\");return null!==i&&o.query.add(\\\"@target\\\",i),void 0!==r&&(o=o.inBatch(r)),o},e.prototype.clone=function(t,e,n){void 0===n&&(n=!0);var r=new t(this,e);r.configure(this._options);var o=this.query.get(\\\"@target\\\");return null!==o&&r.query.add(\\\"@target\\\",o),n&&this.hasBatch&&(r=r.inBatch(this.batch)),r},e.prototype.toRequestContext=function(t,e,n,r){var i=this;void 0===e&&(e={}),void 0===r&&(r=l.PipelineMethods.default);var s=this.hasBatch?this.addBatchDependency():function(){};return o.Util.toAbsoluteUrl(this.toUrlAndQuery()).then(function(u){return a.mergeOptions(e,i._options),{batch:i._batch,batchDependency:s,cachingOptions:i._cachingOptions,clientFactory:function(){return new p.HttpClient},isBatched:i.hasBatch,isCached:i._useCaching,options:e,parser:n,pipeline:r,requestAbsoluteUrl:u,requestId:o.Util.getGUID(),verb:t}})},e}(c.ODataQueryable);e.SharePointQueryable=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.filter=function(t){return this._query.add(\\\"$filter\\\",t),this},e.prototype.select=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length>0&&this._query.add(\\\"$select\\\",t.join(\\\",\\\")),this},e.prototype.expand=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length>0&&this._query.add(\\\"$expand\\\",t.join(\\\",\\\")),this},e.prototype.orderBy=function(t,e){void 0===e&&(e=!0);for(var n=this._query.getKeys(),r=[],o=e?\\\" asc\\\":\\\" desc\\\",i=0;i<n.length;i++)if(\\\"$orderby\\\"===n[i]){r.push(this._query.get(\\\"$orderby\\\"));break}return r.push(\\\"\\\"+t+o),this._query.add(\\\"$orderby\\\",r.join(\\\",\\\")),this},e.prototype.skip=function(t){return this._query.add(\\\"$skip\\\",t.toString()),this},e.prototype.top=function(t){return this._query.add(\\\"$top\\\",t.toString()),this},e}(f);e.SharePointQueryableCollection=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.select=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length>0&&this._query.add(\\\"$select\\\",t.join(\\\",\\\")),this},e.prototype.expand=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length>0&&this._query.add(\\\"$expand\\\",t.join(\\\",\\\")),this},e}(f);e.SharePointQueryableInstance=d},function(t,e,n){var r=n(63)(\\\"wks\\\"),o=n(40),i=n(3).Symbol,a=\\\"function\\\"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)(\\\"Symbol.\\\"+t))}).store=r},function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},\\\"a\\\",{get:function(){return 7}}).a})},function(t,e,n){var r=n(2),o=n(119),i=n(25),a=Object.defineProperty;e.f=n(8)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if(\\\"get\\\"in n||\\\"set\\\"in n)throw TypeError(\\\"Accessors not supported!\\\");return\\\"value\\\"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(27),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(26);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(\\\"function\\\"!=typeof t)throw TypeError(t+\\\" is not a function!\\\");return t}},function(t,e,n){var r=n(0),o=n(4),i=n(26),a=/\\\"/g,s=function(t,e,n,r){var o=String(i(t)),s=\\\"<\\\"+e;return\\\"\\\"!==n&&(s+=\\\" \\\"+n+'=\\\"'+String(r).replace(a,\\\"&quot;\\\")+'\\\"'),s+\\\">\\\"+o+\\\"</\\\"+e+\\\">\\\"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*o(function(){var e=\\\"\\\"[t]('\\\"');return e!==e.toLowerCase()||e.split('\\\"').length>3}),\\\"String\\\",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(9),o=n(39);t.exports=n(8)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(3),o=n(15),i=n(14),a=n(40)(\\\"src\\\"),s=\\\"toString\\\",u=Function[s],c=(\\\"\\\"+u).split(s);n(24).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u=\\\"function\\\"==typeof n;u&&(i(n,\\\"name\\\")||o(n,\\\"name\\\",e)),t[e]!==n&&(u&&(i(n,a)||o(n,a,t[e]?\\\"\\\"+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,s,function(){return\\\"function\\\"==typeof this&&this[a]||u.call(this)})},function(t,e,n){var r=n(55),o=n(26);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(56),o=n(39),i=n(17),a=n(25),s=n(14),u=n(119),c=Object.getOwnPropertyDescriptor;e.f=n(8)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(14),o=n(11),i=n(84)(\\\"IE_PROTO\\\"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:\\\"function\\\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){\\\"use strict\\\";function r(t){i.Logger.log({data:{},level:i.LogLevel.Error,message:\\\"[\\\"+t.name+\\\"]::\\\"+t.message})}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var i=n(34),a=function(t){function e(e,n,r){var o=t.call(this,\\\"Error making HttpClient request in queryable: [\\\"+e+\\\"] \\\"+n)||this;return o.status=e,o.statusText=n,o.data=r,o.name=\\\"ProcessHttpClientResponseException\\\",i.Logger.log({data:o.data,level:i.LogLevel.Error,message:o.message}),o}return o(e,t),e}(Error);e.ProcessHttpClientResponseException=a;var s=function(t){function e(e){void 0===e&&(e=\\\"Cannot create a caching configuration provider since cache is not available.\\\");var n=t.call(this,e)||this;return n.name=\\\"NoCacheAvailableException\\\",r(n),n}return o(e,t),e}(Error);e.NoCacheAvailableException=s;var u=function(t){function e(e){void 0===e&&(e=\\\"Unable to determine API url.\\\");var n=t.call(this,e)||this;return n.name=\\\"APIUrlException\\\",r(n),n}return o(e,t),e}(Error);e.APIUrlException=u;var c=function(t){function e(e,n){void 0===n&&(n=\\\"Auth URL Endpoint could not be determined from data. Data logged.\\\");var r=t.call(this,n)||this;return r.name=\\\"APIUrlException\\\",i.Logger.log({data:e,level:i.LogLevel.Error,message:r.message}),r}return o(e,t),e}(Error);e.AuthUrlException=c;var l=function(t){function e(e){void 0===e&&(e=\\\"Using NodeFetchClient in the browser is not supported.\\\");var n=t.call(this,e)||this;return n.name=\\\"NodeFetchClientUnsupportedException\\\",r(n),n}return o(e,t),e}(Error);e.NodeFetchClientUnsupportedException=l;var p=function(t){function e(){var e=this,n=[\\\"SP.RequestExecutor is undefined. \\\",\\\"Load the SP.RequestExecutor.js library (/_layouts/15/SP.RequestExecutor.js) before loading the PnP JS Core library.\\\"].join(\\\" \\\");return e=t.call(this,n)||this,e.name=\\\"SPRequestExecutorUndefinedException\\\",r(e),e}return o(e,t),e}(Error);e.SPRequestExecutorUndefinedException=p;var f=function(t){function e(e){void 0===e&&(e=\\\"The maximum comment length is 1023 characters.\\\");var n=t.call(this,e)||this;return n.name=\\\"MaxCommentLengthException\\\",r(n),n}return o(e,t),e}(Error);e.MaxCommentLengthException=f;var h=function(t){function e(e){void 0===e&&(e=\\\"This operation\\\");var n=t.call(this,e+\\\" is not supported as part of a batch.\\\")||this;return n.name=\\\"NotSupportedInBatchException\\\",r(n),n}return o(e,t),e}(Error);e.NotSupportedInBatchException=h;var d=function(t){function e(e,n){void 0===n&&(n=\\\"Could not extract odata id in object, you may be using nometadata. Object data logged to logger.\\\");var r=t.call(this,n)||this;return r.name=\\\"ODataIdException\\\",i.Logger.log({data:e,level:i.LogLevel.Error,message:r.message}),r}return o(e,t),e}(Error);e.ODataIdException=d;var y=function(t){function e(e){var n=t.call(this,e)||this;return n.name=\\\"BatchParseException\\\",r(n),n}return o(e,t),e}(Error);e.BatchParseException=y;var g=function(t){function e(e){void 0===e&&(e=\\\"This query is already part of a batch.\\\");var n=t.call(this,e)||this;return n.name=\\\"AlreadyInBatchException\\\",r(n),n}return o(e,t),e}(Error);e.AlreadyInBatchException=g;var v=function(t){function e(e){void 0===e&&(e=\\\"This query is already part of a batch.\\\");var n=t.call(this,e)||this;return n.name=\\\"FunctionExpectedException\\\",r(n),n}return o(e,t),e}(Error);e.FunctionExpectedException=v;var m=function(t){function e(e){var n=t.call(this,e)||this;return n.name=\\\"UrlException\\\",r(n),n}return o(e,t),e}(Error);e.UrlException=m},function(t,e,n){var r=n(12);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){\\\"use strict\\\";var r=n(4);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var n=t.exports={version:\\\"2.5.7\\\"};\\\"number\\\"==typeof __e&&(__e=n)},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&\\\"function\\\"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if(\\\"function\\\"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&\\\"function\\\"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError(\\\"Can't convert object to primitive value\\\")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError(\\\"Can't call method on  \\\"+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(0),o=n(24),i=n(4);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),\\\"Object\\\",a)}},function(t,e,n){var r=n(21),o=n(55),i=n(11),a=n(10),s=n(101);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,p=6==t,f=5==t||p,h=e||s;return function(e,s,d){for(var y,g,v=i(e),m=o(v),b=r(s,d,3),_=a(m.length),P=0,w=n?h(e,_):u?h(e,0):void 0;_>P;P++)if((f||P in m)&&(y=m[P],g=b(y,P,v),t))if(n)w[P]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return P;case 2:w.push(y)}else if(l)return!1;return p?-1:c||l?l:w}}},function(t,e,n){\\\"use strict\\\";function r(t){if(t.hasOwnProperty(\\\"odata.id\\\"))return t[\\\"odata.id\\\"];if(t.hasOwnProperty(\\\"__metadata\\\")&&t.__metadata.hasOwnProperty(\\\"id\\\"))return t.__metadata.id;throw new l.ODataIdException(t)}function o(t){return t.hasOwnProperty(\\\"odata.metadata\\\")&&t.hasOwnProperty(\\\"odata.editLink\\\")?u.Util.combinePaths(u.extractWebUrl(t[\\\"odata.metadata\\\"]),\\\"_api\\\",t[\\\"odata.editLink\\\"]):t.hasOwnProperty(\\\"__metadata\\\")?t.__metadata.uri:(c.Logger.write(\\\"No uri information found in ODataEntity parsing, chaining will fail for this object.\\\",c.LogLevel.Warning),\\\"\\\")}function i(t){return new f(t)}function a(t){return new h(t)}var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var u=n(1),c=n(34),l=n(20),p=n(77);e.spExtractODataId=r;var f=function(t){function e(e){var n=t.call(this)||this;return n.factory=e,n.hydrate=function(t){var e=new n.factory(o(t),null);return u.Util.extend(e,t)},n}return s(e,t),e.prototype.parse=function(e){var n=this;return t.prototype.parse.call(this,e).then(function(t){var e=new n.factory(o(t),null);return u.Util.extend(e,t)})},e}(p.ODataParserBase),h=function(t){function e(e){var n=t.call(this)||this;return n.factory=e,n.hydrate=function(t){return t.map(function(t){var e=new n.factory(o(t),null);return u.Util.extend(e,t)})},n}return s(e,t),e.prototype.parse=function(e){var n=this;return t.prototype.parse.call(this,e).then(function(t){return t.map(function(t){var e=new n.factory(o(t),null);return u.Util.extend(e,t)})})},e}(p.ODataParserBase);e.spGetEntityUrl=o,e.spODataEntity=i,e.spODataEntityArray=a},function(t,e,n){\\\"use strict\\\";if(n(8)){var r=n(37),o=n(3),i=n(4),a=n(0),s=n(72),u=n(107),c=n(21),l=n(45),p=n(39),f=n(15),h=n(47),d=n(27),y=n(10),g=n(146),v=n(41),m=n(25),b=n(14),_=n(57),P=n(5),w=n(11),S=n(98),O=n(42),x=n(19),C=n(43).f,I=n(100),T=n(40),j=n(7),E=n(29),U=n(64),A=n(103),F=n(136),R=n(58),M=n(68),D=n(44),k=n(102),L=n(135),B=n(9),N=n(18),Q=B.f,q=N.f,H=o.RangeError,W=o.TypeError,G=o.Uint8Array,z=\\\"ArrayBuffer\\\",V=\\\"Shared\\\"+z,$=\\\"BYTES_PER_ELEMENT\\\",J=\\\"prototype\\\",K=Array[J],X=u.ArrayBuffer,Z=u.DataView,Y=E(0),tt=E(2),et=E(3),nt=E(4),rt=E(5),ot=E(6),it=U(!0),at=U(!1),st=F.values,ut=F.keys,ct=F.entries,lt=K.lastIndexOf,pt=K.reduce,ft=K.reduceRight,ht=K.join,dt=K.sort,yt=K.slice,gt=K.toString,vt=K.toLocaleString,mt=j(\\\"iterator\\\"),bt=j(\\\"toStringTag\\\"),_t=T(\\\"typed_constructor\\\"),Pt=T(\\\"def_constructor\\\"),wt=s.CONSTR,St=s.TYPED,Ot=s.VIEW,xt=\\\"Wrong length!\\\",Ct=E(1,function(t,e){return Ut(A(t,t[Pt]),e)}),It=i(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),Tt=!!G&&!!G[J].set&&i(function(){new G(1).set({})}),jt=function(t,e){var n=d(t);if(n<0||n%e)throw H(\\\"Wrong offset!\\\");return n},Et=function(t){if(P(t)&&St in t)return t;throw W(t+\\\" is not a typed array!\\\")},Ut=function(t,e){if(!(P(t)&&_t in t))throw W(\\\"It is not a typed array constructor!\\\");return new t(e)},At=function(t,e){return Ft(A(t,t[Pt]),e)},Ft=function(t,e){for(var n=0,r=e.length,o=Ut(t,r);r>n;)o[n]=e[n++];return o},Rt=function(t,e,n){Q(t,e,{get:function(){return this._d[n]}})},Mt=function(t){var e,n,r,o,i,a,s=w(t),u=arguments.length,l=u>1?arguments[1]:void 0,p=void 0!==l,f=I(s);if(void 0!=f&&!S(f)){for(a=f.call(s),r=[],e=0;!(i=a.next()).done;e++)r.push(i.value);s=r}for(p&&u>2&&(l=c(l,arguments[2],2)),e=0,n=y(s.length),o=Ut(this,n);n>e;e++)o[e]=p?l(s[e],e):s[e];return o},Dt=function(){for(var t=0,e=arguments.length,n=Ut(this,e);e>t;)n[t]=arguments[t++];return n},kt=!!G&&i(function(){vt.call(new G(1))}),Lt=function(){return vt.apply(kt?yt.call(Et(this)):Et(this),arguments)},Bt={copyWithin:function(t,e){return L.call(Et(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return k.apply(Et(this),arguments)},filter:function(t){return At(this,tt(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return ot(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return it(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(Et(this),arguments)},lastIndexOf:function(t){return lt.apply(Et(this),arguments)},map:function(t){return Ct(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return pt.apply(Et(this),arguments)},reduceRight:function(t){return ft.apply(Et(this),arguments)},reverse:function(){for(var t,e=this,n=Et(e).length,r=Math.floor(n/2),o=0;o<r;)t=e[o],e[o++]=e[--n],e[n]=t;return e},some:function(t){return et(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Et(this),t)},subarray:function(t,e){var n=Et(this),r=n.length,o=v(t,r);return new(A(n,n[Pt]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,y((void 0===e?r:v(e,r))-o))}},Nt=function(t,e){return At(this,yt.call(Et(this),t,e))},Qt=function(t){Et(this);var e=jt(arguments[1],1),n=this.length,r=w(t),o=y(r.length),i=0;if(o+e>n)throw H(xt);for(;i<o;)this[e+i]=r[i++]},qt={entries:function(){return ct.call(Et(this))},keys:function(){return ut.call(Et(this))},values:function(){return st.call(Et(this))}},Ht=function(t,e){return P(t)&&t[St]&&\\\"symbol\\\"!=typeof e&&e in t&&String(+e)==String(e)},Wt=function(t,e){return Ht(t,e=m(e,!0))?p(2,t[e]):q(t,e)},Gt=function(t,e,n){return!(Ht(t,e=m(e,!0))&&P(n)&&b(n,\\\"value\\\"))||b(n,\\\"get\\\")||b(n,\\\"set\\\")||n.configurable||b(n,\\\"writable\\\")&&!n.writable||b(n,\\\"enumerable\\\")&&!n.enumerable?Q(t,e,n):(t[e]=n.value,t)};wt||(N.f=Wt,B.f=Gt),a(a.S+a.F*!wt,\\\"Object\\\",{getOwnPropertyDescriptor:Wt,defineProperty:Gt}),i(function(){gt.call({})})&&(gt=vt=function(){return ht.call(this)});var zt=h({},Bt);h(zt,qt),f(zt,mt,qt.values),h(zt,{slice:Nt,set:Qt,constructor:function(){},toString:gt,toLocaleString:Lt}),Rt(zt,\\\"buffer\\\",\\\"b\\\"),Rt(zt,\\\"byteOffset\\\",\\\"o\\\"),Rt(zt,\\\"byteLength\\\",\\\"l\\\"),Rt(zt,\\\"length\\\",\\\"e\\\"),Q(zt,bt,{get:function(){return this[St]}}),t.exports=function(t,e,n,u){u=!!u;var c=t+(u?\\\"Clamped\\\":\\\"\\\")+\\\"Array\\\",p=\\\"get\\\"+t,h=\\\"set\\\"+t,d=o[c],v=d||{},m=d&&x(d),b=!d||!s.ABV,w={},S=d&&d[J],I=function(t,n){var r=t._d;return r.v[p](n*e+r.o,It)},T=function(t,n,r){var o=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[h](n*e+o.o,r,It)},j=function(t,e){Q(t,e,{get:function(){return I(this,e)},set:function(t){return T(this,e,t)},enumerable:!0})};b?(d=n(function(t,n,r,o){l(t,d,c,\\\"_d\\\");var i,a,s,u,p=0,h=0;if(P(n)){if(!(n instanceof X||(u=_(n))==z||u==V))return St in n?Ft(d,n):Mt.call(d,n);i=n,h=jt(r,e);var v=n.byteLength;if(void 0===o){if(v%e)throw H(xt);if((a=v-h)<0)throw H(xt)}else if((a=y(o)*e)+h>v)throw H(xt);s=a/e}else s=g(n),a=s*e,i=new X(a);for(f(t,\\\"_d\\\",{b:i,o:h,l:a,e:s,v:new Z(i)});p<s;)j(t,p++)}),S=d[J]=O(zt),f(S,\\\"constructor\\\",d)):i(function(){d(1)})&&i(function(){new d(-1)})&&M(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,o){l(t,d,c);var i;return P(n)?n instanceof X||(i=_(n))==z||i==V?void 0!==o?new v(n,jt(r,e),o):void 0!==r?new v(n,jt(r,e)):new v(n):St in n?Ft(d,n):Mt.call(d,n):new v(g(n))}),Y(m!==Function.prototype?C(v).concat(C(m)):C(v),function(t){t in d||f(d,t,v[t])}),d[J]=S,r||(S.constructor=d));var E=S[mt],U=!!E&&(\\\"values\\\"==E.name||void 0==E.name),A=qt.values;f(d,_t,!0),f(S,St,c),f(S,Ot,!0),f(S,Pt,d),(u?new d(1)[bt]==c:bt in S)||Q(S,bt,{get:function(){return c}}),w[c]=d,a(a.G+a.W+a.F*(d!=v),w),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*i(function(){v.of.call(d,1)}),c,{from:Mt,of:Dt}),$ in S||f(S,$,e),a(a.P,c,Bt),D(c),a(a.P+a.F*Tt,c,{set:Qt}),a(a.P+a.F*!U,c,qt),r||S.toString==gt||(S.toString=gt),a(a.P+a.F*i(function(){new d(1).slice()}),c,{slice:Nt}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!i(function(){S.toLocaleString.call([1,2])})),c,{toLocaleString:Lt}),R[c]=U?E:A,r||U||f(S,mt,A)}}else t.exports=function(){}},function(t,e,n){var r=n(141),o=n(0),i=n(63)(\\\"metadata\\\"),a=i.store||(i.store=new(n(144))),s=function(t,e,n){var o=a.get(t);if(!o){if(!n)return;a.set(t,o=new r)}var i=o.get(e);if(!i){if(!n)return;o.set(e,i=new r)}return i},u=function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},c=function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},l=function(t,e,n,r){s(n,r,!0).set(t,e)},p=function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},f=function(t){return void 0===t||\\\"symbol\\\"==typeof t?t:String(t)},h=function(t){o(o.S,\\\"Reflect\\\",t)};t.exports={store:a,map:s,has:u,get:c,set:l,keys:p,key:f,exp:h}},function(t,e,n){\\\"use strict\\\";function r(t){a.set(t)}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(159),i=function(){function t(){this._defaultCachingStore=\\\"session\\\",this._defaultCachingTimeoutSeconds=60,this._globalCacheDisable=!1,this._enableCacheExpiration=!1,this._cacheExpirationIntervalMilliseconds=750,this._spfxContext=null,this._spFetchClientFactory=function(){return new o.FetchClient},this._spBaseUrl=null,this._spHeaders=null,this._graphHeaders=null,this._graphFetchClientFactory=function(){return null}}return t.prototype.set=function(t){var e=this;if(t.hasOwnProperty(\\\"globalCacheDisable\\\")&&(this._globalCacheDisable=t.globalCacheDisable),t.hasOwnProperty(\\\"defaultCachingStore\\\")&&(this._defaultCachingStore=t.defaultCachingStore),t.hasOwnProperty(\\\"defaultCachingTimeoutSeconds\\\")&&(this._defaultCachingTimeoutSeconds=t.defaultCachingTimeoutSeconds),t.hasOwnProperty(\\\"sp\\\")&&(t.sp.hasOwnProperty(\\\"fetchClientFactory\\\")&&(this._spFetchClientFactory=t.sp.fetchClientFactory),t.sp.hasOwnProperty(\\\"baseUrl\\\")&&(this._spBaseUrl=t.sp.baseUrl),t.sp.hasOwnProperty(\\\"headers\\\")&&(this._spHeaders=t.sp.headers)),t.hasOwnProperty(\\\"spfxContext\\\")&&(this._spfxContext=t.spfxContext,void 0!==this._spfxContext.graphHttpClient&&(this._graphFetchClientFactory=function(){return e._spfxContext.graphHttpClient})),t.hasOwnProperty(\\\"graph\\\")&&(t.graph.hasOwnProperty(\\\"headers\\\")&&(this._graphHeaders=t.graph.headers),t.graph.hasOwnProperty(\\\"fetchClientFactory\\\")&&(this._graphFetchClientFactory=t.graph.fetchClientFactory)),t.hasOwnProperty(\\\"enableCacheExpiration\\\")&&(this._enableCacheExpiration=t.enableCacheExpiration),t.hasOwnProperty(\\\"cacheExpirationIntervalMilliseconds\\\")){var n=t.cacheExpirationIntervalMilliseconds<300?300:t.cacheExpirationIntervalMilliseconds;this._cacheExpirationIntervalMilliseconds=n}},Object.defineProperty(t.prototype,\\\"defaultCachingStore\\\",{get:function(){return this._defaultCachingStore},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"defaultCachingTimeoutSeconds\\\",{get:function(){return this._defaultCachingTimeoutSeconds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"globalCacheDisable\\\",{get:function(){return this._globalCacheDisable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"spFetchClientFactory\\\",{get:function(){return this._spFetchClientFactory},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"spBaseUrl\\\",{get:function(){return null!==this._spBaseUrl?this._spBaseUrl:null!==this._spfxContext?this._spfxContext.pageContext.web.absoluteUrl:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"spHeaders\\\",{get:function(){return this._spHeaders},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"enableCacheExpiration\\\",{get:function(){return this._enableCacheExpiration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"cacheExpirationIntervalMilliseconds\\\",{get:function(){return this._cacheExpirationIntervalMilliseconds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"spfxContext\\\",{get:function(){return this._spfxContext},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"graphFetchClientFactory\\\",{get:function(){return this._graphFetchClientFactory},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"graphHeaders\\\",{get:function(){return this._graphHeaders},enumerable:!0,configurable:!0}),t}();e.RuntimeConfigImpl=i;var a=new i;e.RuntimeConfig=a,e.setRuntimeConfig=r},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r;!function(t){t[t.Verbose=0]=\\\"Verbose\\\",t[t.Info=1]=\\\"Info\\\",t[t.Warning=2]=\\\"Warning\\\",t[t.Error=3]=\\\"Error\\\",t[t.Off=99]=\\\"Off\\\"}(r=e.LogLevel||(e.LogLevel={}));var o=function(){function t(){}return Object.defineProperty(t,\\\"activeLogLevel\\\",{get:function(){return t.instance.activeLogLevel},set:function(e){t.instance.activeLogLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,\\\"instance\\\",{get:function(){return void 0!==t._instance&&null!==t._instance||(t._instance=new i),t._instance},enumerable:!0,configurable:!0}),t.subscribe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.map(function(e){return t.instance.subscribe(e)})},t.clearSubscribers=function(){return t.instance.clearSubscribers()},Object.defineProperty(t,\\\"count\\\",{get:function(){return t.instance.count},enumerable:!0,configurable:!0}),t.write=function(e,n){void 0===n&&(n=r.Verbose),t.instance.log({level:n,message:e})},t.writeJSON=function(e,n){void 0===n&&(n=r.Verbose),t.instance.log({level:n,message:JSON.stringify(e)})},t.log=function(e){t.instance.log(e)},t.measure=function(e,n){return t.instance.measure(e,n)},t}();e.Logger=o;var i=function(){function t(t,e){void 0===t&&(t=r.Warning),void 0===e&&(e=[]),this.activeLogLevel=t,this.subscribers=e}return t.prototype.subscribe=function(t){this.subscribers.push(t)},t.prototype.clearSubscribers=function(){var t=this.subscribers.slice(0);return this.subscribers.length=0,t},Object.defineProperty(t.prototype,\\\"count\\\",{get:function(){return this.subscribers.length},enumerable:!0,configurable:!0}),t.prototype.write=function(t,e){void 0===e&&(e=r.Verbose),this.log({level:e,message:t})},t.prototype.log=function(t){void 0===t||t.level<this.activeLogLevel||this.subscribers.map(function(e){return e.log(t)})},t.prototype.measure=function(t,e){console.profile(t);try{return e()}finally{console.profileEnd()}},t}(),a=function(){function t(){}return t.prototype.log=function(t){var e=this.format(t);switch(t.level){case r.Verbose:case r.Info:console.log(e);break;case r.Warning:console.warn(e);break;case r.Error:console.error(e)}},t.prototype.format=function(t){var e=[];return e.push(\\\"Message: \\\"+t.message),void 0!==t.data&&e.push(\\\" Data: \\\"+JSON.stringify(t.data)),e.join(\\\"\\\")},t}();e.ConsoleListener=a;var s=function(){function t(t){this.method=t}return t.prototype.log=function(t){this.method(t)},t}();e.FunctionListener=s},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(1),i=n(54),a=n(172),s=n(108),u=n(109),c=function(t){function e(e,n){var r=t.call(this)||this;if(r._query=new i.Dictionary,\\\"string\\\"==typeof e){var a=e;r._parentUrl=a,r._url=o.Util.combinePaths(a,n)}else{var s=e;r._parentUrl=s._url,r._url=o.Util.combinePaths(r._parentUrl,n)}return r}return r(e,t),e.prototype.as=function(t){var e=new t(this._url,null);return o.Util.extend(e,this,!0)},e.prototype.toUrlAndQuery=function(){var t=this;return this.toUrl()+\\\"?\\\"+this._query.getKeys().map(function(e){return e+\\\"=\\\"+t._query.get(e)}).join(\\\"&\\\")},e.prototype.getParent=function(t,e,n){return void 0===e&&(e=this.parentUrl),new t(e,n)},e.prototype.clone=function(t,e,n){return void 0===n&&(n=!0),new t(this,e)},e.prototype.toRequestContext=function(t,e,n,r){return void 0===e&&(e={}),void 0===r&&(r=u.PipelineMethods.default),Promise.resolve({batch:null,batchDependency:function(){},cachingOptions:this._cachingOptions,clientFactory:function(){return new a.GraphHttpClient},isBatched:!1,isCached:this._useCaching,options:e,parser:n,pipeline:r,requestAbsoluteUrl:this.toUrlAndQuery(),requestId:o.Util.getGUID(),verb:t})},e}(s.ODataQueryable);e.GraphQueryable=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.filter=function(t){return this._query.add(\\\"$filter\\\",t),this},e.prototype.select=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length>0&&this._query.add(\\\"$select\\\",t.join(\\\",\\\")),this},e.prototype.expand=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length>0&&this._query.add(\\\"$expand\\\",t.join(\\\",\\\")),this},e.prototype.orderBy=function(t,e){void 0===e&&(e=!0);for(var n=this._query.getKeys(),r=[],o=e?\\\" asc\\\":\\\" desc\\\",i=0;i<n.length;i++)if(\\\"$orderby\\\"===n[i]){r.push(this._query.get(\\\"$orderby\\\"));break}return r.push(\\\"\\\"+t+o),this._query.add(\\\"$orderby\\\",r.join(\\\",\\\")),this},e.prototype.top=function(t){return this._query.add(\\\"$top\\\",t.toString()),this},e.prototype.skip=function(t){return this._query.add(\\\"$top\\\",t.toString()),this},e.prototype.skipToken=function(t){return this._query.add(\\\"$skiptoken\\\",t),this},Object.defineProperty(e.prototype,\\\"count\\\",{get:function(){return this._query.add(\\\"$count\\\",\\\"true\\\"),this},enumerable:!0,configurable:!0}),e}(c);e.GraphQueryableCollection=l;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.search=function(t){return this._query.add(\\\"$search\\\",t),this},e}(l);e.GraphQueryableSearchableCollection=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.select=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length>0&&this._query.add(\\\"$select\\\",t.join(\\\",\\\")),this},e.prototype.expand=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length>0&&this._query.add(\\\"$expand\\\",t.join(\\\",\\\")),this},e}(c);e.GraphQueryableInstance=f},function(t,e,n){var r=n(40)(\\\"meta\\\"),o=n(5),i=n(14),a=n(9).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(4)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:\\\"O\\\"+ ++s,w:{}}})},p=function(t,e){if(!o(t))return\\\"symbol\\\"==typeof t?t:(\\\"string\\\"==typeof t?\\\"S\\\":\\\"P\\\")+t;if(!i(t,r)){if(!u(t))return\\\"F\\\";if(!e)return\\\"E\\\";l(t)}return t[r].i},f=function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},h=function(t){return c&&d.NEED&&u(t)&&!i(t,r)&&l(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:p,getWeak:f,onFreeze:h}},function(t,e){t.exports=!1},function(t,e,n){var r=n(7)(\\\"unscopables\\\"),o=Array.prototype;void 0==o[r]&&n(15)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return\\\"Symbol(\\\".concat(void 0===t?\\\"\\\":t,\\\")_\\\",(++n+r).toString(36))}},function(t,e,n){var r=n(27),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(2),o=n(122),i=n(85),a=n(84)(\\\"IE_PROTO\\\"),s=function(){},u=\\\"prototype\\\",c=function(){var t,e=n(82)(\\\"iframe\\\"),r=i.length;for(e.style.display=\\\"none\\\",n(86).appendChild(e),e.src=\\\"javascript:\\\",t=e.contentWindow.document,t.open(),t.write(\\\"<script>document.F=Object<\\\\/script>\\\"),t.close(),c=t.F;r--;)delete c[u][i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(121),o=n(85).concat(\\\"length\\\",\\\"prototype\\\");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){\\\"use strict\\\";var r=n(3),o=n(9),i=n(8),a=n(7)(\\\"species\\\");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+\\\": incorrect invocation!\\\");return t}},function(t,e,n){var r=n(21),o=n(133),i=n(98),a=n(2),s=n(10),u=n(100),c={},l={},e=t.exports=function(t,e,n,p,f){var h,d,y,g,v=f?function(){return t}:u(t),m=r(n,p,e?2:1),b=0;if(\\\"function\\\"!=typeof v)throw TypeError(t+\\\" is not iterable!\\\");if(i(v)){for(h=s(t.length);h>b;b++)if((g=e?m(a(d=t[b])[0],d[1]):m(t[b]))===c||g===l)return g}else for(y=v.call(t);!(d=y.next()).done;)if((g=o(y,m,d.value,e))===c||g===l)return g};e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(16);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){\\\"use strict\\\";function r(){return new u}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var i=n(77),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i.ODataParserBase);e.ODataDefaultParser=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parse=function(e){return t.prototype.parse.call(this,e).then(function(t){return t})},e}(i.ODataParserBase);e.ODataValue=r;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parseImpl=function(t,e){t.json().then(e)},e}(i.ODataParserBase);e.ODataRawParserImpl=c,e.ODataRaw=new c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parseImpl=function(t,e){t.text().then(e)},e}(i.ODataParserBase);e.TextFileParser=l;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parseImpl=function(t,e){t.blob().then(e)},e}(i.ODataParserBase);e.BlobFileParser=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parseImpl=function(t,e){t.json().then(e)},e}(i.ODataParserBase);e.JSONFileParser=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parseImpl=function(t,e){a.Util.isFunction(t.arrayBuffer)&&t.arrayBuffer().then(e),t.buffer().then(e)},e}(i.ODataParserBase);e.BufferFileParser=h},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(48),a=n(1),s=n(20),u=n(166),c=n(61),l=n(79),p=n(30),f=function(t){function e(e,n){return void 0===n&&(n=\\\"files\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getByName=function(t){var e=new h(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e.prototype.add=function(t,n,r){var o=this;return void 0===r&&(r=!0),new e(this,\\\"add(overwrite=\\\"+r+\\\",url='\\\"+t+\\\"')\\\").postCore({body:n}).then(function(e){return{data:e,file:o.getByName(t)}})},e.prototype.addChunked=function(t,n,r,o,i){var a=this;return void 0===o&&(o=!0),void 0===i&&(i=10485760),this.clone(e,\\\"add(overwrite=\\\"+o+\\\",url='\\\"+t+\\\"')\\\",!1).postCore().then(function(){return a.getByName(t)}).then(function(t){return t.setContentChunked(n,r,i)})},e.prototype.addTemplateFile=function(t,n){var r=this;return this.clone(e,\\\"addTemplateFile(urloffile='\\\"+t+\\\"',templatefiletype=\\\"+n+\\\")\\\",!1).postCore().then(function(e){return{data:e,file:r.getByName(t)}})},e}(o.SharePointQueryableCollection);e.Files=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"listItemAllFields\\\",{get:function(){return new o.SharePointQueryableCollection(this,\\\"listItemAllFields\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"versions\\\",{get:function(){return new d(this)},enumerable:!0,configurable:!0}),e.prototype.approve=function(t){return void 0===t&&(t=\\\"\\\"),this.clone(e,\\\"approve(comment='\\\"+t+\\\"')\\\").postCore()},e.prototype.cancelUpload=function(t){return this.clone(e,\\\"cancelUpload(uploadId=guid'\\\"+t+\\\"')\\\",!1).postCore()},e.prototype.checkin=function(t,n){if(void 0===t&&(t=\\\"\\\"),void 0===n&&(n=g.Major),t.length>1023)throw new s.MaxCommentLengthException;return this.clone(e,\\\"checkin(comment='\\\"+t+\\\"',checkintype=\\\"+n+\\\")\\\").postCore()},e.prototype.checkout=function(){return this.clone(e,\\\"checkout\\\").postCore()},e.prototype.copyTo=function(t,n){return void 0===n&&(n=!0),this.clone(e,\\\"copyTo(strnewurl='\\\"+t+\\\"',boverwrite=\\\"+n+\\\")\\\").postCore()},e.prototype.delete=function(t){return void 0===t&&(t=\\\"*\\\"),this.clone(e,null).postCore({headers:{\\\"IF-Match\\\":t,\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e.prototype.deny=function(t){if(void 0===t&&(t=\\\"\\\"),t.length>1023)throw new s.MaxCommentLengthException;return this.clone(e,\\\"deny(comment='\\\"+t+\\\"')\\\").postCore()},e.prototype.getLimitedWebPartManager=function(t){return void 0===t&&(t=v.Shared),new u.LimitedWebPartManager(this,\\\"getLimitedWebPartManager(scope=\\\"+t+\\\")\\\")},e.prototype.moveTo=function(t,n){return void 0===n&&(n=m.Overwrite),this.clone(e,\\\"moveTo(newurl='\\\"+t+\\\"',flags=\\\"+n+\\\")\\\").postCore()},e.prototype.publish=function(t){if(void 0===t&&(t=\\\"\\\"),t.length>1023)throw new s.MaxCommentLengthException;return this.clone(e,\\\"publish(comment='\\\"+t+\\\"')\\\").postCore()},e.prototype.recycle=function(){return this.clone(e,\\\"recycle\\\").postCore()},e.prototype.undoCheckout=function(){return this.clone(e,\\\"undoCheckout\\\").postCore()},e.prototype.unpublish=function(t){if(void 0===t&&(t=\\\"\\\"),t.length>1023)throw new s.MaxCommentLengthException;return this.clone(e,\\\"unpublish(comment='\\\"+t+\\\"')\\\").postCore()},e.prototype.getText=function(){return this.clone(e,\\\"$value\\\",!1).get(new i.TextFileParser,{headers:{binaryStringResponseBody:\\\"true\\\"}})},e.prototype.getBlob=function(){return this.clone(e,\\\"$value\\\",!1).get(new i.BlobFileParser,{headers:{binaryStringResponseBody:\\\"true\\\"}})},e.prototype.getBuffer=function(){return this.clone(e,\\\"$value\\\",!1).get(new i.BufferFileParser,{headers:{binaryStringResponseBody:\\\"true\\\"}})},e.prototype.getJSON=function(){return this.clone(e,\\\"$value\\\",!1).get(new i.JSONFileParser,{headers:{binaryStringResponseBody:\\\"true\\\"}})},e.prototype.setContent=function(t){var n=this;return this.clone(e,\\\"$value\\\",!1).postCore({body:t,headers:{\\\"X-HTTP-Method\\\":\\\"PUT\\\"}}).then(function(t){return new e(n)})},e.prototype.getItem=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.listItemAllFields;return n.select.apply(n,t).get().then(function(t){return a.Util.extend(new c.Item(p.spGetEntityUrl(t)),t)})},e.prototype.setContentChunked=function(t,e,n){var r=this;void 0===n&&(n=10485760),void 0===e&&(e=function(){return null});var o=t.size,i=parseInt((t.size/n).toString(),10)+(t.size%n==0?1:0),s=a.Util.getGUID();e({uploadId:s,blockNumber:1,chunkSize:n,currentPointer:0,fileSize:o,stage:\\\"starting\\\",totalBlocks:i});for(var u=this.startUpload(s,t.slice(0,n)),c=2;c<i;c++)!function(a){u=u.then(function(u){return e({uploadId:s,blockNumber:a,chunkSize:n,currentPointer:u,fileSize:o,stage:\\\"continue\\\",totalBlocks:i}),r.continueUpload(s,u,t.slice(u,u+n))})}(c);return u.then(function(a){return e({uploadId:s,blockNumber:i,chunkSize:n,currentPointer:a,fileSize:o,stage:\\\"finishing\\\",totalBlocks:i}),r.finishUpload(s,a,t.slice(a))})},e.prototype.startUpload=function(t,n){return this.clone(e,\\\"startUpload(uploadId=guid'\\\"+t+\\\"')\\\",!1).postAsCore({body:n}).then(function(t){return\\\"object\\\"==typeof t&&(t=t.StartUpload),parseFloat(t)})},e.prototype.continueUpload=function(t,n,r){return this.clone(e,\\\"continueUpload(uploadId=guid'\\\"+t+\\\"',fileOffset=\\\"+n+\\\")\\\",!1).postAsCore({body:r}).then(function(t){return\\\"object\\\"==typeof t&&(t=t.ContinueUpload),parseFloat(t)})},e.prototype.finishUpload=function(t,n,r){return this.clone(e,\\\"finishUpload(uploadId=guid'\\\"+t+\\\"',fileOffset=\\\"+n+\\\")\\\",!1).postAsCore({body:r}).then(function(t){return{data:t,file:new e(t.ServerRelativeUrl)}})},e}(l.SharePointQueryableShareableFile);e.File=h;var d=function(t){function e(e,n){return void 0===n&&(n=\\\"versions\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){var e=new y(this);return e.concat(\\\"(\\\"+t+\\\")\\\"),e},e.prototype.deleteAll=function(){return new e(this,\\\"deleteAll\\\").postCore()},e.prototype.deleteById=function(t){return this.clone(e,\\\"deleteById(vid=\\\"+t+\\\")\\\").postCore()},e.prototype.recycleByID=function(t){return this.clone(e,\\\"recycleByID(vid=\\\"+t+\\\")\\\").postCore()},e.prototype.deleteByLabel=function(t){return this.clone(e,\\\"deleteByLabel(versionlabel='\\\"+t+\\\"')\\\").postCore()},e.prototype.recycleByLabel=function(t){return this.clone(e,\\\"recycleByLabel(versionlabel='\\\"+t+\\\"')\\\").postCore()},e.prototype.restoreByLabel=function(t){return this.clone(e,\\\"restoreByLabel(versionlabel='\\\"+t+\\\"')\\\").postCore()},e}(o.SharePointQueryableCollection);e.Versions=d;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.delete=function(t){return void 0===t&&(t=\\\"*\\\"),this.postCore({headers:{\\\"IF-Match\\\":t,\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e.prototype.openBinaryStream=function(){return this.clone(e,\\\"openBinaryStream\\\").postCore()},e}(o.SharePointQueryableInstance);e.Version=y;var g;!function(t){t[t.Minor=0]=\\\"Minor\\\",t[t.Major=1]=\\\"Major\\\",t[t.Overwrite=2]=\\\"Overwrite\\\"}(g=e.CheckinType||(e.CheckinType={}));var v;!function(t){t[t.User=0]=\\\"User\\\",t[t.Shared=1]=\\\"Shared\\\"}(v=e.WebPartsPersonalizationScope||(e.WebPartsPersonalizationScope={}));var m;!function(t){t[t.Overwrite=1]=\\\"Overwrite\\\",t[t.AllowBrokenThickets=8]=\\\"AllowBrokenThickets\\\"}(m=e.MoveOperations||(e.MoveOperations={})),function(t){t[t.StandardPage=0]=\\\"StandardPage\\\",t[t.WikiPage=1]=\\\"WikiPage\\\",t[t.FormPage=2]=\\\"FormPage\\\",t[t.ClientSidePage=3]=\\\"ClientSidePage\\\"}(e.TemplateFileType||(e.TemplateFileType={}))},function(t,e,n){var r=n(9).f,o=n(14),i=n(7)(\\\"toStringTag\\\");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(121),o=n(85);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(0),o=n(26),i=n(4),a=n(88),s=\\\"[\\\"+a+\\\"]\\\",u=\\\"\\\",c=RegExp(\\\"^\\\"+s+s+\\\"*\\\"),l=RegExp(s+s+\\\"*$\\\"),p=function(t,e,n){var o={},s=i(function(){return!!a[t]()||u[t]()!=u}),c=o[t]=s?e(f):a[t];n&&(o[n]=c),r(r.P+r.F*s,\\\"String\\\",o)},f=p.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,\\\"\\\")),2&e&&(t=t.replace(l,\\\"\\\")),t};t.exports=p},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError(\\\"Incompatible receiver, \\\"+e+\\\" required!\\\");return t}},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.keys=t,this.values=e}return t.prototype.get=function(t){var e=this.keys.indexOf(t);return e<0?null:this.values[e]},t.prototype.add=function(t,e){var n=this.keys.indexOf(t);n>-1?this.values[n]=e:(this.keys.push(t),this.values.push(e))},t.prototype.merge=function(t){var e=this;if(\\\"getKeys\\\"in t){var n=t;n.getKeys().map(function(t){e.add(t,n.get(t))})}else{var r=t;for(var o in r)r.hasOwnProperty(o)&&this.add(o,r[o])}},t.prototype.remove=function(t){var e=this.keys.indexOf(t);if(e<0)return null;var n=this.values[e];return this.keys.splice(e,1),this.values.splice(e,1),n},t.prototype.getKeys=function(){return this.keys},t.prototype.getValues=function(){return this.values},t.prototype.clear=function(){this.keys=[],this.values=[]},t.prototype.count=function(){return this.keys.length},t}();e.Dictionary=r},function(t,e,n){var r=n(22);t.exports=Object(\\\"z\\\").propertyIsEnumerable(0)?Object:function(t){return\\\"String\\\"==r(t)?t.split(\\\"\\\"):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(22),o=n(7)(\\\"toStringTag\\\"),i=\\\"Arguments\\\"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?\\\"Undefined\\\":null===t?\\\"Null\\\":\\\"string\\\"==typeof(n=a(e=Object(t),o))?n:i?r(e):\\\"Object\\\"==(s=r(e))&&\\\"function\\\"==typeof e.callee?\\\"Arguments\\\":s}},function(t,e){t.exports={}},function(t,e,n){\\\"use strict\\\";function r(t,e){t.headers=t.headers||{};var n=i.Util.extend(t.headers,e.headers);t=i.Util.extend(t,e),t.headers=n}function o(t,e){void 0!==e&&null!==e&&new Request(\\\"\\\",{headers:e}).headers.forEach(function(e,n){t.append(n,e)})}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var i=n(1);e.mergeOptions=r,e.mergeHeaders=o},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(78),a=n(114),s=n(116),u=n(112),c=n(113),l=n(388),p=n(81),f=n(111),h=n(49),d=n(1),y=n(78),g=n(165),v=n(115),m=n(30),b=n(117),_=n(167),P=n(79),w=n(389),S=n(168),O=n(169),x=function(t){function e(e,n){return void 0===n&&(n=\\\"webs\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.add=function(t,n,r,o,i,a){void 0===r&&(r=\\\"\\\"),void 0===o&&(o=\\\"STS\\\"),void 0===i&&(i=1033),void 0===a&&(a=!0);var s={Description:r,Language:i,Title:t,Url:n,UseSamePermissionsAsParentSite:a,WebTemplate:o},u=JSON.stringify({parameters:d.Util.extend({__metadata:{type:\\\"SP.WebCreationInformation\\\"}},s)});return this.clone(e,\\\"add\\\").postCore({body:u}).then(function(t){return{data:t,web:new I(m.spExtractODataId(t).replace(/_api\\\\/web\\\\/?/i,\\\"\\\"))}})},e}(o.SharePointQueryableCollection);e.Webs=x;var C=function(t){function e(e,n){return void 0===n&&(n=\\\"webinfos\\\"),t.call(this,e,n)||this}return r(e,t),e}(o.SharePointQueryableCollection);e.WebInfos=C;var I=function(t){function e(e,n){return void 0===n&&(n=\\\"_api/web\\\"),t.call(this,e,n)||this}return r(e,t),e.fromUrl=function(t,n){return new e(d.extractWebUrl(t),n)},Object.defineProperty(e.prototype,\\\"webs\\\",{get:function(){return new x(this)},enumerable:!0,configurable:!0}),e.prototype.getSubwebsFilteredForCurrentUser=function(t,e){return void 0===t&&(t=-1),void 0===e&&(e=-1),this.clone(x,\\\"getSubwebsFilteredForCurrentUser(nWebTemplateFilter=\\\"+t+\\\",nConfigurationFilter=\\\"+e+\\\")\\\")},Object.defineProperty(e.prototype,\\\"allProperties\\\",{get:function(){return this.clone(o.SharePointQueryableCollection,\\\"allproperties\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"webinfos\\\",{get:function(){return new C(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"contentTypes\\\",{get:function(){return new c.ContentTypes(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"lists\\\",{get:function(){return new i.Lists(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"fields\\\",{get:function(){return new a.Fields(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"features\\\",{get:function(){return new _.Features(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"availablefields\\\",{get:function(){return new a.Fields(this,\\\"availablefields\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"navigation\\\",{get:function(){return new s.Navigation(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"siteUsers\\\",{get:function(){return new g.SiteUsers(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"siteGroups\\\",{get:function(){return new u.SiteGroups(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"siteUserInfoList\\\",{get:function(){return new y.List(this,\\\"siteuserinfolist\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"regionalSettings\\\",{get:function(){return new l.RegionalSettings(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"currentUser\\\",{get:function(){return new g.CurrentUser(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"folders\\\",{get:function(){return new p.Folders(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"userCustomActions\\\",{get:function(){return new v.UserCustomActions(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"effectiveBasePermissions\\\",{get:function(){return new o.SharePointQueryable(this,\\\"effectivebasepermissions\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"roleDefinitions\\\",{get:function(){return new f.RoleDefinitions(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"relatedItems\\\",{get:function(){return w.RelatedItemManagerImpl.FromUrl(this.toUrl())},enumerable:!0,configurable:!0}),e.prototype.createBatch=function(){return new b.ODataBatch(this.parentUrl)},Object.defineProperty(e.prototype,\\\"rootFolder\\\",{get:function(){return new p.Folder(this,\\\"rootFolder\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"associatedOwnerGroup\\\",{get:function(){return new u.SiteGroup(this,\\\"associatedownergroup\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"associatedMemberGroup\\\",{get:function(){return new u.SiteGroup(this,\\\"associatedmembergroup\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"associatedVisitorGroup\\\",{get:function(){return new u.SiteGroup(this,\\\"associatedvisitorgroup\\\")},enumerable:!0,configurable:!0}),e.prototype.getFolderByServerRelativeUrl=function(t){return new p.Folder(this,\\\"getFolderByServerRelativeUrl('\\\"+t+\\\"')\\\")},e.prototype.getFolderByServerRelativePath=function(t){return new p.Folder(this,\\\"getFolderByServerRelativePath(decodedUrl='\\\"+t+\\\"')\\\")},e.prototype.getFileByServerRelativeUrl=function(t){return new h.File(this,\\\"getFileByServerRelativeUrl('\\\"+t+\\\"')\\\")},e.prototype.getFileByServerRelativePath=function(t){return new h.File(this,\\\"getFileByServerRelativePath(decodedUrl='\\\"+t+\\\"')\\\")},e.prototype.getList=function(t){return new y.List(this,\\\"getList('\\\"+t+\\\"')\\\")},e.prototype.update=function(t){var e=this,n=JSON.stringify(d.Util.extend({__metadata:{type:\\\"SP.Web\\\"}},t));return this.postCore({body:n,headers:{\\\"X-HTTP-Method\\\":\\\"MERGE\\\"}}).then(function(t){return{data:t,web:e}})},e.prototype.delete=function(){return t.prototype.deleteCore.call(this)},e.prototype.applyTheme=function(t,n,r,o){var i=JSON.stringify({backgroundImageUrl:r,colorPaletteUrl:t,fontSchemeUrl:n,shareGenerated:o});return this.clone(e,\\\"applytheme\\\").postCore({body:i})},e.prototype.applyWebTemplate=function(t){var n=this.clone(e,\\\"applywebtemplate\\\");return n.concat(\\\"(@t)\\\"),n.query.add(\\\"@t\\\",t),n.postCore()},e.prototype.ensureUser=function(t){var n=JSON.stringify({logonName:t});return this.clone(e,\\\"ensureuser\\\").postCore({body:n}).then(function(t){return{data:t,user:new g.SiteUser(m.spExtractODataId(t))}})},e.prototype.availableWebTemplates=function(t,e){return void 0===t&&(t=1033),void 0===e&&(e=!0),new o.SharePointQueryableCollection(this,\\\"getavailablewebtemplates(lcid=\\\"+t+\\\", doincludecrosslanguage=\\\"+e+\\\")\\\")},e.prototype.getCatalog=function(t){return this.clone(e,\\\"getcatalog(\\\"+t+\\\")\\\").select(\\\"Id\\\").get().then(function(t){return new y.List(m.spExtractODataId(t))})},e.prototype.getChanges=function(t){var n=JSON.stringify({query:d.Util.extend({__metadata:{type:\\\"SP.ChangeQuery\\\"}},t)});return this.clone(e,\\\"getchanges\\\").postCore({body:n})},Object.defineProperty(e.prototype,\\\"customListTemplate\\\",{get:function(){return new o.SharePointQueryableCollection(this,\\\"getcustomlisttemplates\\\")},enumerable:!0,configurable:!0}),e.prototype.getUserById=function(t){return new g.SiteUser(this,\\\"getUserById(\\\"+t+\\\")\\\")},e.prototype.mapToIcon=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=\\\"\\\"),this.clone(e,\\\"maptoicon(filename='\\\"+t+\\\"', progid='\\\"+r+\\\"', size=\\\"+n+\\\")\\\").get()},e.prototype.getStorageEntity=function(t){return this.clone(e,\\\"getStorageEntity('\\\"+t+\\\"')\\\").get()},e.prototype.getAppCatalog=function(t){return new S.AppCatalog(t||this)},e.prototype.getClientSideWebParts=function(){return this.clone(o.SharePointQueryableCollection,\\\"GetClientSideWebParts\\\").get()},e.prototype.addClientSidePage=function(t,e,n){return void 0===e&&(e=t.replace(/\\\\.[^\\\\/.]+$/,\\\"\\\")),void 0===n&&(n=\\\"Site Pages\\\"),O.ClientSidePage.create(this.lists.getByTitle(n),t,e)},e.prototype.addClientSidePageByPath=function(t,e,n){return void 0===n&&(n=t.replace(/\\\\.[^\\\\/.]+$/,\\\"\\\")),O.ClientSidePage.create(this.getList(e),t,n)},e}(P.SharePointQueryableShareableWeb);e.Web=I},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(79),a=n(81),s=n(49),u=n(113),c=n(1),l=n(77),p=n(384),f=n(78),h=n(158),d=function(t){function e(e,n){return void 0===n&&(n=\\\"items\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){var e=new y(this);return e.concat(\\\"(\\\"+t+\\\")\\\"),e},e.prototype.getItemByStringId=function(t){var e=new y(this);return e.concat(\\\"/../getItemByStringId('\\\"+t+\\\"')\\\"),e},e.prototype.skip=function(t,e){return void 0===e&&(e=!1),e?this._query.add(\\\"$skiptoken\\\",encodeURIComponent(\\\"Paged=TRUE&PagedPrev=TRUE&p_ID=\\\"+t)):this._query.add(\\\"$skiptoken\\\",encodeURIComponent(\\\"Paged=TRUE&p_ID=\\\"+t)),this},e.prototype.getPaged=function(){return this.getAs(new b)},e.prototype.getAll=function(t){var n=this;void 0===t&&(t=2e3),h.Logger.write(\\\"Calling items.getAll should be done sparingly. Ensure this is the correct choice. If you are unsure, it is not.\\\",h.LogLevel.Warning);var r=new e(this,\\\"\\\").top(t).configure({headers:{Accept:\\\"application/json;odata=nometadata\\\"}});return this.query.getKeys().filter(function(t){return/^\\\\$select$|^\\\\$filter$|^\\\\$top$|^\\\\$expand$/.test(t.toLowerCase())}).reduce(function(t,e){return t.query.add(e,n.query.get(e)),t},r),new Promise(function(t,e){var n=[],o=function(r){[].push.apply(n,r.results),r.hasNext?r.getNext().then(o).catch(e):t(n)};r.getPaged().then(o).catch(e)})},e.prototype.add=function(t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=null);var o=this.addBatchDependency();return this.ensureListItemEntityTypeName(n).then(function(n){var i=JSON.stringify(c.Util.extend({__metadata:{type:n}},t)),a=r.clone(e,null).postAsCore({body:i}).then(function(t){return{data:t,item:r.getById(t.Id)}});return o(),a})},e.prototype.ensureListItemEntityTypeName=function(t){return t?Promise.resolve(t):this.getParent(f.List).getListItemEntityTypeFullName()},e}(o.SharePointQueryableCollection);e.Items=d;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"attachmentFiles\\\",{get:function(){return new p.AttachmentFiles(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"contentType\\\",{get:function(){return new u.ContentType(this,\\\"ContentType\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"effectiveBasePermissions\\\",{get:function(){return new o.SharePointQueryable(this,\\\"EffectiveBasePermissions\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"effectiveBasePermissionsForUI\\\",{get:function(){return new o.SharePointQueryable(this,\\\"EffectiveBasePermissionsForUI\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"fieldValuesAsHTML\\\",{get:function(){return new o.SharePointQueryableInstance(this,\\\"FieldValuesAsHTML\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"fieldValuesAsText\\\",{get:function(){return new o.SharePointQueryableInstance(this,\\\"FieldValuesAsText\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"fieldValuesForEdit\\\",{get:function(){return new o.SharePointQueryableInstance(this,\\\"FieldValuesForEdit\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"folder\\\",{get:function(){return new a.Folder(this,\\\"folder\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"file\\\",{get:function(){return new s.File(this,\\\"file\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"versions\\\",{get:function(){return new v(this)},enumerable:!0,configurable:!0}),e.prototype.update=function(t,e,n){var r=this;return void 0===e&&(e=\\\"*\\\"),void 0===n&&(n=null),new Promise(function(o,i){var a=r.addBatchDependency();return r.ensureListItemEntityTypeName(n).then(function(n){var i=JSON.stringify(c.Util.extend({__metadata:{type:n}},t));return a(),r.postCore({body:i,headers:{\\\"IF-Match\\\":e,\\\"X-HTTP-Method\\\":\\\"MERGE\\\"}},new _).then(function(t){o({data:t,item:r})})}).catch(function(t){return i(t)})})},e.prototype.delete=function(t){return void 0===t&&(t=\\\"*\\\"),this.postCore({headers:{\\\"IF-Match\\\":t,\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e.prototype.recycle=function(){return this.clone(e,\\\"recycle\\\").postCore()},e.prototype.getWopiFrameUrl=function(t){void 0===t&&(t=0);var n=this.clone(e,\\\"getWOPIFrameUrl(@action)\\\");return n._query.add(\\\"@action\\\",t),n.postCore().then(function(t){return t.hasOwnProperty(\\\"GetWOPIFrameUrl\\\")?t.GetWOPIFrameUrl:t})},e.prototype.validateUpdateListItem=function(t,n){return void 0===n&&(n=!1),this.clone(e,\\\"validateupdatelistitem\\\").postCore({body:JSON.stringify({formValues:t,bNewDocumentUpdate:n})})},e.prototype.ensureListItemEntityTypeName=function(t){return t?Promise.resolve(t):this.getParent(f.List,this.parentUrl.substr(0,this.parentUrl.lastIndexOf(\\\"/\\\"))).getListItemEntityTypeFullName()},e}(i.SharePointQueryableShareableItem);e.Item=y;var g=function(){function t(t,e){this.nextUrl=t,this.results=e}return Object.defineProperty(t.prototype,\\\"hasNext\\\",{get:function(){return\\\"string\\\"==typeof this.nextUrl&&this.nextUrl.length>0},enumerable:!0,configurable:!0}),t.prototype.getNext=function(){return this.hasNext?new d(this.nextUrl,null).getPaged():new Promise(function(t){return t(null)})},t}();e.PagedItemCollection=g;var v=function(t){function e(e,n){return void 0===n&&(n=\\\"versions\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){var e=new m(this);return e.concat(\\\"(\\\"+t+\\\")\\\"),e},e}(o.SharePointQueryableCollection);e.ItemVersions=v;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.delete=function(){return this.postCore({headers:{\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e}(o.SharePointQueryableInstance);e.ItemVersion=m;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.parse=function(t){var e=this;return new Promise(function(n,r){e.handleError(t,r)&&t.json().then(function(t){var r=t.hasOwnProperty(\\\"d\\\")&&t.d.hasOwnProperty(\\\"__next\\\")?t.d.__next:t[\\\"odata.nextLink\\\"];n(new g(r,e.parseODataJSON(t)))})})},e}(l.ODataParserBase),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.parse=function(t){var e=this;return new Promise(function(n,r){e.handleError(t,r)&&n({\\\"odata.etag\\\":t.headers.get(\\\"etag\\\")})})},e}(l.ODataParserBase)},function(t,e){var n;n=function(){return this}();try{n=n||Function(\\\"return this\\\")()||(0,eval)(\\\"this\\\")}catch(t){\\\"object\\\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(24),o=n(3),i=\\\"__core-js_shared__\\\",a=o[i]||(o[i]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})(\\\"versions\\\",[]).push({version:r.version,mode:n(37)?\\\"pure\\\":\\\"global\\\",copyright:\\\" 2018 Denis Pushkarev (zloirock.ru)\\\"})},function(t,e,n){var r=n(17),o=n(10),i=n(41);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(22);t.exports=Array.isArray||function(t){return\\\"Array\\\"==r(t)}},function(t,e,n){var r=n(5),o=n(22),i=n(7)(\\\"match\\\");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:\\\"RegExp\\\"==o(t))}},function(t,e,n){var r=n(7)(\\\"iterator\\\"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){\\\"use strict\\\";var r=n(2);t.exports=function(){var t=r(this),e=\\\"\\\";return t.global&&(e+=\\\"g\\\"),t.ignoreCase&&(e+=\\\"i\\\"),t.multiline&&(e+=\\\"m\\\"),t.unicode&&(e+=\\\"u\\\"),t.sticky&&(e+=\\\"y\\\"),e}},function(t,e,n){\\\"use strict\\\";var r=n(15),o=n(16),i=n(4),a=n(26),s=n(7);t.exports=function(t,e,n){var u=s(t),c=n(a,u,\\\"\\\"[t]),l=c[0],p=c[1];i(function(){var e={};return e[u]=function(){return 7},7!=\\\"\\\"[t](e)})&&(o(String.prototype,t,l),r(RegExp.prototype,u,2==e?function(t,e){return p.call(t,this,e)}:function(t){return p.call(t,this)}))}},function(t,e,n){\\\"use strict\\\";var r=n(3),o=n(0),i=n(16),a=n(47),s=n(36),u=n(46),c=n(45),l=n(5),p=n(4),f=n(68),h=n(50),d=n(89);t.exports=function(t,e,n,y,g,v){var m=r[t],b=m,_=g?\\\"set\\\":\\\"add\\\",P=b&&b.prototype,w={},S=function(t){var e=P[t];i(P,t,\\\"delete\\\"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:\\\"has\\\"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:\\\"get\\\"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:\\\"add\\\"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(\\\"function\\\"==typeof b&&(v||P.forEach&&!p(function(){(new b).entries().next()}))){var O=new b,x=O[_](v?{}:-0,1)!=O,C=p(function(){O.has(1)}),I=f(function(t){new b(t)}),T=!v&&p(function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)});I||(b=e(function(e,n){c(e,b,t);var r=d(new m,e,b);return void 0!=n&&u(n,g,r[_],r),r}),b.prototype=P,P.constructor=b),(C||T)&&(S(\\\"delete\\\"),S(\\\"has\\\"),g&&S(\\\"get\\\")),(T||x)&&S(_),v&&P.clear&&delete P.clear}else b=y.getConstructor(e,t,g,_),a(b.prototype,n),s.NEED=!0;return h(b,t),w[t]=b,o(o.G+o.W+o.F*(b!=m),w),v||y.setStrong(b,t,g),b}},function(t,e,n){for(var r,o=n(3),i=n(15),a=n(40),s=a(\\\"typed_array\\\"),u=a(\\\"view\\\"),c=!(!o.ArrayBuffer||!o.DataView),l=c,p=0,f=\\\"Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array\\\".split(\\\",\\\");p<9;)(r=o[f[p++]])?(i(r.prototype,s,!0),i(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){\\\"use strict\\\";t.exports=n(37)||!n(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(3)[t]})},function(t,e,n){\\\"use strict\\\";var r=n(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(12),i=n(21),a=n(46);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return o(this),e=void 0!==u,e&&o(u),void 0==t?new this:(n=[],e?(r=0,s=i(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(1),o=n(54),i=n(33),a=n(34),s=function(){function t(t,e){this.store=t,this.defaultTimeoutMinutes=e,this.defaultTimeoutMinutes=void 0===e?-1:e,this.enabled=this.test(),i.RuntimeConfig.enableCacheExpiration&&(a.Logger.write(\\\"Enabling cache expiration.\\\",a.LogLevel.Info),this.cacheExpirationHandler())}return t.prototype.get=function(t){if(!this.enabled)return null;var e=this.store.getItem(t);if(null==e)return null;var n=JSON.parse(e);return new Date(n.expiration)<=new Date?(a.Logger.write(\\\"Removing item with key '\\\"+t+\\\"' from cache due to expiration.\\\",a.LogLevel.Info),this.delete(t),null):n.value},t.prototype.put=function(t,e,n){this.enabled&&this.store.setItem(t,this.createPersistable(e,n))},t.prototype.delete=function(t){this.enabled&&this.store.removeItem(t)},t.prototype.getOrPut=function(t,e,n){var r=this;return this.enabled?new Promise(function(o){var i=r.get(t);null==i?e().then(function(e){r.put(t,e,n),o(e)}):o(i)}):e()},t.prototype.deleteExpired=function(){var t=this;return new Promise(function(e,n){t.enabled||e();try{for(var r=0;r<t.store.length;r++){var o=t.store.key(r);/[\\\"|']?pnp[\\\"|']? ?: ?1/i.test(t.store.getItem(o))&&t.get(o)}e()}catch(t){n(t)}})},t.prototype.test=function(){var t=\\\"test\\\";try{return this.store.setItem(t,t),this.store.removeItem(t),!0}catch(t){return!1}},t.prototype.createPersistable=function(t,e){if(void 0===e){var n=i.RuntimeConfig.defaultCachingTimeoutSeconds;this.defaultTimeoutMinutes>0&&(n=60*this.defaultTimeoutMinutes),e=r.Util.dateAdd(new Date,\\\"second\\\",n)}return JSON.stringify({pnp:1,expiration:e,value:t})},t.prototype.cacheExpirationHandler=function(){var t=this;a.Logger.write(\\\"Called cache expiration handler.\\\",a.LogLevel.Verbose),this.deleteExpired().then(function(e){setTimeout(r.Util.getCtxCallback(t,t.cacheExpirationHandler),i.RuntimeConfig.cacheExpirationIntervalMilliseconds)}).catch(function(t){a.Logger.log({data:t,level:a.LogLevel.Error,message:\\\"Error deleting expired cache entries, see data for details. Timeout not reset.\\\"})})},t}();e.PnPClientStorageWrapper=s;var u=function(){function t(t){void 0===t&&(t=new o.Dictionary),this._store=t}return Object.defineProperty(t.prototype,\\\"length\\\",{get:function(){return this._store.count()},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._store.clear()},t.prototype.getItem=function(t){return this._store.get(t)},t.prototype.key=function(t){return this._store.getKeys()[t]},t.prototype.removeItem=function(t){this._store.remove(t)},t.prototype.setItem=function(t,e){this._store.add(t,e)},t}(),c=function(){function t(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this._local=t,this._session=e}return Object.defineProperty(t.prototype,\\\"local\\\",{get:function(){return null===this._local&&(this._local=new s(\\\"undefined\\\"!=typeof localStorage?localStorage:new u)),this._local},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"session\\\",{get:function(){return null===this._session&&(this._session=new s(\\\"undefined\\\"!=typeof sessionStorage?sessionStorage:new u)),this._session},enumerable:!0,configurable:!0}),t}();e.PnPClientStorage=c},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(20),o=n(34),i=function(){function t(){}return t.prototype.parse=function(t){var e=this;return new Promise(function(n,r){e.handleError(t,r)&&e.parseImpl(t,n,r)})},t.prototype.parseImpl=function(t,e,n){var r=this;t.headers.has(\\\"Content-Length\\\")&&0===parseFloat(t.headers.get(\\\"Content-Length\\\"))||204===t.status?e({}):t.text().then(function(t){return t.replace(/\\\\s/gi,\\\"\\\").length>0?JSON.parse(t):{}}).then(function(t){return e(r.parseODataJSON(t))}).catch(function(t){return n(t)})},t.prototype.handleError=function(t,e){return t.ok||t.json().then(function(n){var o={responseBody:n,responseHeaders:t.headers};e(new r.ProcessHttpClientResponseException(t.status,t.statusText,o))}).catch(function(n){o.Logger.log({data:n,level:o.LogLevel.Warning,message:\\\"There was an error parsing the error response body. See data for details.\\\"});var i={responseBody:\\\"[[body not available]]\\\",responseHeaders:t.headers};e(new r.ProcessHttpClientResponseException(t.status,t.statusText,i))}),t.ok},t.prototype.parseODataJSON=function(t){var e=t;return t.hasOwnProperty(\\\"d\\\")?e=t.d.hasOwnProperty(\\\"results\\\")?t.d.results:t.d:t.hasOwnProperty(\\\"value\\\")&&(e=t.value),e},t}();e.ODataParserBase=i},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(61),i=n(385),a=n(113),s=n(114),u=n(386),c=n(387),l=n(6),p=n(164),f=n(1),h=n(115),d=n(30),y=n(20),g=n(81),v=function(t){function e(e,n){return void 0===n&&(n=\\\"lists\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getByTitle=function(t){return new m(this,\\\"getByTitle('\\\"+t+\\\"')\\\")},e.prototype.getById=function(t){var e=new m(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e.prototype.add=function(t,e,n,r,o){var i=this;void 0===e&&(e=\\\"\\\"),void 0===n&&(n=100),void 0===r&&(r=!1),void 0===o&&(o={});var a=f.Util.extend({AllowContentTypes:r,BaseTemplate:n,ContentTypesEnabled:r,Description:e,Title:t,__metadata:{type:\\\"SP.List\\\"}},o);return this.postCore({body:JSON.stringify(a)}).then(function(t){return{data:t,list:i.getByTitle(a.Title)}})},e.prototype.ensure=function(t,e,n,r,o){var i=this;if(void 0===e&&(e=\\\"\\\"),void 0===n&&(n=100),void 0===r&&(r=!1),void 0===o&&(o={}),this.hasBatch)throw new y.NotSupportedInBatchException(\\\"The ensure list method\\\");return new Promise(function(a,s){var u=f.Util.extend(o,{Title:t,Description:e,ContentTypesEnabled:r},!0),c=i.getByTitle(u.Title);c.get().then(function(t){c.update(u).then(function(t){a({created:!1,data:t,list:i.getByTitle(u.Title)})}).catch(function(t){return s(t)})}).catch(function(o){i.add(t,e,n,r,u).then(function(t){a({created:!0,data:t.data,list:i.getByTitle(u.Title)})}).catch(function(t){return s(t)})})})},e.prototype.ensureSiteAssetsLibrary=function(){return this.clone(e,\\\"ensuresiteassetslibrary\\\").postCore().then(function(t){return new m(d.spExtractODataId(t))})},e.prototype.ensureSitePagesLibrary=function(){return this.clone(e,\\\"ensuresitepageslibrary\\\").postCore().then(function(t){return new m(d.spExtractODataId(t))})},e}(l.SharePointQueryableCollection);e.Lists=v;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"contentTypes\\\",{get:function(){return new a.ContentTypes(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"items\\\",{get:function(){return new o.Items(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"views\\\",{get:function(){return new i.Views(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"fields\\\",{get:function(){return new s.Fields(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"forms\\\",{get:function(){return new u.Forms(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"defaultView\\\",{get:function(){return new i.View(this,\\\"DefaultView\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"userCustomActions\\\",{get:function(){return new h.UserCustomActions(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"effectiveBasePermissions\\\",{get:function(){return new l.SharePointQueryable(this,\\\"EffectiveBasePermissions\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"eventReceivers\\\",{get:function(){return new l.SharePointQueryableCollection(this,\\\"EventReceivers\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"relatedFields\\\",{get:function(){return new l.SharePointQueryable(this,\\\"getRelatedFields\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"informationRightsManagementSettings\\\",{get:function(){return new l.SharePointQueryable(this,\\\"InformationRightsManagementSettings\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"subscriptions\\\",{get:function(){return new c.Subscriptions(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"rootFolder\\\",{get:function(){return new g.Folder(this,\\\"rootFolder\\\")},enumerable:!0,configurable:!0}),e.prototype.getView=function(t){return new i.View(this,\\\"getView('\\\"+t+\\\"')\\\")},e.prototype.update=function(t,n){var r=this;void 0===n&&(n=\\\"*\\\");var o=JSON.stringify(f.Util.extend({__metadata:{type:\\\"SP.List\\\"}},t));return this.postCore({body:o,headers:{\\\"IF-Match\\\":n,\\\"X-HTTP-Method\\\":\\\"MERGE\\\"}}).then(function(n){var o=r;return t.hasOwnProperty(\\\"Title\\\")&&(o=r.getParent(e,r.parentUrl,\\\"getByTitle('\\\"+t.Title+\\\"')\\\")),{data:n,list:o}})},e.prototype.delete=function(t){return void 0===t&&(t=\\\"*\\\"),this.postCore({headers:{\\\"IF-Match\\\":t,\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e.prototype.getChanges=function(t){return this.clone(e,\\\"getchanges\\\").postCore({body:JSON.stringify({query:f.Util.extend({__metadata:{type:\\\"SP.ChangeQuery\\\"}},t)})})},e.prototype.getItemsByCAMLQuery=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.clone(e,\\\"getitems\\\");return o.expand.apply(o,n).postCore({body:JSON.stringify({query:f.Util.extend({__metadata:{type:\\\"SP.CamlQuery\\\"}},t)})})},e.prototype.getListItemChangesSinceToken=function(t){return this.clone(e,\\\"getlistitemchangessincetoken\\\").postCore({body:JSON.stringify({query:f.Util.extend({__metadata:{type:\\\"SP.ChangeLogItemQuery\\\"}},t)})},{parse:function(t){return t.text()}})},e.prototype.recycle=function(){return this.clone(e,\\\"recycle\\\").postCore().then(function(t){return t.hasOwnProperty(\\\"Recycle\\\")?t.Recycle:t})},e.prototype.renderListData=function(t){var n=this.clone(e,\\\"renderlistdata(@viewXml)\\\");return n.query.add(\\\"@viewXml\\\",\\\"'\\\"+t+\\\"'\\\"),n.postCore().then(function(t){return t.hasOwnProperty(\\\"RenderListData\\\")?JSON.parse(t.RenderListData):JSON.parse(t)})},e.prototype.renderListDataAsStream=function(t,n){void 0===n&&(n=null);var r={overrideParameters:f.Util.extend({__metadata:{type:\\\"SP.RenderListDataOverrideParameters\\\"}},n),parameters:f.Util.extend({__metadata:{type:\\\"SP.RenderListDataParameters\\\"}},t)};return this.clone(e,\\\"RenderListDataAsStream\\\",!0).postCore({body:JSON.stringify(r)})},e.prototype.renderListFormData=function(t,n,r){return this.clone(e,\\\"renderlistformdata(itemid=\\\"+t+\\\", formid='\\\"+n+\\\"', mode='\\\"+r+\\\"')\\\").postCore().then(function(t){return t=JSON.parse(t),t.hasOwnProperty(\\\"ListData\\\")?t.ListData:t})},e.prototype.reserveListItemId=function(){return this.clone(e,\\\"reservelistitemid\\\").postCore().then(function(t){return t.hasOwnProperty(\\\"ReserveListItemId\\\")?t.ReserveListItemId:t})},e.prototype.getListItemEntityTypeFullName=function(){return this.clone(e,null,!1).select(\\\"ListItemEntityTypeFullName\\\").getAs().then(function(t){return t.ListItemEntityTypeFullName})},e}(p.SharePointQueryableSecurable);e.List=m},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(1),i=n(60),a=n(30),s=n(6),u=n(164),c=n(80),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getShareLink=function(t,n){void 0===n&&(n=null);var r=null!==n?n.toISOString():null;return this.clone(e,\\\"shareLink\\\").postAsCore({body:JSON.stringify({request:{createLink:!0,emailData:null,settings:{expiration:r,linkKind:t}}})})},e.prototype.shareWith=function(t,n,r,a,s){var u=this;void 0===r&&(r=!1),void 0===a&&(a=!1),Array.isArray(t)||(t=[t]);var l=JSON.stringify(t.map(function(t){return{Key:t}})),p=n===c.SharingRole.Edit?c.RoleType.Contributor:c.RoleType.Reader;return i.Web.fromUrl(this.toUrl()).roleDefinitions.select(\\\"Id\\\").filter(\\\"RoleTypeKind eq \\\"+p).get().then(function(t){if(!Array.isArray(t)||t.length<1)throw new Error(\\\"Could not locate a role defintion with RoleTypeKind \\\"+p);var n={includeAnonymousLinkInEmail:r,peoplePickerInput:l,propagateAcl:a,roleValue:\\\"role:\\\"+t[0].Id,useSimplifiedRoles:!0};return void 0!==s&&(n=o.Util.extend(n,{emailBody:s.body,emailSubject:void 0!==s.subject?s.subject:\\\"\\\",sendEmail:!0})),u.clone(e,\\\"shareObject\\\").postAsCore({body:JSON.stringify(n)})})},e.prototype.shareObject=function(t,e){var n=this;return void 0===e&&(e=!1),e?this.sendShareObjectRequest(t):(t=o.Util.extend(t,{group:null,includeAnonymousLinkInEmail:!1,propagateAcl:!1,useSimplifiedRoles:!0},!0),this.getRoleValue(t.role,t.group).then(function(e){Array.isArray(t.loginNames)||(t.loginNames=[t.loginNames]);var r=JSON.stringify(t.loginNames.map(function(t){return{Key:t}})),i={peoplePickerInput:r,roleValue:e,url:t.url};return void 0!==t.emailData&&null!==t.emailData&&(i=o.Util.extend(i,{emailBody:t.emailData.body,emailSubject:void 0!==t.emailData.subject?t.emailData.subject:\\\"Shared with you.\\\",sendEmail:!0})),n.sendShareObjectRequest(i)}))},e.prototype.unshareObjectWeb=function(t){return this.clone(e,\\\"unshareObject\\\").postAsCore({body:JSON.stringify({url:t})})},e.prototype.checkPermissions=function(t){return this.clone(e,\\\"checkPermissions\\\").postAsCore({body:JSON.stringify({recipients:t})})},e.prototype.getSharingInformation=function(t){return void 0===t&&(t=null),this.clone(e,\\\"getSharingInformation\\\").postAsCore({body:JSON.stringify({request:t})})},e.prototype.getObjectSharingSettings=function(t){return void 0===t&&(t=!0),this.clone(e,\\\"getObjectSharingSettings\\\").postAsCore({body:JSON.stringify({useSimplifiedRoles:t})})},e.prototype.unshareObject=function(){return this.clone(e,\\\"unshareObject\\\").postAsCore()},e.prototype.deleteLinkByKind=function(t){return this.clone(e,\\\"deleteLinkByKind\\\").postCore({body:JSON.stringify({linkKind:t})})},e.prototype.unshareLink=function(t,n){return void 0===n&&(n=\\\"00000000-0000-0000-0000-000000000000\\\"),this.clone(e,\\\"unshareLink\\\").postCore({body:JSON.stringify({linkKind:t,shareId:n})})},e.prototype.getRoleValue=function(t,e){if(void 0===e||null===e){var n=t===c.SharingRole.Edit?c.RoleType.Contributor:c.RoleType.Reader;return i.Web.fromUrl(this.toUrl()).roleDefinitions.select(\\\"Id\\\").top(1).filter(\\\"RoleTypeKind eq \\\"+n).getAs().then(function(t){if(t.length<1)throw new Error(\\\"Could not locate associated role definition for supplied role. Edit and View are supported\\\");return\\\"role: \\\"+t[0].Id})}switch(e){case c.RoleType.Contributor:return i.Web.fromUrl(this.toUrl()).associatedMemberGroup.select(\\\"Id\\\").getAs().then(function(t){return\\\"group: \\\"+t.Id});case c.RoleType.Reader:case c.RoleType.Guest:return i.Web.fromUrl(this.toUrl()).associatedVisitorGroup.select(\\\"Id\\\").getAs().then(function(t){return\\\"group: \\\"+t.Id});default:throw new Error(\\\"Could not determine role value for supplied value. Contributor, Reader, and Guest are supported\\\")}},e.prototype.getShareObjectWeb=function(t){return Promise.resolve(i.Web.fromUrl(t,\\\"/_api/SP.Web.ShareObject\\\"))},e.prototype.sendShareObjectRequest=function(t){return this.getShareObjectWeb(this.toUrl()).then(function(n){return n.expand(\\\"UsersWithAccessRequests\\\",\\\"GroupsSharedWith\\\").as(e).postCore({body:JSON.stringify(t)})})},e}(s.SharePointQueryable);e.SharePointQueryableShareable=l;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.shareWith=function(t,e,n){var r=this;void 0===e&&(e=c.SharingRole.View);var a=this.addBatchDependency();return i.Web.fromUrl(this.toUrl(),\\\"/_api/web/url\\\").get().then(function(i){return a(),r.shareObject(o.Util.combinePaths(i,\\\"/_layouts/15/aclinv.aspx?forSharing=1&mbypass=1\\\"),t,e,n)})},e.prototype.shareObject=function(t,e,n,r,o,i,a,s){return void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===s&&(s=!0),this.clone(l,null).shareObject({emailData:r,group:o,includeAnonymousLinkInEmail:a,loginNames:e,propagateAcl:i,role:n,url:t,useSimplifiedRoles:s})},e.prototype.shareObjectRaw=function(t){return this.clone(l,null).shareObject(t,!0)},e.prototype.unshareObject=function(t){return this.clone(l,null).unshareObjectWeb(t)},e}(u.SharePointQueryableSecurable);e.SharePointQueryableShareableWeb=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getShareLink=function(t,e){return void 0===t&&(t=c.SharingLinkKind.OrganizationView),void 0===e&&(e=null),this.clone(l,null).getShareLink(t,e)},e.prototype.shareWith=function(t,e,n,r){return void 0===e&&(e=c.SharingRole.View),void 0===n&&(n=!1),this.clone(l,null).shareWith(t,e,n,!1,r)},e.prototype.checkSharingPermissions=function(t){return this.clone(l,null).checkPermissions(t)},e.prototype.getSharingInformation=function(t){return void 0===t&&(t=null),this.clone(l,null).getSharingInformation(t)},e.prototype.getObjectSharingSettings=function(t){return void 0===t&&(t=!0),this.clone(l,null).getObjectSharingSettings(t)},e.prototype.unshare=function(){return this.clone(l,null).unshareObject()},e.prototype.deleteSharingLinkByKind=function(t){return this.clone(l,null).deleteLinkByKind(t)},e.prototype.unshareLink=function(t,e){return this.clone(l,null).unshareLink(t,e)},e}(u.SharePointQueryableSecurable);e.SharePointQueryableShareableItem=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getShareLink=function(t,e){void 0===t&&(t=c.SharingLinkKind.OrganizationView),void 0===e&&(e=null);var n=this.addBatchDependency();return this.getShareable().then(function(r){return n(),r.getShareLink(t,e)})},e.prototype.checkSharingPermissions=function(t){var e=this.addBatchDependency();return this.getShareable().then(function(n){return e(),n.checkPermissions(t)})},e.prototype.getSharingInformation=function(t){void 0===t&&(t=null);var e=this.addBatchDependency();return this.getShareable().then(function(n){return e(),n.getSharingInformation(t)})},e.prototype.getObjectSharingSettings=function(t){void 0===t&&(t=!0);var e=this.addBatchDependency();return this.getShareable().then(function(n){return e(),n.getObjectSharingSettings(t)})},e.prototype.unshare=function(){var t=this.addBatchDependency();return this.getShareable().then(function(e){return t(),e.unshareObject()})},e.prototype.deleteSharingLinkByKind=function(t){var e=this.addBatchDependency();return this.getShareable().then(function(n){return e(),n.deleteLinkByKind(t)})},e.prototype.unshareLink=function(t,e){var n=this.addBatchDependency();return this.getShareable().then(function(r){return n(),r.unshareLink(t,e)})},e.prototype.getShareable=function(){var t=this;return this.clone(d,\\\"listItemAllFields\\\",!1).select(\\\"odata.editlink\\\").get().then(function(e){var n=new l(a.spGetEntityUrl(e));return t.hasBatch&&(n=n.inBatch(t.batch)),n})},e}(s.SharePointQueryableInstance);e.FileFolderShared=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.shareWith=function(t,e,n,r){void 0===e&&(e=c.SharingRole.View),void 0===n&&(n=!1);var o=this.addBatchDependency();return this.getShareable().then(function(i){return o(),i.shareWith(t,e,n,!1,r)})},e}(h);e.SharePointQueryableShareableFile=d;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.shareWith=function(t,e,n,r,o){void 0===e&&(e=c.SharingRole.View),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=this.addBatchDependency();return this.getShareable().then(function(a){return i(),a.shareWith(t,e,n,r,o)})},e}(h);e.SharePointQueryableShareableFolder=y},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0}),function(t){t[t.Display=1]=\\\"Display\\\",t[t.Edit=2]=\\\"Edit\\\",t[t.New=3]=\\\"New\\\"}(e.ControlMode||(e.ControlMode={})),function(t){t[t.Invalid=0]=\\\"Invalid\\\",t[t.Integer=1]=\\\"Integer\\\",t[t.Text=2]=\\\"Text\\\",t[t.Note=3]=\\\"Note\\\",t[t.DateTime=4]=\\\"DateTime\\\",t[t.Counter=5]=\\\"Counter\\\",t[t.Choice=6]=\\\"Choice\\\",t[t.Lookup=7]=\\\"Lookup\\\",t[t.Boolean=8]=\\\"Boolean\\\",t[t.Number=9]=\\\"Number\\\",t[t.Currency=10]=\\\"Currency\\\",t[t.URL=11]=\\\"URL\\\",t[t.Computed=12]=\\\"Computed\\\",t[t.Threading=13]=\\\"Threading\\\",t[t.Guid=14]=\\\"Guid\\\",t[t.MultiChoice=15]=\\\"MultiChoice\\\",t[t.GridChoice=16]=\\\"GridChoice\\\",t[t.Calculated=17]=\\\"Calculated\\\",t[t.File=18]=\\\"File\\\",t[t.Attachments=19]=\\\"Attachments\\\",t[t.User=20]=\\\"User\\\",t[t.Recurrence=21]=\\\"Recurrence\\\",t[t.CrossProjectLink=22]=\\\"CrossProjectLink\\\",t[t.ModStat=23]=\\\"ModStat\\\",t[t.Error=24]=\\\"Error\\\",t[t.ContentTypeId=25]=\\\"ContentTypeId\\\",t[t.PageSeparator=26]=\\\"PageSeparator\\\",t[t.ThreadIndex=27]=\\\"ThreadIndex\\\",t[t.WorkflowStatus=28]=\\\"WorkflowStatus\\\",t[t.AllDayEvent=29]=\\\"AllDayEvent\\\",t[t.WorkflowEventType=30]=\\\"WorkflowEventType\\\"}(e.FieldTypes||(e.FieldTypes={})),function(t){t[t.DateOnly=0]=\\\"DateOnly\\\",t[t.DateTime=1]=\\\"DateTime\\\"}(e.DateTimeFieldFormatType||(e.DateTimeFieldFormatType={})),function(t){t[t.DefaultValue=0]=\\\"DefaultValue\\\",t[t.AddToDefaultContentType=1]=\\\"AddToDefaultContentType\\\",t[t.AddToNoContentType=2]=\\\"AddToNoContentType\\\",t[t.AddToAllContentTypes=4]=\\\"AddToAllContentTypes\\\",t[t.AddFieldInternalNameHint=8]=\\\"AddFieldInternalNameHint\\\",t[t.AddFieldToDefaultView=16]=\\\"AddFieldToDefaultView\\\",t[t.AddFieldCheckDisplayName=32]=\\\"AddFieldCheckDisplayName\\\"}(e.AddFieldOptions||(e.AddFieldOptions={})),function(t){t[t.Gregorian=1]=\\\"Gregorian\\\",t[t.Japan=3]=\\\"Japan\\\",t[t.Taiwan=4]=\\\"Taiwan\\\",t[t.Korea=5]=\\\"Korea\\\",t[t.Hijri=6]=\\\"Hijri\\\",t[t.Thai=7]=\\\"Thai\\\",t[t.Hebrew=8]=\\\"Hebrew\\\",t[t.GregorianMEFrench=9]=\\\"GregorianMEFrench\\\",t[t.GregorianArabic=10]=\\\"GregorianArabic\\\",t[t.GregorianXLITEnglish=11]=\\\"GregorianXLITEnglish\\\",t[t.GregorianXLITFrench=12]=\\\"GregorianXLITFrench\\\",t[t.KoreaJapanLunar=14]=\\\"KoreaJapanLunar\\\",t[t.ChineseLunar=15]=\\\"ChineseLunar\\\",t[t.SakaEra=16]=\\\"SakaEra\\\",t[t.UmAlQura=23]=\\\"UmAlQura\\\"}(e.CalendarType||(e.CalendarType={})),function(t){t[t.Hyperlink=0]=\\\"Hyperlink\\\",t[t.Image=1]=\\\"Image\\\"}(e.UrlFieldFormatType||(e.UrlFieldFormatType={})),function(t){t[t.Dropdown=0]=\\\"Dropdown\\\",t[t.RadioButtons=1]=\\\"RadioButtons\\\"}(e.ChoiceFieldFormatType||(e.ChoiceFieldFormatType={})),function(t){t[t.EmptyMask=0]=\\\"EmptyMask\\\",t[t.ViewListItems=1]=\\\"ViewListItems\\\",t[t.AddListItems=2]=\\\"AddListItems\\\",t[t.EditListItems=3]=\\\"EditListItems\\\",t[t.DeleteListItems=4]=\\\"DeleteListItems\\\",t[t.ApproveItems=5]=\\\"ApproveItems\\\",t[t.OpenItems=6]=\\\"OpenItems\\\",t[t.ViewVersions=7]=\\\"ViewVersions\\\",t[t.DeleteVersions=8]=\\\"DeleteVersions\\\",t[t.CancelCheckout=9]=\\\"CancelCheckout\\\",t[t.ManagePersonalViews=10]=\\\"ManagePersonalViews\\\",t[t.ManageLists=12]=\\\"ManageLists\\\",t[t.ViewFormPages=13]=\\\"ViewFormPages\\\",t[t.AnonymousSearchAccessList=14]=\\\"AnonymousSearchAccessList\\\",t[t.Open=17]=\\\"Open\\\",t[t.ViewPages=18]=\\\"ViewPages\\\",t[t.AddAndCustomizePages=19]=\\\"AddAndCustomizePages\\\",t[t.ApplyThemeAndBorder=20]=\\\"ApplyThemeAndBorder\\\",t[t.ApplyStyleSheets=21]=\\\"ApplyStyleSheets\\\",t[t.ViewUsageData=22]=\\\"ViewUsageData\\\",t[t.CreateSSCSite=23]=\\\"CreateSSCSite\\\",t[t.ManageSubwebs=24]=\\\"ManageSubwebs\\\",t[t.CreateGroups=25]=\\\"CreateGroups\\\",t[t.ManagePermissions=26]=\\\"ManagePermissions\\\",t[t.BrowseDirectories=27]=\\\"BrowseDirectories\\\",t[t.BrowseUserInfo=28]=\\\"BrowseUserInfo\\\",t[t.AddDelPrivateWebParts=29]=\\\"AddDelPrivateWebParts\\\",t[t.UpdatePersonalWebParts=30]=\\\"UpdatePersonalWebParts\\\",t[t.ManageWeb=31]=\\\"ManageWeb\\\",t[t.AnonymousSearchAccessWebLists=32]=\\\"AnonymousSearchAccessWebLists\\\",t[t.UseClientIntegration=37]=\\\"UseClientIntegration\\\",t[t.UseRemoteAPIs=38]=\\\"UseRemoteAPIs\\\",t[t.ManageAlerts=39]=\\\"ManageAlerts\\\",t[t.CreateAlerts=40]=\\\"CreateAlerts\\\",t[t.EditMyUserInfo=41]=\\\"EditMyUserInfo\\\",t[t.EnumeratePermissions=63]=\\\"EnumeratePermissions\\\",t[t.FullMask=65]=\\\"FullMask\\\"}(e.PermissionKind||(e.PermissionKind={})),function(t){t[t.None=0]=\\\"None\\\",t[t.Guest=1]=\\\"Guest\\\",t[t.Reader=2]=\\\"Reader\\\",t[t.Contributor=3]=\\\"Contributor\\\",t[t.WebDesigner=4]=\\\"WebDesigner\\\",t[t.Administrator=5]=\\\"Administrator\\\"}(e.RoleType||(e.RoleType={})),function(t){t[t.Invalid=-1]=\\\"Invalid\\\",t[t.DefaultView=0]=\\\"DefaultView\\\",t[t.NormalView=1]=\\\"NormalView\\\",t[t.DialogView=2]=\\\"DialogView\\\",t[t.View=3]=\\\"View\\\",t[t.DisplayForm=4]=\\\"DisplayForm\\\",t[t.DisplayFormDialog=5]=\\\"DisplayFormDialog\\\",t[t.EditForm=6]=\\\"EditForm\\\",t[t.EditFormDialog=7]=\\\"EditFormDialog\\\",t[t.NewForm=8]=\\\"NewForm\\\",t[t.NewFormDialog=9]=\\\"NewFormDialog\\\",t[t.SolutionForm=10]=\\\"SolutionForm\\\",t[t.PAGE_MAXITEMS=11]=\\\"PAGE_MAXITEMS\\\"}(e.PageType||(e.PageType={})),function(t){t[t.Uninitialized=0]=\\\"Uninitialized\\\",t[t.Direct=1]=\\\"Direct\\\",t[t.OrganizationView=2]=\\\"OrganizationView\\\",t[t.OrganizationEdit=3]=\\\"OrganizationEdit\\\",t[t.AnonymousView=4]=\\\"AnonymousView\\\",t[t.AnonymousEdit=5]=\\\"AnonymousEdit\\\",t[t.Flexible=6]=\\\"Flexible\\\"}(e.SharingLinkKind||(e.SharingLinkKind={})),function(t){t[t.None=0]=\\\"None\\\",t[t.View=1]=\\\"View\\\",t[t.Edit=2]=\\\"Edit\\\",t[t.Owner=3]=\\\"Owner\\\"}(e.SharingRole||(e.SharingRole={})),function(t){t[t.CompletedSuccessfully=0]=\\\"CompletedSuccessfully\\\",t[t.AccessRequestsQueued=1]=\\\"AccessRequestsQueued\\\",t[t.NoResolvedUsers=-1]=\\\"NoResolvedUsers\\\",t[t.AccessDenied=-2]=\\\"AccessDenied\\\",t[t.CrossSiteRequestNotSupported=-3]=\\\"CrossSiteRequestNotSupported\\\",t[t.UnknowError=-4]=\\\"UnknowError\\\",t[t.EmailBodyTooLong=-5]=\\\"EmailBodyTooLong\\\",t[t.ListUniqueScopesExceeded=-6]=\\\"ListUniqueScopesExceeded\\\",t[t.CapabilityDisabled=-7]=\\\"CapabilityDisabled\\\",t[t.ObjectNotSupported=-8]=\\\"ObjectNotSupported\\\",t[t.NestedGroupsNotSupported=-9]=\\\"NestedGroupsNotSupported\\\"}(e.SharingOperationStatusCode||(e.SharingOperationStatusCode={})),function(t){t[t.Unknown=0]=\\\"Unknown\\\",t[t.File=1]=\\\"File\\\",t[t.Folder=2]=\\\"Folder\\\",t[t.Item=3]=\\\"Item\\\",t[t.List=4]=\\\"List\\\",t[t.Web=5]=\\\"Web\\\",t[t.Max=6]=\\\"Max\\\"}(e.SPSharedObjectType||(e.SPSharedObjectType={})),function(t){t[t.None=0]=\\\"None\\\",t[t.AllowList=1]=\\\"AllowList\\\",t[t.BlockList=2]=\\\"BlockList\\\"}(e.SharingDomainRestrictionMode||(e.SharingDomainRestrictionMode={})),function(t){t[t.None=0]=\\\"None\\\",t[t.ContextInfo=1]=\\\"ContextInfo\\\",t[t.ListData=2]=\\\"ListData\\\",t[t.ListSchema=4]=\\\"ListSchema\\\",t[t.MenuView=8]=\\\"MenuView\\\",t[t.ListContentType=16]=\\\"ListContentType\\\",t[t.FileSystemItemId=32]=\\\"FileSystemItemId\\\",t[t.ClientFormSchema=64]=\\\"ClientFormSchema\\\",t[t.QuickLaunch=128]=\\\"QuickLaunch\\\",t[t.Spotlight=256]=\\\"Spotlight\\\",t[t.Visualization=512]=\\\"Visualization\\\",t[t.ViewMetadata=1024]=\\\"ViewMetadata\\\",t[t.DisableAutoHyperlink=2048]=\\\"DisableAutoHyperlink\\\",t[t.EnableMediaTAUrls=4096]=\\\"EnableMediaTAUrls\\\",t[t.ParentInfo=8192]=\\\"ParentInfo\\\",t[t.PageContextInfo=16384]=\\\"PageContextInfo\\\",t[t.ClientSideComponentManifest=32768]=\\\"ClientSideComponentManifest\\\"}(e.RenderListDataOptions||(e.RenderListDataOptions={})),function(t){t[t.PeopleAndGroups=1]=\\\"PeopleAndGroups\\\",t[t.PeopleOnly=0]=\\\"PeopleOnly\\\"}(e.FieldUserSelectionMode||(e.FieldUserSelectionMode={}))},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(79),a=n(49),s=n(1),u=n(30),c=n(61),l=function(t){function e(e,n){return void 0===n&&(n=\\\"folders\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getByName=function(t){var e=new p(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e.prototype.add=function(t){var n=this;return this.clone(e,\\\"add('\\\"+t+\\\"')\\\").postCore().then(function(e){return{data:e,folder:n.getByName(t)}})},e}(o.SharePointQueryableCollection);e.Folders=l;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"contentTypeOrder\\\",{get:function(){return new o.SharePointQueryableCollection(this,\\\"contentTypeOrder\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"files\\\",{get:function(){return new a.Files(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"folders\\\",{get:function(){return new l(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"listItemAllFields\\\",{get:function(){return new o.SharePointQueryableCollection(this,\\\"listItemAllFields\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"parentFolder\\\",{get:function(){return new e(this,\\\"parentFolder\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"properties\\\",{get:function(){return new o.SharePointQueryableInstance(this,\\\"properties\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"serverRelativeUrl\\\",{get:function(){return new o.SharePointQueryable(this,\\\"serverRelativeUrl\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"uniqueContentTypeOrder\\\",{get:function(){return new o.SharePointQueryableCollection(this,\\\"uniqueContentTypeOrder\\\")},enumerable:!0,configurable:!0}),e.prototype.update=function(t){var e=this,n=JSON.stringify(s.Util.extend({__metadata:{type:\\\"SP.Folder\\\"}},t));return this.postCore({body:n,headers:{\\\"X-HTTP-Method\\\":\\\"MERGE\\\"}}).then(function(t){return{data:t,folder:e}})},e.prototype.delete=function(t){return void 0===t&&(t=\\\"*\\\"),this.clone(e,null).postCore({headers:{\\\"IF-Match\\\":t,\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e.prototype.recycle=function(){return this.clone(e,\\\"recycle\\\").postCore()},e.prototype.getItem=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.listItemAllFields;return n.select.apply(n,t).get().then(function(t){return s.Util.extend(new c.Item(u.spGetEntityUrl(t)),t)})},e}(i.SharePointQueryableShareableFolder);e.Folder=p},function(t,e,n){var r=n(5),o=n(3).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(3),o=n(24),i=n(37),a=n(120),s=n(9).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});\\\"_\\\"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(63)(\\\"keys\\\"),o=n(40);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){t.exports=\\\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\\\".split(\\\",\\\")},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(5),o=n(2),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+\\\": can't set as prototype!\\\")};t.exports={set:Object.setPrototypeOf||(\\\"__proto__\\\"in{}?function(t,e,r){try{r=n(21)(Function.call,n(18).f(Object.prototype,\\\"__proto__\\\").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e){t.exports=\\\"\\\\t\\\\n\\\\v\\\\f\\\\r \\\\u2028\\\\u2029\\\\ufeff\\\"},function(t,e,n){var r=n(5),o=n(87).set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&\\\"function\\\"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},function(t,e,n){\\\"use strict\\\";var r=n(27),o=n(26);t.exports=function(t){var e=String(o(this)),n=\\\"\\\",i=r(t);if(i<0||i==1/0)throw RangeError(\\\"Count can't be negative\\\");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(27),o=n(26);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?\\\"\\\":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536)}}},function(t,e,n){\\\"use strict\\\";var r=n(37),o=n(0),i=n(16),a=n(15),s=n(58),u=n(95),c=n(50),l=n(19),p=n(7)(\\\"iterator\\\"),f=!([].keys&&\\\"next\\\"in[].keys()),h=\\\"keys\\\",d=\\\"values\\\",y=function(){return this};t.exports=function(t,e,n,g,v,m,b){u(n,e,g);var _,P,w,S=function(t){if(!f&&t in I)return I[t];switch(t){case h:case d:return function(){return new n(this,t)}}return function(){return new n(this,t)}},O=e+\\\" Iterator\\\",x=v==d,C=!1,I=t.prototype,T=I[p]||I[\\\"@@iterator\\\"]||v&&I[v],j=T||S(v),E=v?x?S(\\\"entries\\\"):j:void 0,U=\\\"Array\\\"==e?I.entries||T:T;if(U&&(w=l(U.call(new t)))!==Object.prototype&&w.next&&(c(w,O,!0),r||\\\"function\\\"==typeof w[p]||a(w,p,y)),x&&T&&T.name!==d&&(C=!0,j=function(){return T.call(this)}),r&&!b||!f&&!C&&I[p]||a(I,p,j),s[e]=j,s[O]=y,v)if(_={values:x?j:S(d),keys:m?j:S(h),entries:E},b)for(P in _)P in I||i(I,P,_[P]);else o(o.P+o.F*(f||C),e,_);return _}},function(t,e,n){\\\"use strict\\\";var r=n(42),o=n(39),i=n(50),a={};n(15)(a,n(7)(\\\"iterator\\\"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+\\\" Iterator\\\")}},function(t,e,n){var r=n(67),o=n(26);t.exports=function(t,e,n){if(r(e))throw TypeError(\\\"String#\\\"+n+\\\" doesn't accept regex!\\\");return String(o(t))}},function(t,e,n){var r=n(7)(\\\"match\\\");t.exports=function(t){var e=/./;try{\\\"/./\\\"[t](e)}catch(n){try{return e[r]=!1,!\\\"/./\\\"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(58),o=n(7)(\\\"iterator\\\"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){\\\"use strict\\\";var r=n(9),o=n(39);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(57),o=n(7)(\\\"iterator\\\"),i=n(58);t.exports=n(24).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t[\\\"@@iterator\\\"]||i[r(t)]}},function(t,e,n){var r=n(272);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){\\\"use strict\\\";var r=n(11),o=n(41),i=n(10);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:o(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){var r=n(2),o=n(12),i=n(7)(\\\"species\\\");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=n(3),o=n(139).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u=\\\"process\\\"==n(22)(a);t.exports=function(){var t,e,n,c=function(){var r,o;for(u&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){o.call(r,c)};else{var p=!0,f=document.createTextNode(\\\"\\\");new i(c).observe(f,{characterData:!0}),n=function(){f.data=p=!p}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){\\\"use strict\\\";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError(\\\"Bad Promise constructor\\\");e=t,n=r}),this.resolve=o(e),this.reject=o(n)}var o=n(12);t.exports.f=function(t){return new r(t)}},function(t,e,n){var r=n(3),o=r.navigator;t.exports=o&&o.userAgent||\\\"\\\"},function(t,e,n){\\\"use strict\\\";function r(t,e,n){var r,o,i,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?N(2,-24)-N(2,-77):0,p=0,f=t<0||0===t&&1/t<0?1:0;for(t=B(t),t!=t||t===k?(o=t!=t?1:0,r=u):(r=Q(q(t)/H),t*(i=N(2,-r))<1&&(r--,i*=2),t+=r+c>=1?l/i:l*N(2,1-c),t*i>=2&&(r++,i/=2),r+c>=u?(o=0,r=u):r+c>=1?(o=(t*i-1)*N(2,e),r+=c):(o=t*N(2,c-1)*N(2,e),r=0));e>=8;a[p++]=255&o,o/=256,e-=8);for(r=r<<e|o,s+=e;s>0;a[p++]=255&r,r/=256,s-=8);return a[--p]|=128*f,a}function o(t,e,n){var r,o=8*n-e-1,i=(1<<o)-1,a=i>>1,s=o-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:c?-k:k;r+=N(2,e),l-=a}return(c?-1:1)*r*N(2,l-e)}function i(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function u(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function c(t){return r(t,52,8)}function l(t){return r(t,23,4)}function p(t,e,n){C(t[U],e,{get:function(){return this[n]}})}function f(t,e,n,r){var o=+n,i=O(o);if(i+e>t[$])throw D(A);var a=t[V]._b,s=i+t[J],u=a.slice(s,s+e);return r?u:u.reverse()}function h(t,e,n,r,o,i){var a=+n,s=O(a);if(s+e>t[$])throw D(A);for(var u=t[V]._b,c=s+t[J],l=r(+o),p=0;p<e;p++)u[c+p]=l[i?p:e-p-1]}var d=n(3),y=n(8),g=n(37),v=n(72),m=n(15),b=n(47),_=n(4),P=n(45),w=n(27),S=n(10),O=n(146),x=n(43).f,C=n(9).f,I=n(102),T=n(50),j=\\\"ArrayBuffer\\\",E=\\\"DataView\\\",U=\\\"prototype\\\",A=\\\"Wrong index!\\\",F=d[j],R=d[E],M=d.Math,D=d.RangeError,k=d.Infinity,L=F,B=M.abs,N=M.pow,Q=M.floor,q=M.log,H=M.LN2,W=\\\"buffer\\\",G=\\\"byteLength\\\",z=\\\"byteOffset\\\",V=y?\\\"_b\\\":W,$=y?\\\"_l\\\":G,J=y?\\\"_o\\\":z;if(v.ABV){if(!_(function(){F(1)})||!_(function(){new F(-1)})||_(function(){return new F,new F(1.5),new F(NaN),F.name!=j})){F=function(t){return P(this,F),new L(O(t))};for(var K,X=F[U]=L[U],Z=x(L),Y=0;Z.length>Y;)(K=Z[Y++])in F||m(F,K,L[K]);g||(X.constructor=F)}var tt=new R(new F(2)),et=R[U].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||b(R[U],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else F=function(t){P(this,F,j);var e=O(t);this._b=I.call(new Array(e),0),this[$]=e},R=function(t,e,n){P(this,R,E),P(t,F,E);var r=t[$],o=w(e);if(o<0||o>r)throw D(\\\"Wrong offset!\\\");if(n=void 0===n?r-o:S(n),o+n>r)throw D(\\\"Wrong length!\\\");this[V]=t,this[J]=o,this[$]=n},y&&(p(F,G,\\\"_l\\\"),p(R,W,\\\"_b\\\"),p(R,G,\\\"_l\\\"),p(R,z,\\\"_o\\\")),b(R[U],{getInt8:function(t){return f(this,1,t)[0]<<24>>24},getUint8:function(t){return f(this,1,t)[0]},getInt16:function(t){var e=f(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=f(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return i(f(this,4,t,arguments[1]))},getUint32:function(t){return i(f(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return o(f(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return o(f(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){h(this,1,t,a,e)},setUint8:function(t,e){h(this,1,t,a,e)},setInt16:function(t,e){h(this,2,t,s,e,arguments[2])},setUint16:function(t,e){h(this,2,t,s,e,arguments[2])},setInt32:function(t,e){h(this,4,t,u,e,arguments[2])},setUint32:function(t,e){h(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){h(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){h(this,8,t,c,e,arguments[2])}});T(F,j),T(R,E),m(R[U],v.VIEW,!0),e[j]=F,e[E]=R},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(1),o=n(59),i=n(48),a=n(33),s=n(109),u=function(){function t(){}return t.prototype.concat=function(t){return this._url+=t,this},t.prototype.append=function(t){this._url=r.Util.combinePaths(this._url,t)},Object.defineProperty(t.prototype,\\\"parentUrl\\\",{get:function(){return this._parentUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"query\\\",{get:function(){return this._query},enumerable:!0,configurable:!0}),t.prototype.configure=function(t){return o.mergeOptions(this._options,t),this},t.prototype.usingCaching=function(t){return a.RuntimeConfig.globalCacheDisable||(this._useCaching=!0,this._cachingOptions=t),this},t.prototype.toUrl=function(){return this._url},t.prototype.get=function(t,e){return void 0===t&&(t=new i.ODataDefaultParser),void 0===e&&(e={}),this.toRequestContext(\\\"GET\\\",e,t,s.PipelineMethods.default).then(function(t){return s.pipe(t)})},t.prototype.getAs=function(t,e){return void 0===t&&(t=new i.ODataDefaultParser),void 0===e&&(e={}),this.toRequestContext(\\\"GET\\\",e,t,s.PipelineMethods.default).then(function(t){return s.pipe(t)})},t.prototype.postCore=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=new i.ODataDefaultParser),this.toRequestContext(\\\"POST\\\",t,e,s.PipelineMethods.default).then(function(t){return s.pipe(t)})},t.prototype.postAsCore=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=new i.ODataDefaultParser),this.toRequestContext(\\\"POST\\\",t,e,s.PipelineMethods.default).then(function(t){return s.pipe(t)})},t.prototype.patchCore=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=new i.ODataDefaultParser),this.toRequestContext(\\\"PATCH\\\",t,e,s.PipelineMethods.default).then(function(t){return s.pipe(t)})},t.prototype.deleteCore=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=new i.ODataDefaultParser),this.toRequestContext(\\\"DELETE\\\",t,e,s.PipelineMethods.default).then(function(t){return s.pipe(t)})},t}();e.ODataQueryable=u},function(t,e,n){\\\"use strict\\\";function r(t){return l.Logger.log({data:t.result,level:l.LogLevel.Verbose,message:\\\"[\\\"+t.requestId+\\\"] (\\\"+(new Date).getTime()+\\\") Returning result, see data property for value.\\\"}),Promise.resolve(t.result)}function o(t,e){return new Promise(function(n){t.result=e,t.hasResult=!0,n(t)})}function i(t){return t.pipeline.length<1?Promise.resolve(t):t.pipeline.shift()(t)}function a(t){return i(t).then(function(t){return r(t)}).catch(function(t){throw l.Logger.log({data:t,level:l.LogLevel.Error,message:\\\"Error in request pipeline: \\\"+t.message}),t})}function s(t){return void 0===t&&(t=!1),function(e,n,r){var o=r.value;r.value=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return!t&&r.length>0&&r[0].hasOwnProperty(\\\"hasResult\\\")&&r[0].hasResult?(l.Logger.write(\\\"[\\\"+r[0].requestId+\\\"] (\\\"+(new Date).getTime()+\\\") Skipping request pipeline method \\\"+n+\\\", existing result in pipeline.\\\",l.LogLevel.Verbose),Promise.resolve(r[0])):(l.Logger.write(\\\"[\\\"+r[0].requestId+\\\"] (\\\"+(new Date).getTime()+\\\") Calling request pipeline method \\\"+n+\\\".\\\",l.LogLevel.Verbose),o.apply(e,r).then(function(t){return i(t)}))}}}var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if(\\\"object\\\"==typeof Reflect&&\\\"function\\\"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var c=n(161),l=n(34),p=n(1);e.setResult=o,e.pipe=a,e.requestPipelineMethod=s;var f=function(){function t(){}return t.logStart=function(t){return new Promise(function(e){l.Logger.log({data:l.Logger.activeLogLevel===l.LogLevel.Info?{}:t,level:l.LogLevel.Info,message:\\\"[\\\"+t.requestId+\\\"] (\\\"+(new Date).getTime()+\\\") Beginning \\\"+t.verb+\\\" request (\\\"+t.requestAbsoluteUrl+\\\")\\\"}),e(t)})},t.caching=function(t){return new Promise(function(e){if(\\\"GET\\\"===t.verb&&t.isCached){l.Logger.write(\\\"[\\\"+t.requestId+\\\"] (\\\"+(new Date).getTime()+\\\") Caching is enabled for request, checking cache...\\\",l.LogLevel.Info);var n=new c.CachingOptions(t.requestAbsoluteUrl.toLowerCase());if(void 0!==t.cachingOptions&&(n=p.Util.extend(n,t.cachingOptions)),null!==n.store){var r=n.store.get(n.key);if(null!==r)return l.Logger.log({data:l.Logger.activeLogLevel===l.LogLevel.Info?{}:r,level:l.LogLevel.Info,message:\\\"[\\\"+t.requestId+\\\"] (\\\"+(new Date).getTime()+\\\") Value returned from cache.\\\"}),t.batchDependency(),t.parser.hasOwnProperty(\\\"hydrate\\\")&&(r=t.parser.hydrate(r)),o(t,r).then(function(t){return e(t)})}l.Logger.write(\\\"[\\\"+t.requestId+\\\"] (\\\"+(new Date).getTime()+\\\") Value not found in cache.\\\",l.LogLevel.Info),t.parser=new c.CachingParserWrapper(t.parser,n)}return e(t)})},t.send=function(t){return new Promise(function(e,n){if(t.isBatched){var r=t.batch.add(t.requestAbsoluteUrl,t.verb,t.options,t.parser);t.batchDependency(),l.Logger.write(\\\"[\\\"+t.requestId+\\\"] (\\\"+(new Date).getTime()+\\\") Batching request in batch \\\"+t.batch.batchId+\\\".\\\",l.LogLevel.Info),e(o(t,r))}else{l.Logger.write(\\\"[\\\"+t.requestId+\\\"] (\\\"+(new Date).getTime()+\\\") Sending request.\\\",l.LogLevel.Info);var i=t.clientFactory(),a=p.Util.extend(t.options||{},{method:t.verb});i.fetch(t.requestAbsoluteUrl,a).then(function(e){return t.parser.parse(e)}).then(function(e){return o(t,e)}).then(function(t){return e(t)}).catch(function(t){return n(t)})}})},t.logEnd=function(t){return new Promise(function(e){t.isBatched?l.Logger.log({data:l.Logger.activeLogLevel===l.LogLevel.Info?{}:t,level:l.LogLevel.Info,message:\\\"[\\\"+t.requestId+\\\"] (\\\"+(new Date).getTime()+\\\") \\\"+t.verb+\\\" request will complete in batch \\\"+t.batch.batchId+\\\".\\\"}):l.Logger.log({data:l.Logger.activeLogLevel===l.LogLevel.Info?{}:t,level:l.LogLevel.Info,message:\\\"[\\\"+t.requestId+\\\"] (\\\"+(new Date).getTime()+\\\") Completing \\\"+t.verb+\\\" request.\\\"}),e(t)})},Object.defineProperty(t,\\\"default\\\",{get:function(){return[t.logStart,t.caching,t.send,t.logEnd]},enumerable:!0,configurable:!0}),u([s(!0)],t,\\\"logStart\\\",null),u([s()],t,\\\"caching\\\",null),u([s()],t,\\\"send\\\",null),u([s(!0)],t,\\\"logEnd\\\",null),t}();e.PipelineMethods=f},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(383),o=n(1),i=n(33),a=n(20),s=n(59),u=function(){function t(){this._impl=i.RuntimeConfig.spFetchClientFactory(),this._digestCache=new r.DigestCache(this)}return t.prototype.fetch=function(t,e){var n=this;void 0===e&&(e={});var r=o.Util.extend(e,{cache:\\\"no-cache\\\",credentials:\\\"same-origin\\\"},!0),u=new Headers;if(s.mergeHeaders(u,i.RuntimeConfig.spHeaders),s.mergeHeaders(u,e.headers),u.has(\\\"Accept\\\")||u.append(\\\"Accept\\\",\\\"application/json\\\"),u.has(\\\"Content-Type\\\")||u.append(\\\"Content-Type\\\",\\\"application/json;odata=verbose;charset=utf-8\\\"),u.has(\\\"X-ClientService-ClientTag\\\")||u.append(\\\"X-ClientService-ClientTag\\\",\\\"PnPCoreJS:3.0.8\\\"),u.has(\\\"User-Agent\\\")||u.append(\\\"User-Agent\\\",\\\"NONISV|SharePointPnP|PnPCoreJS/3.0.8\\\"),r=o.Util.extend(r,{headers:u}),r.method&&\\\"GET\\\"!==r.method.toUpperCase()&&!u.has(\\\"X-RequestDigest\\\")&&!u.has(\\\"Authorization\\\")){var c=t.indexOf(\\\"_api/\\\");if(c<0)throw new a.APIUrlException;var l=t.substr(0,c);return this._digestCache.getDigest(l).then(function(e){return u.append(\\\"X-RequestDigest\\\",e),n.fetchRaw(t,r)})}return this.fetchRaw(t,r)},t.prototype.fetchRaw=function(t,e){var n=this;void 0===e&&(e={});var r=new Headers;s.mergeHeaders(r,e.headers),e=o.Util.extend(e,{headers:r});var i=function(r){n._impl.fetch(t,e).then(function(t){return r.resolve(t)}).catch(function(t){429!==t.status&&503!==t.status&&r.reject(t);var e=r.delay;r.delay*=2,r.attempts++,r.retryCount<=r.attempts&&r.reject(t),setTimeout(o.Util.getCtxCallback(n,i,r),e)})};return new Promise(function(t,e){var r={attempts:0,delay:100,reject:e,resolve:t,retryCount:7};i.call(n,r)})},t.prototype.get=function(t,e){void 0===e&&(e={});var n=o.Util.extend(e,{method:\\\"GET\\\"});return this.fetch(t,n)},t.prototype.post=function(t,e){void 0===e&&(e={});var n=o.Util.extend(e,{method:\\\"POST\\\"});return this.fetch(t,n)},t.prototype.patch=function(t,e){void 0===e&&(e={});var n=o.Util.extend(e,{method:\\\"PATCH\\\"});return this.fetch(t,n)},t.prototype.delete=function(t,e){void 0===e&&(e={});var n=o.Util.extend(e,{method:\\\"DELETE\\\"});return this.fetch(t,n)},t}();e.HttpClient=u},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(112),a=n(1),s=function(t){function e(e,n){return void 0===n&&(n=\\\"roleassignments\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.add=function(t,n){return this.clone(e,\\\"addroleassignment(principalid=\\\"+t+\\\", roledefid=\\\"+n+\\\")\\\").postCore()},e.prototype.remove=function(t,n){return this.clone(e,\\\"removeroleassignment(principalid=\\\"+t+\\\", roledefid=\\\"+n+\\\")\\\").postCore()},e.prototype.getById=function(t){var e=new u(this);return e.concat(\\\"(\\\"+t+\\\")\\\"),e},e}(o.SharePointQueryableCollection);e.RoleAssignments=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"groups\\\",{get:function(){return new i.SiteGroups(this,\\\"groups\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"bindings\\\",{get:function(){return new p(this)},enumerable:!0,configurable:!0}),e.prototype.delete=function(){return this.postCore({headers:{\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e}(o.SharePointQueryableInstance);e.RoleAssignment=u;var c=function(t){function e(e,n){return void 0===n&&(n=\\\"roledefinitions\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){return new l(this,\\\"getById(\\\"+t+\\\")\\\")},e.prototype.getByName=function(t){return new l(this,\\\"getbyname('\\\"+t+\\\"')\\\")},e.prototype.getByType=function(t){return new l(this,\\\"getbytype(\\\"+t+\\\")\\\")},e.prototype.add=function(t,e,n,r){var o=this,i=JSON.stringify({BasePermissions:a.Util.extend({__metadata:{type:\\\"SP.BasePermissions\\\"}},r),Description:e,Name:t,Order:n,__metadata:{type:\\\"SP.RoleDefinition\\\"}});return this.postCore({body:i}).then(function(t){return{data:t,definition:o.getById(t.Id)}})},e}(o.SharePointQueryableCollection);e.RoleDefinitions=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t){var e=this;void 0!==t.hasOwnProperty(\\\"BasePermissions\\\")&&(t.BasePermissions=a.Util.extend({__metadata:{type:\\\"SP.BasePermissions\\\"}},t.BasePermissions));var n=JSON.stringify(a.Util.extend({__metadata:{type:\\\"SP.RoleDefinition\\\"}},t));return this.postCore({body:n,headers:{\\\"X-HTTP-Method\\\":\\\"MERGE\\\"}}).then(function(n){var r=e;return t.hasOwnProperty(\\\"Name\\\")&&(r=e.getParent(c,e.parentUrl,\\\"\\\").getByName(t.Name)),{data:n,definition:r}})},e.prototype.delete=function(){return this.postCore({headers:{\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e}(o.SharePointQueryableInstance);e.RoleDefinition=l;var p=function(t){function e(e,n){return void 0===n&&(n=\\\"roledefinitionbindings\\\"),t.call(this,e,n)||this}return r(e,t),e}(o.SharePointQueryableCollection);e.RoleDefinitionBindings=p},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(165),a=n(1);!function(t){t[t.None=0]=\\\"None\\\",t[t.User=1]=\\\"User\\\",t[t.DistributionList=2]=\\\"DistributionList\\\",t[t.SecurityGroup=4]=\\\"SecurityGroup\\\",t[t.SharePointGroup=8]=\\\"SharePointGroup\\\",t[t.All=15]=\\\"All\\\"}(e.PrincipalType||(e.PrincipalType={}));var s=function(t){function e(e,n){return void 0===n&&(n=\\\"sitegroups\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.add=function(t){var e=this,n=JSON.stringify(a.Util.extend({__metadata:{type:\\\"SP.Group\\\"}},t));return this.postCore({body:n}).then(function(t){return{data:t,group:e.getById(t.Id)}})},e.prototype.getByName=function(t){return new u(this,\\\"getByName('\\\"+t+\\\"')\\\")},e.prototype.getById=function(t){var e=new u(this);return e.concat(\\\"(\\\"+t+\\\")\\\"),e},e.prototype.removeById=function(t){return this.clone(e,\\\"removeById('\\\"+t+\\\"')\\\").postCore()},e.prototype.removeByLoginName=function(t){return this.clone(e,\\\"removeByLoginName('\\\"+t+\\\"')\\\").postCore()},e}(o.SharePointQueryableCollection);e.SiteGroups=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"users\\\",{get:function(){return new i.SiteUsers(this,\\\"users\\\")},enumerable:!0,configurable:!0}),e.prototype.update=function(t){var n=this,r=a.Util.extend({__metadata:{type:\\\"SP.Group\\\"}},t);return this.postCore({body:JSON.stringify(r),headers:{\\\"X-HTTP-Method\\\":\\\"MERGE\\\"}}).then(function(r){var o=n;return t.hasOwnProperty(\\\"Title\\\")&&(o=n.getParent(e,n.parentUrl,\\\"getByName('\\\"+t.Title+\\\"')\\\")),{data:r,group:o}})},e}(o.SharePointQueryableInstance);e.SiteGroup=u},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(1),i=n(6),a=function(t){function e(e,n){return void 0===n&&(n=\\\"contenttypes\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){var e=new s(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e.prototype.addAvailableContentType=function(t){var n=this,r=JSON.stringify({contentTypeId:t});return this.clone(e,\\\"addAvailableContentType\\\").postAsCore({body:r}).then(function(t){return{contentType:n.getById(t.id),data:t}})},e.prototype.add=function(t,e,n,r,i){var a=this;void 0===n&&(n=\\\"\\\"),void 0===r&&(r=\\\"Custom Content Types\\\"),void 0===i&&(i={});var s=JSON.stringify(o.Util.extend({Description:n,Group:r,Id:{StringValue:t},Name:e,__metadata:{type:\\\"SP.ContentType\\\"}},i));return this.postCore({body:s}).then(function(t){return{contentType:a.getById(t.id),data:t}})},e}(i.SharePointQueryableCollection);e.ContentTypes=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"fieldLinks\\\",{get:function(){return new u(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"fields\\\",{get:function(){return new i.SharePointQueryableCollection(this,\\\"fields\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"parent\\\",{get:function(){return new e(this,\\\"parent\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"workflowAssociations\\\",{get:function(){return new i.SharePointQueryableCollection(this,\\\"workflowAssociations\\\")},enumerable:!0,configurable:!0}),e.prototype.delete=function(){return this.postCore({headers:{\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e}(i.SharePointQueryableInstance);e.ContentType=s;var u=function(t){function e(e,n){return void 0===n&&(n=\\\"fieldlinks\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){var e=new c(this);return e.concat(\\\"(guid'\\\"+t+\\\"')\\\"),e},e}(i.SharePointQueryableCollection);e.FieldLinks=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i.SharePointQueryableInstance);e.FieldLink=c},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(1),a=n(80),s=function(t){function e(e,n){return void 0===n&&(n=\\\"fields\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getByTitle=function(t){return new u(this,\\\"getByTitle('\\\"+t+\\\"')\\\")},e.prototype.getByInternalNameOrTitle=function(t){return new u(this,\\\"getByInternalNameOrTitle('\\\"+t+\\\"')\\\")},e.prototype.getById=function(t){var e=new u(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e.prototype.createFieldAsXml=function(t){var n,r=this;n=\\\"string\\\"==typeof t?{SchemaXml:t}:t;var o=JSON.stringify({parameters:i.Util.extend({__metadata:{type:\\\"SP.XmlSchemaFieldCreationInformation\\\"}},n)});return this.clone(e,\\\"createfieldasxml\\\").postAsCore({body:o}).then(function(t){return{data:t,field:r.getById(t.Id)}})},e.prototype.add=function(t,n,r){var o=this,a=JSON.stringify(i.Util.extend({Title:t,__metadata:{type:n}},r));return this.clone(e,null).postAsCore({body:a}).then(function(t){return{data:t,field:o.getById(t.Id)}})},e.prototype.addText=function(t,e,n){void 0===e&&(e=255);var r={FieldTypeKind:2,MaxLength:e};return this.add(t,\\\"SP.FieldText\\\",i.Util.extend(r,n))},e.prototype.addCalculated=function(t,e,n,r,o){void 0===r&&(r=a.FieldTypes.Text);var s={DateFormat:n,FieldTypeKind:17,Formula:e,OutputType:r};return this.add(t,\\\"SP.FieldCalculated\\\",i.Util.extend(s,o))},e.prototype.addDateTime=function(t,e,n,r,o){void 0===e&&(e=a.DateTimeFieldFormatType.DateOnly),void 0===n&&(n=a.CalendarType.Gregorian),void 0===r&&(r=0);var s={DateTimeCalendarType:n,DisplayFormat:e,FieldTypeKind:4,FriendlyDisplayFormat:r};return this.add(t,\\\"SP.FieldDateTime\\\",i.Util.extend(s,o))},e.prototype.addNumber=function(t,e,n,r){var o={FieldTypeKind:9};return void 0!==e&&(o=i.Util.extend({MinimumValue:e},o)),void 0!==n&&(o=i.Util.extend({MaximumValue:n},o)),this.add(t,\\\"SP.FieldNumber\\\",i.Util.extend(o,r))},e.prototype.addCurrency=function(t,e,n,r,o){void 0===r&&(r=1033);var a={CurrencyLocaleId:r,FieldTypeKind:10};return void 0!==e&&(a=i.Util.extend({MinimumValue:e},a)),void 0!==n&&(a=i.Util.extend({MaximumValue:n},a)),this.add(t,\\\"SP.FieldCurrency\\\",i.Util.extend(a,o))},e.prototype.addMultilineText=function(t,e,n,r,o,a,s){void 0===e&&(e=6),void 0===n&&(n=!0),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===a&&(a=!0);var u={AllowHyperlink:a,AppendOnly:o,FieldTypeKind:3,NumberOfLines:e,RestrictedMode:r,RichText:n};return this.add(t,\\\"SP.FieldMultiLineText\\\",i.Util.extend(u,s))},e.prototype.addUrl=function(t,e,n){void 0===e&&(e=a.UrlFieldFormatType.Hyperlink);var r={DisplayFormat:e,FieldTypeKind:11};return this.add(t,\\\"SP.FieldUrl\\\",i.Util.extend(r,n))},e.prototype.addUser=function(t,e,n){var r={FieldTypeKind:20,SelectionMode:e};return this.add(t,\\\"SP.FieldUser\\\",i.Util.extend(r,n))},e.prototype.addLookup=function(t,n,r,o){var a=this,s=JSON.stringify({parameters:i.Util.extend({FieldTypeKind:7,LookupFieldName:r,LookupListId:n,Title:t,__metadata:{type:\\\"SP.FieldCreationInformation\\\"}},o)});return this.clone(e,\\\"addfield\\\").postAsCore({body:s}).then(function(t){return{data:t,field:a.getById(t.Id)}})},e.prototype.addChoice=function(t,e,n,r,o){void 0===n&&(n=a.ChoiceFieldFormatType.Dropdown);var s={Choices:{results:e},EditFormat:n,FieldTypeKind:6,FillInChoice:r};return this.add(t,\\\"SP.FieldChoice\\\",i.Util.extend(s,o))},e.prototype.addMultiChoice=function(t,e,n,r){var o={Choices:{results:e},FieldTypeKind:15,FillInChoice:n};return this.add(t,\\\"SP.FieldMultiChoice\\\",i.Util.extend(o,r))},e.prototype.addBoolean=function(t,e){var n={FieldTypeKind:8};return this.add(t,\\\"SP.Field\\\",i.Util.extend(n,e))},e}(o.SharePointQueryableCollection);e.Fields=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t,e){var n=this;void 0===e&&(e=\\\"SP.Field\\\");var r=JSON.stringify(i.Util.extend({__metadata:{type:e}},t));return this.postCore({body:r,headers:{\\\"X-HTTP-Method\\\":\\\"MERGE\\\"}}).then(function(t){return{data:t,field:n}})},e.prototype.delete=function(){return this.postCore({headers:{\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e.prototype.setShowInDisplayForm=function(t){return this.clone(e,\\\"setshowindisplayform(\\\"+t+\\\")\\\").postCore()},e.prototype.setShowInEditForm=function(t){return this.clone(e,\\\"setshowineditform(\\\"+t+\\\")\\\").postCore()},e.prototype.setShowInNewForm=function(t){return this.clone(e,\\\"setshowinnewform(\\\"+t+\\\")\\\").postCore()},e}(o.SharePointQueryableInstance);e.Field=u},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(1),a=function(t){function e(e,n){return void 0===n&&(n=\\\"usercustomactions\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){var e=new s(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e.prototype.add=function(t){var e=this,n=JSON.stringify(i.Util.extend({__metadata:{type:\\\"SP.UserCustomAction\\\"}},t));return this.postCore({body:n}).then(function(t){return{action:e.getById(t.Id),data:t}})},e.prototype.clear=function(){return this.clone(e,\\\"clear\\\").postCore()},e}(o.SharePointQueryableCollection);e.UserCustomActions=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t){var e=this,n=JSON.stringify(i.Util.extend({__metadata:{type:\\\"SP.UserCustomAction\\\"}},t));return this.postCore({body:n,headers:{\\\"X-HTTP-Method\\\":\\\"MERGE\\\"}}).then(function(t){return{action:e,data:t}})},e.prototype.delete=function(){return t.prototype.deleteCore.call(this)},e}(o.SharePointQueryableInstance);e.UserCustomAction=s},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getById=function(t){var e=new a(this);return e.concat(\\\"(\\\"+t+\\\")\\\"),e},e.prototype.add=function(t,n,r){var o=this;void 0===r&&(r=!0);var i=JSON.stringify({IsVisible:r,Title:t,Url:n,__metadata:{type:\\\"SP.NavigationNode\\\"}});return this.clone(e,null).postCore({body:i}).then(function(t){return{data:t,node:o.getById(t.Id)}})},e.prototype.moveAfter=function(t,n){var r=JSON.stringify({nodeId:t,previousNodeId:n});return this.clone(e,\\\"MoveAfter\\\").postCore({body:r})},e}(o.SharePointQueryableCollection);e.NavigationNodes=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"children\\\",{get:function(){return new i(this,\\\"Children\\\")},enumerable:!0,configurable:!0}),e.prototype.delete=function(){return t.prototype.deleteCore.call(this)},e}(o.SharePointQueryableInstance);e.NavigationNode=a;var s=function(t){function e(e,n){return void 0===n&&(n=\\\"navigation\\\"),t.call(this,e,n)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"quicklaunch\\\",{get:function(){return new i(this,\\\"quicklaunch\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"topNavigationBar\\\",{get:function(){return new i(this,\\\"topnavigationbar\\\")},enumerable:!0,configurable:!0}),e}(o.SharePointQueryable);e.Navigation=s;var u=function(t){function e(e){return void 0===e&&(e=null),t.call(this,\\\"_api/navigation\\\",e)||this}return r(e,t),e.prototype.getMenuState=function(t,n,r,o){return void 0===t&&(t=null),void 0===n&&(n=10),void 0===r&&(r=null),void 0===o&&(o=null),new e(\\\"MenuState\\\").postCore({body:JSON.stringify({customProperties:o,depth:n,mapProviderName:r,menuNodeKey:t})})},e.prototype.getMenuNodeKey=function(t,n){return void 0===n&&(n=null),new e(\\\"MenuNodeKey\\\").postCore({body:JSON.stringify({currentUrl:t,mapProviderName:n})})},e}(o.SharePointQueryable);e.NavigationService=u},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(1),o=n(34),i=n(110),a=n(59),s=n(33),u=n(20),c=function(){function t(t,e){void 0===e&&(e=r.Util.getGUID()),this.baseUrl=t,this._batchId=e,this._requests=[],this._dependencies=[]}return t.ParseResponse=function(t){return new Promise(function(e,n){for(var r,o,i=[],a=\\\"--batchresponse_\\\",s=new RegExp(\\\"^HTTP/[0-9.]+ +([0-9]+) +(.*)\\\",\\\"i\\\"),c=t.split(\\\"\\\\n\\\"),l=\\\"batch\\\",p=0;p<c.length;++p){var f=c[p];switch(l){case\\\"batch\\\":if(f.substr(0,a.length)===a)l=\\\"batchHeaders\\\";else if(\\\"\\\"!==f.trim())throw new u.BatchParseException(\\\"Invalid response, line \\\"+p);break;case\\\"batchHeaders\\\":\\\"\\\"===f.trim()&&(l=\\\"status\\\");break;case\\\"status\\\":var h=s.exec(f);if(3!==h.length)throw new u.BatchParseException(\\\"Invalid status, line \\\"+p);r=parseInt(h[1],10),o=h[2],l=\\\"statusHeaders\\\";break;case\\\"statusHeaders\\\":\\\"\\\"===f.trim()&&(l=\\\"body\\\");break;case\\\"body\\\":i.push(204===r?new Response:new Response(f,{status:r,statusText:o})),l=\\\"batch\\\"}}\\\"status\\\"!==l&&n(new u.BatchParseException(\\\"Unexpected end of input\\\")),e(i)})},Object.defineProperty(t.prototype,\\\"batchId\\\",{get:function(){return this._batchId},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e,n,r){var o={method:e.toUpperCase(),options:n,parser:r,reject:null,resolve:null,url:t},i=new Promise(function(t,e){o.resolve=t,o.reject=e});return this._requests.push(o),i},t.prototype.addDependency=function(){var t,e=new Promise(function(e){t=e});return this._dependencies.push(e),t},t.prototype.execute=function(){var t=this;return Promise.all(this._dependencies).then(function(){return Promise.all(t._dependencies)}).then(function(){return t.executeImpl()})},t.prototype.executeImpl=function(){var e=this;if(o.Logger.write(\\\"[\\\"+this.batchId+\\\"] (\\\"+(new Date).getTime()+\\\") Executing batch with \\\"+this._requests.length+\\\" requests.\\\",o.LogLevel.Info),this._requests.length<1)return o.Logger.write(\\\"Resolving empty batch.\\\",o.LogLevel.Info),Promise.resolve();var n=new i.HttpClient;return r.Util.toAbsoluteUrl(this.baseUrl).then(function(i){for(var c=[],l=\\\"\\\",p=0;p<e._requests.length;p++){var f=e._requests[p];\\\"GET\\\"===f.method?(l.length>0&&(c.push(\\\"--changeset_\\\"+l+\\\"--\\\\n\\\\n\\\"),l=\\\"\\\"),c.push(\\\"--batch_\\\"+e._batchId+\\\"\\\\n\\\")):(l.length<1&&(l=r.Util.getGUID(),c.push(\\\"--batch_\\\"+e._batchId+\\\"\\\\n\\\"),c.push('Content-Type: multipart/mixed; boundary=\\\"changeset_'+l+'\\\"\\\\n\\\\n')),c.push(\\\"--changeset_\\\"+l+\\\"\\\\n\\\")),c.push(\\\"Content-Type: application/http\\\\n\\\"),c.push(\\\"Content-Transfer-Encoding: binary\\\\n\\\\n\\\");var h=new Headers,d=r.Util.isUrlAbsolute(f.url)?f.url:r.Util.combinePaths(i,f.url);if(o.Logger.write(\\\"[\\\"+e.batchId+\\\"] (\\\"+(new Date).getTime()+\\\") Adding request \\\"+f.method+\\\" \\\"+d+\\\" to batch.\\\",o.LogLevel.Verbose),\\\"GET\\\"!==f.method){var y=f.method;f.hasOwnProperty(\\\"options\\\")&&f.options.hasOwnProperty(\\\"headers\\\")&&void 0!==f.options.headers[\\\"X-HTTP-Method\\\"]&&(y=f.options.headers[\\\"X-HTTP-Method\\\"],delete f.options.headers[\\\"X-HTTP-Method\\\"]),c.push(y+\\\" \\\"+d+\\\" HTTP/1.1\\\\n\\\"),h.set(\\\"Content-Type\\\",\\\"application/json;odata=verbose;charset=utf-8\\\")}else c.push(f.method+\\\" \\\"+d+\\\" HTTP/1.1\\\\n\\\");a.mergeHeaders(h,s.RuntimeConfig.spHeaders),f.options&&a.mergeHeaders(h,f.options.headers),h.has(\\\"Accept\\\")||h.append(\\\"Accept\\\",\\\"application/json\\\"),h.has(\\\"Content-Type\\\")||h.append(\\\"Content-Type\\\",\\\"application/json;odata=verbose;charset=utf-8\\\"),h.has(\\\"X-ClientService-ClientTag\\\")||h.append(\\\"X-ClientService-ClientTag\\\",\\\"PnPCoreJS:3.0.8\\\"),h.forEach(function(t,e){c.push(e+\\\": \\\"+t+\\\"\\\\n\\\")}),c.push(\\\"\\\\n\\\"),f.options.body&&c.push(f.options.body+\\\"\\\\n\\\\n\\\")}l.length>0&&(c.push(\\\"--changeset_\\\"+l+\\\"--\\\\n\\\\n\\\"),l=\\\"\\\"),c.push(\\\"--batch_\\\"+e._batchId+\\\"--\\\\n\\\");var g={\\\"Content-Type\\\":\\\"multipart/mixed; boundary=batch_\\\"+e._batchId},v={body:c.join(\\\"\\\"),headers:g,method:\\\"POST\\\"};return o.Logger.write(\\\"[\\\"+e.batchId+\\\"] (\\\"+(new Date).getTime()+\\\") Sending batch request.\\\",o.LogLevel.Info),n.fetch(r.Util.combinePaths(i,\\\"/_api/$batch\\\"),v).then(function(t){return t.text()}).then(t.ParseResponse).then(function(t){if(t.length!==e._requests.length)throw new u.BatchParseException(\\\"Could not properly parse responses to match requests in batch.\\\");return o.Logger.write(\\\"[\\\"+e.batchId+\\\"] (\\\"+(new Date).getTime()+\\\") Resolving batched requests.\\\",o.LogLevel.Info),t.reduce(function(t,n,r){var i=e._requests[r];return o.Logger.write(\\\"[\\\"+e.batchId+\\\"] (\\\"+(new Date).getTime()+\\\") Resolving batched request \\\"+i.method+\\\" \\\"+i.url+\\\".\\\",o.LogLevel.Verbose),t.then(function(t){return i.parser.parse(n).then(i.resolve).catch(i.reject)})},Promise.resolve())})})},t}();e.ODataBatch=c},function(t,e,n){\\\"use strict\\\";function r(){}function o(t){try{return t.then}catch(t){return v=t,m}}function i(t,e){try{return t(e)}catch(t){return v=t,m}}function a(t,e,n){try{t(e,n)}catch(t){return v=t,m}}function s(t){if(\\\"object\\\"!=typeof this)throw new TypeError(\\\"Promises must be constructed via new\\\");if(\\\"function\\\"!=typeof t)throw new TypeError(\\\"Promise constructor's argument is not a function\\\");this._75=0,this._83=0,this._18=null,this._38=null,t!==r&&y(t,this)}function u(t,e,n){return new t.constructor(function(o,i){var a=new s(r);a.then(o,i),c(t,new d(e,n,a))})}function c(t,e){for(;3===t._83;)t=t._18;if(s._47&&s._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);l(t,e)}function l(t,e){g(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?p(e.promise,t._18):f(e.promise,t._18));var r=i(n,t._18);r===m?f(e.promise,v):p(e.promise,r)})}function p(t,e){if(e===t)return f(t,new TypeError(\\\"A promise cannot be resolved with itself.\\\"));if(e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)){var n=o(e);if(n===m)return f(t,v);if(n===t.then&&e instanceof s)return t._83=3,t._18=e,void h(t);if(\\\"function\\\"==typeof n)return void y(n.bind(e),t)}t._83=1,t._18=e,h(t)}function f(t,e){t._83=2,t._18=e,s._71&&s._71(t,e),h(t)}function h(t){if(1===t._75&&(c(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)c(t,t._38[e]);t._38=null}}function d(t,e,n){this.onFulfilled=\\\"function\\\"==typeof t?t:null,this.onRejected=\\\"function\\\"==typeof e?e:null,this.promise=n}function y(t,e){var n=!1,r=a(t,function(t){n||(n=!0,p(e,t))},function(t){n||(n=!0,f(e,t))});n||r!==m||(n=!0,f(e,v))}var g=n(177),v=null,m={};t.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(t,e){if(this.constructor!==s)return u(this,t,e);var n=new s(r);return c(this,new d(t,e,n)),n}},function(t,e,n){t.exports=!n(8)&&!n(4)(function(){return 7!=Object.defineProperty(n(82)(\\\"div\\\"),\\\"a\\\",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(7)},function(t,e,n){var r=n(14),o=n(17),i=n(64)(!1),a=n(84)(\\\"IE_PROTO\\\");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(9),o=n(2),i=n(51);t.exports=n(8)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(17),o=n(43).f,i={}.toString,a=\\\"object\\\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&\\\"[object Window]\\\"==i.call(t)?s(t):o(r(t))}},function(t,e,n){\\\"use strict\\\";var r=n(51),o=n(65),i=n(56),a=n(11),s=n(55),u=Object.assign;t.exports=!u||n(4)(function(){var t={},e={},n=Symbol(),r=\\\"abcdefghijklmnopqrst\\\";return t[n]=7,r.split(\\\"\\\").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join(\\\"\\\")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,p=i.f;u>c;)for(var f,h=s(arguments[c++]),d=l?r(h).concat(l(h)):r(h),y=d.length,g=0;y>g;)p.call(h,f=d[g++])&&(n[f]=h[f]);return n}:u},function(t,e,n){\\\"use strict\\\";var r=n(12),o=n(5),i=n(126),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var r=[],o=0;o<e;o++)r[o]=\\\"a[\\\"+o+\\\"]\\\";s[e]=Function(\\\"F,a\\\",\\\"return new F(\\\"+r.join(\\\",\\\")+\\\")\\\")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(e,r.length,r):i(e,r,t)};return o(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(3).parseInt,o=n(52).trim,i=n(88),a=/^[-+]?0[xX]/;t.exports=8!==r(i+\\\"08\\\")||22!==r(i+\\\"0x16\\\")?function(t,e){var n=o(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(3).parseFloat,o=n(52).trim;t.exports=1/r(n(88)+\\\"-0\\\")!=-1/0?function(t){var e=o(String(t),3),n=r(e);return 0===n&&\\\"-\\\"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(22);t.exports=function(t,e){if(\\\"number\\\"!=typeof t&&\\\"Number\\\"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(5),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(91),o=Math.pow,i=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),u=o(2,-126),c=function(t){return t+1/i-1/i};t.exports=Math.fround||function(t){var e,n,o=Math.abs(t),l=r(t);return o<u?l*c(o/u/a)*u*a:(e=(1+a/i)*o,n=e-(e-o),n>s||n!=n?l*(1/0):l*n)}},function(t,e,n){var r=n(2);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(12),o=n(11),i=n(55),a=n(10);t.exports=function(t,e,n,s,u){r(e);var c=o(t),l=i(c),p=a(c.length),f=u?p-1:0,h=u?-1:1;if(n<2)for(;;){if(f in l){s=l[f],f+=h;break}if(f+=h,u?f<0:p<=f)throw TypeError(\\\"Reduce of empty array with no initial value\\\")}for(;u?f>=0:p>f;f+=h)f in l&&(s=e(s,l[f],f,c));return s}},function(t,e,n){\\\"use strict\\\";var r=n(11),o=n(41),i=n(10);t.exports=[].copyWithin||function(t,e){var n=r(this),a=i(n.length),s=o(t,a),u=o(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:o(c,a))-u,a-s),p=1;for(u<s&&s<u+l&&(p=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=p,u+=p;return n}},function(t,e,n){\\\"use strict\\\";var r=n(38),o=n(137),i=n(58),a=n(17);t.exports=n(94)(Array,\\\"Array\\\",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):\\\"keys\\\"==e?o(0,n):\\\"values\\\"==e?o(0,t[n]):o(0,[n,t[n]])},\\\"values\\\"),i.Arguments=i.Array,r(\\\"keys\\\"),r(\\\"values\\\"),r(\\\"entries\\\")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(8)&&\\\"g\\\"!=/./g.flags&&n(9).f(RegExp.prototype,\\\"flags\\\",{configurable:!0,get:n(69)})},function(t,e,n){var r,o,i,a=n(21),s=n(126),u=n(86),c=n(82),l=n(3),p=l.process,f=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,y=l.Dispatch,g=0,v={},m=\\\"onreadystatechange\\\",b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},_=function(t){b.call(t.data)};f&&h||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s(\\\"function\\\"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete v[t]},\\\"process\\\"==n(22)(p)?r=function(t){p.nextTick(a(b,t,1))}:y&&y.now?r=function(t){y.now(a(b,t,1))}:d?(o=new d,i=o.port2,o.port1.onmessage=_,r=a(i.postMessage,i,1)):l.addEventListener&&\\\"function\\\"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+\\\"\\\",\\\"*\\\")},l.addEventListener(\\\"message\\\",_,!1)):r=m in c(\\\"script\\\")?function(t){u.appendChild(c(\\\"script\\\"))[m]=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:f,clear:h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){\\\"use strict\\\";var r=n(142),o=n(53),i=\\\"Map\\\";t.exports=n(71)(i,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(o(this,i),t);return e&&e.v},set:function(t,e){return r.def(o(this,i),0===t?0:t,e)}},r,!0)},function(t,e,n){\\\"use strict\\\";var r=n(9).f,o=n(42),i=n(47),a=n(21),s=n(45),u=n(46),c=n(94),l=n(137),p=n(44),f=n(8),h=n(36).fastKey,d=n(53),y=f?\\\"_s\\\":\\\"size\\\",g=function(t,e){var n,r=h(e);if(\\\"F\\\"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,\\\"_i\\\"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=r&&u(r,n,t[c],t)});return i(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var n=d(this,e),r=g(n,t);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[y]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(d(this,e),t)}}),f&&r(l.prototype,\\\"size\\\",{get:function(){return d(this,e)[y]}}),l},def:function(t,e,n){var r,o,i=g(t,e);return i?i.v=n:(t._l=i={i:o=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[y]++,\\\"F\\\"!==o&&(t._i[o]=i)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?\\\"keys\\\"==e?l(0,n.k):\\\"values\\\"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?\\\"entries\\\":\\\"values\\\",!n,!0),p(e)}}},function(t,e,n){\\\"use strict\\\";var r=n(142),o=n(53);t.exports=n(71)(\\\"Set\\\",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(o(this,\\\"Set\\\"),t=0===t?0:t,t)}},r)},function(t,e,n){\\\"use strict\\\";var r,o=n(29)(0),i=n(16),a=n(36),s=n(124),u=n(145),c=n(5),l=n(4),p=n(53),f=\\\"WeakMap\\\",h=a.getWeak,d=Object.isExtensible,y=u.ufstore,g={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(c(t)){var e=h(t);return!0===e?y(p(this,f)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(p(this,f),t,e)}},b=t.exports=n(71)(f,v,m,u,!0,!0);l(function(){return 7!=(new b).set((Object.freeze||Object)(g),7).get(g)})&&(r=u.getConstructor(v,f),s(r.prototype,m),a.NEED=!0,o([\\\"delete\\\",\\\"has\\\",\\\"get\\\",\\\"set\\\"],function(t){var e=b.prototype,n=e[t];i(e,t,function(e,o){if(c(e)&&!d(e)){this._f||(this._f=new r);var i=this._f[t](e,o);return\\\"set\\\"==t?this:i}return n.call(this,e,o)})}))},function(t,e,n){\\\"use strict\\\";var r=n(47),o=n(36).getWeak,i=n(2),a=n(5),s=n(45),u=n(46),c=n(29),l=n(14),p=n(53),f=c(5),h=c(6),d=0,y=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return f(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,i){var c=t(function(t,r){s(t,c,e,\\\"_i\\\"),t._t=e,t._i=d++,t._l=void 0,void 0!=r&&u(r,n,t[i],t)});return r(c.prototype,{delete:function(t){if(!a(t))return!1;var n=o(t);return!0===n?y(p(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=o(t);return!0===n?y(p(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=o(i(e),!0);return!0===r?y(t).set(e,n):r[t._i]=n,t},ufstore:y}},function(t,e,n){var r=n(27),o=n(10);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError(\\\"Wrong length!\\\");return n}},function(t,e,n){var r=n(43),o=n(65),i=n(2),a=n(3).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(i(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){\\\"use strict\\\";function r(t,e,n,c,l,p,f,h){for(var d,y,g=l,v=0,m=!!f&&s(f,h,3);v<c;){if(v in n){if(d=m?m(n[v],v,e):n[v],y=!1,i(d)&&(y=d[u],y=void 0!==y?!!y:o(d)),y&&p>0)g=r(t,e,d,a(d.length),g,p-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=d}g++}v++}return g}var o=n(66),i=n(5),a=n(10),s=n(21),u=n(7)(\\\"isConcatSpreadable\\\");t.exports=r},function(t,e,n){var r=n(10),o=n(90),i=n(26);t.exports=function(t,e,n,a){var s=String(i(t)),u=s.length,c=void 0===n?\\\" \\\":String(n),l=r(e);if(l<=u||\\\"\\\"==c)return s;var p=l-u,f=o.call(c,Math.ceil(p/c.length));return f.length>p&&(f=f.slice(0,p)),a?f+s:s+f}},function(t,e,n){var r=n(51),o=n(17),i=n(56).f;t.exports=function(t){return function(e){for(var n,a=o(e),s=r(a),u=s.length,c=0,l=[];u>c;)i.call(a,n=s[c++])&&l.push(t?[n,a[n]]:a[n]);return l}}},function(t,e,n){var r=n(57),o=n(152);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+\\\"#toJSON isn't generic\\\");return o(this)}}},function(t,e,n){var r=n(46);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,o){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||o!=o?NaN:t===1/0||t===-1/0?t:(t-e)*(o-r)/(n-e)+r}},function(t,e,n){(function(t,r){var o;!function(r){function i(t){throw new RangeError(E[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function s(t,e){var n=t.split(\\\"@\\\"),r=\\\"\\\";return n.length>1&&(r=n[0]+\\\"@\\\",t=n[1]),t=t.replace(j,\\\".\\\"),r+a(t.split(\\\".\\\"),e).join(\\\".\\\")}function u(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function c(t){return a(t,function(t){var e=\\\"\\\";return t>65535&&(t-=65536,e+=F(t>>>10&1023|55296),t=56320|1023&t),e+=F(t)}).join(\\\"\\\")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:b}function p(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,n){var r=0;for(t=n?A(t/S):t>>1,t+=A(t/e);t>U*P>>1;r+=b)t=A(t/U);return A(r+(U+1)*t/(t+w))}function h(t){var e,n,r,o,a,s,u,p,h,d,y=[],g=t.length,v=0,w=x,S=O;for(n=t.lastIndexOf(C),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i(\\\"not-basic\\\"),y.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(a=v,s=1,u=b;o>=g&&i(\\\"invalid-input\\\"),p=l(t.charCodeAt(o++)),(p>=b||p>A((m-v)/s))&&i(\\\"overflow\\\"),v+=p*s,h=u<=S?_:u>=S+P?P:u-S,!(p<h);u+=b)d=b-h,s>A(m/d)&&i(\\\"overflow\\\"),s*=d;e=y.length+1,S=f(v-a,e,0==a),A(v/e)>m-w&&i(\\\"overflow\\\"),w+=A(v/e),v%=e,y.splice(v++,0,w)}return c(y)}function d(t){var e,n,r,o,a,s,c,l,h,d,y,g,v,w,S,I=[];for(t=u(t),g=t.length,e=x,n=0,a=O,s=0;s<g;++s)(y=t[s])<128&&I.push(F(y));for(r=o=I.length,o&&I.push(C);r<g;){for(c=m,s=0;s<g;++s)(y=t[s])>=e&&y<c&&(c=y);for(v=r+1,c-e>A((m-n)/v)&&i(\\\"overflow\\\"),n+=(c-e)*v,e=c,s=0;s<g;++s)if(y=t[s],y<e&&++n>m&&i(\\\"overflow\\\"),y==e){for(l=n,h=b;d=h<=a?_:h>=a+P?P:h-a,!(l<d);h+=b)S=l-d,w=b-d,I.push(F(p(d+S%w,0))),l=A(S/w);I.push(F(p(l,0))),a=f(n,v,r==o),n=0,++r}++n,++e}return I.join(\\\"\\\")}function y(t){return s(t,function(t){return I.test(t)?h(t.slice(4).toLowerCase()):t})}function g(t){return s(t,function(t){return T.test(t)?\\\"xn--\\\"+d(t):t})}var v,m=(\\\"object\\\"==typeof e&&e&&e.nodeType,\\\"object\\\"==typeof t&&t&&t.nodeType,2147483647),b=36,_=1,P=26,w=38,S=700,O=72,x=128,C=\\\"-\\\",I=/^xn--/,T=/[^\\\\x20-\\\\x7E]/,j=/[\\\\x2E\\\\u3002\\\\uFF0E\\\\uFF61]/g,E={overflow:\\\"Overflow: input needs wider integers to process\\\",\\\"not-basic\\\":\\\"Illegal input >= 0x80 (not a basic code point)\\\",\\\"invalid-input\\\":\\\"Invalid input\\\"},U=b-_,A=Math.floor,F=String.fromCharCode;v={version:\\\"1.3.2\\\",ucs2:{decode:u,encode:c},decode:h,encode:d,toASCII:g,toUnicode:y},void 0!==(o=function(){return v}.call(e,n,e,t))&&(t.exports=o)}()}).call(e,n(379)(t),n(62))},function(t,e,n){var r,o;!function(i,a){\\\"use strict\\\";\\\"object\\\"==typeof t&&t.exports?t.exports=a():(r=a,void 0!==(o=\\\"function\\\"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o))}(0,function(t){\\\"use strict\\\";function e(t){var e=t.toLowerCase(),n=e.split(\\\":\\\"),r=n.length,o=8;\\\"\\\"===n[0]&&\\\"\\\"===n[1]&&\\\"\\\"===n[2]?(n.shift(),n.shift()):\\\"\\\"===n[0]&&\\\"\\\"===n[1]?n.shift():\\\"\\\"===n[r-1]&&\\\"\\\"===n[r-2]&&n.pop(),r=n.length,-1!==n[r-1].indexOf(\\\".\\\")&&(o=7);var i;for(i=0;i<r&&\\\"\\\"!==n[i];i++);if(i<o)for(n.splice(i,1,\\\"0000\\\");n.length<o;)n.splice(i,0,\\\"0000\\\");for(var a,s=0;s<o;s++){a=n[s].split(\\\"\\\");for(var u=0;u<3&&\\\"0\\\"===a[0]&&a.length>1;u++)a.splice(0,1);n[s]=a.join(\\\"\\\")}var c=-1,l=0,p=0,f=-1,h=!1;for(s=0;s<o;s++)h?\\\"0\\\"===n[s]?p+=1:(h=!1,p>l&&(c=f,l=p)):\\\"0\\\"===n[s]&&(h=!0,f=s,p=1);p>l&&(c=f,l=p),l>1&&n.splice(c,l,\\\"\\\"),r=n.length;var d=\\\"\\\";for(\\\"\\\"===n[0]&&(d=\\\":\\\"),s=0;s<r&&(d+=n[s],s!==r-1);s++)d+=\\\":\\\";return\\\"\\\"===n[r-1]&&(d+=\\\":\\\"),d}function n(){return t.IPv6===this&&(t.IPv6=r),this}var r=t&&t.IPv6;return{best:e,noConflict:n}})},function(t,e,n){var r,o;!function(i,a){\\\"use strict\\\";\\\"object\\\"==typeof t&&t.exports?t.exports=a():(r=a,void 0!==(o=\\\"function\\\"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o))}(0,function(t){\\\"use strict\\\";var e=t&&t.SecondLevelDomains,n={list:{ac:\\\" com gov mil net org \\\",ae:\\\" ac co gov mil name net org pro sch \\\",af:\\\" com edu gov net org \\\",al:\\\" com edu gov mil net org \\\",ao:\\\" co ed gv it og pb \\\",ar:\\\" com edu gob gov int mil net org tur \\\",at:\\\" ac co gv or \\\",au:\\\" asn com csiro edu gov id net org \\\",ba:\\\" co com edu gov mil net org rs unbi unmo unsa untz unze \\\",bb:\\\" biz co com edu gov info net org store tv \\\",bh:\\\" biz cc com edu gov info net org \\\",bn:\\\" com edu gov net org \\\",bo:\\\" com edu gob gov int mil net org tv \\\",br:\\\" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg \\\",bs:\\\" com edu gov net org \\\",bz:\\\" du et om ov rg \\\",ca:\\\" ab bc mb nb nf nl ns nt nu on pe qc sk yk \\\",ck:\\\" biz co edu gen gov info net org \\\",cn:\\\" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj \\\",co:\\\" com edu gov mil net nom org \\\",cr:\\\" ac c co ed fi go or sa \\\",cy:\\\" ac biz com ekloges gov ltd name net org parliament press pro tm \\\",do:\\\" art com edu gob gov mil net org sld web \\\",dz:\\\" art asso com edu gov net org pol \\\",ec:\\\" com edu fin gov info med mil net org pro \\\",eg:\\\" com edu eun gov mil name net org sci \\\",er:\\\" com edu gov ind mil net org rochest w \\\",es:\\\" com edu gob nom org \\\",et:\\\" biz com edu gov info name net org \\\",fj:\\\" ac biz com info mil name net org pro \\\",fk:\\\" ac co gov net nom org \\\",fr:\\\" asso com f gouv nom prd presse tm \\\",gg:\\\" co net org \\\",gh:\\\" com edu gov mil org \\\",gn:\\\" ac com gov net org \\\",gr:\\\" com edu gov mil net org \\\",gt:\\\" com edu gob ind mil net org \\\",gu:\\\" com edu gov net org \\\",hk:\\\" com edu gov idv net org \\\",hu:\\\" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video \\\",id:\\\" ac co go mil net or sch web \\\",il:\\\" ac co gov idf k12 muni net org \\\",in:\\\" ac co edu ernet firm gen gov i ind mil net nic org res \\\",iq:\\\" com edu gov i mil net org \\\",ir:\\\" ac co dnssec gov i id net org sch \\\",it:\\\" edu gov \\\",je:\\\" co net org \\\",jo:\\\" com edu gov mil name net org sch \\\",jp:\\\" ac ad co ed go gr lg ne or \\\",ke:\\\" ac co go info me mobi ne or sc \\\",kh:\\\" com edu gov mil net org per \\\",ki:\\\" biz com de edu gov info mob net org tel \\\",km:\\\" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire \\\",kn:\\\" edu gov net org \\\",kr:\\\" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan \\\",kw:\\\" com edu gov net org \\\",ky:\\\" com edu gov net org \\\",kz:\\\" com edu gov mil net org \\\",lb:\\\" com edu gov net org \\\",lk:\\\" assn com edu gov grp hotel int ltd net ngo org sch soc web \\\",lr:\\\" com edu gov net org \\\",lv:\\\" asn com conf edu gov id mil net org \\\",ly:\\\" com edu gov id med net org plc sch \\\",ma:\\\" ac co gov m net org press \\\",mc:\\\" asso tm \\\",me:\\\" ac co edu gov its net org priv \\\",mg:\\\" com edu gov mil nom org prd tm \\\",mk:\\\" com edu gov inf name net org pro \\\",ml:\\\" com edu gov net org presse \\\",mn:\\\" edu gov org \\\",mo:\\\" com edu gov net org \\\",mt:\\\" com edu gov net org \\\",mv:\\\" aero biz com coop edu gov info int mil museum name net org pro \\\",mw:\\\" ac co com coop edu gov int museum net org \\\",mx:\\\" com edu gob net org \\\",my:\\\" com edu gov mil name net org sch \\\",nf:\\\" arts com firm info net other per rec store web \\\",ng:\\\" biz com edu gov mil mobi name net org sch \\\",ni:\\\" ac co com edu gob mil net nom org \\\",np:\\\" com edu gov mil net org \\\",nr:\\\" biz com edu gov info net org \\\",om:\\\" ac biz co com edu gov med mil museum net org pro sch \\\",pe:\\\" com edu gob mil net nom org sld \\\",ph:\\\" com edu gov i mil net ngo org \\\",pk:\\\" biz com edu fam gob gok gon gop gos gov net org web \\\",pl:\\\" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora \\\",pr:\\\" ac biz com edu est gov info isla name net org pro prof \\\",ps:\\\" com edu gov net org plo sec \\\",pw:\\\" belau co ed go ne or \\\",ro:\\\" arts com firm info nom nt org rec store tm www \\\",rs:\\\" ac co edu gov in org \\\",sb:\\\" com edu gov net org \\\",sc:\\\" com edu gov net org \\\",sh:\\\" co com edu gov net nom org \\\",sl:\\\" com edu gov net org \\\",st:\\\" co com consulado edu embaixada gov mil net org principe saotome store \\\",sv:\\\" com edu gob org red \\\",sz:\\\" ac co org \\\",tr:\\\" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web \\\",tt:\\\" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel \\\",tw:\\\" club com ebiz edu game gov idv mil net org \\\",mu:\\\" ac co com gov net or org \\\",mz:\\\" ac co edu gov org \\\",na:\\\" co com \\\",nz:\\\" ac co cri geek gen govt health iwi maori mil net org parliament school \\\",pa:\\\" abo ac com edu gob ing med net nom org sld \\\",pt:\\\" com edu gov int net nome org publ \\\",py:\\\" com edu gov mil net org \\\",qa:\\\" com edu gov mil net org \\\",re:\\\" asso com nom \\\",ru:\\\" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk \\\",rw:\\\" ac co com edu gouv gov int mil net \\\",sa:\\\" com edu gov med net org pub sch \\\",sd:\\\" com edu gov info med net org tv \\\",se:\\\" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z \\\",sg:\\\" com edu gov idn net org per \\\",sn:\\\" art com edu gouv org perso univ \\\",sy:\\\" com edu gov mil net news org \\\",th:\\\" ac co go in mi net or \\\",tj:\\\" ac biz co com edu go gov info int mil name net nic org test web \\\",tn:\\\" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism \\\",tz:\\\" ac co go ne or \\\",ua:\\\" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt \\\",ug:\\\" ac co go ne or org sc \\\",uk:\\\" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc \\\",us:\\\" dni fed isa kids nsn \\\",uy:\\\" com edu gub mil net org \\\",ve:\\\" co com edu gob info mil net org web \\\",vi:\\\" co com k12 net org \\\",vn:\\\" ac biz com edu gov health info int name net org pro \\\",ye:\\\" co com gov ltd me net org plc \\\",yu:\\\" ac co edu gov org \\\",za:\\\" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web \\\",zm:\\\" ac co com edu gov net org sch \\\",com:\\\"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za \\\",net:\\\"gb jp se uk \\\",org:\\\"ae\\\",de:\\\"com \\\"},has:function(t){var e=t.lastIndexOf(\\\".\\\");if(e<=0||e>=t.length-1)return!1;var r=t.lastIndexOf(\\\".\\\",e-1);if(r<=0||r>=e-1)return!1;var o=n.list[t.slice(e+1)];return!!o&&o.indexOf(\\\" \\\"+t.slice(r+1,e)+\\\" \\\")>=0},is:function(t){var e=t.lastIndexOf(\\\".\\\");if(e<=0||e>=t.length-1)return!1;if(t.lastIndexOf(\\\".\\\",e-1)>=0)return!1;var r=n.list[t.slice(e+1)];return!!r&&r.indexOf(\\\" \\\"+t.slice(0,e)+\\\" \\\")>=0},get:function(t){var e=t.lastIndexOf(\\\".\\\");if(e<=0||e>=t.length-1)return null;var r=t.lastIndexOf(\\\".\\\",e-1);if(r<=0||r>=e-1)return null;var o=n.list[t.slice(e+1)];return o?o.indexOf(\\\" \\\"+t.slice(r+1,e)+\\\" \\\")<0?null:t.slice(r+1):null},noConflict:function(){return t.SecondLevelDomains===this&&(t.SecondLevelDomains=e),this}};return n})},function(t,e,n){\\\"use strict\\\";n.d(e,\\\"a\\\",function(){return i});var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError(\\\"Generator is already executing.\\\");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?\\\"return\\\":n[0]?\\\"throw\\\":\\\"next\\\"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},\\\"function\\\"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},i=function(){function t(){}return Object.defineProperty(t,\\\"brightcoveConfig\\\",{get:function(){return window.__brightcoveConfig},enumerable:!0,configurable:!0}),t.updateStatusMessage=function(t){var e=document.getElementById(\\\"statusLabel\\\");e&&(e.childNodes[0].nodeValue=t)},t.timeout=function(t,e,n){var r;return Promise.race([t,new Promise(function(t,o){r=setTimeout(function(){o(new Error(n||\\\"Timeout Error\\\"))},e)})]).then(function(t){return clearTimeout(r),t},function(t){throw clearTimeout(r),t})},t.postMessage=function(t,e){t&&\\\"function\\\"==typeof t.postMessage&&t.postMessage(e,\\\"*\\\",e.transferrableData?[e.transferrableData]:void 0)},t.postMessageError=function(t,e,n,r){var o={$$command:e,$$postMessageId:n,$$result:\\\"error\\\",message:r,type:Object.prototype.toString.call(r),context:\\\"proxy\\\"};if(\\\"object\\\"==typeof r){o.name=r.name,o.message=r.message,o.stack=r.stack;for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);o.originalError&&(o.originalError=JSON.stringify(o.originalError))}this.postMessage(t,o)},t.postProgress=function(t,e,n,r){var o={$$command:e,$$postMessageId:n,$$result:\\\"progress\\\",data:r};this.postMessage(t,o)},t.executePendingQuery=function(t){return r(this,void 0,void 0,function(){var e,n,r;return o(this,function(o){if(!t)throw Error(\\\"A ClientContext must be specified.\\\");return r=new Promise(function(t,r){e=t,n=r}),t.executeQueryAsync(function(t,n){e(n)},function(t,e){var r=new Error(e.get_message());r.spError=e,n(r)}),[2,r]})})},t}()},function(t,e,n){\\\"use strict\\\";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(1),i=n(76),a=n(381),s=n(34),u=n(382),c=n(33),l=n(392);e.util=o.Util,e.sp=new u.SPRest,e.graph=new l.GraphRest,e.storage=new i.PnPClientStorage,e.config=new a.Settings,e.log=s.Logger,e.setup=c.setRuntimeConfig,r(n(401)),r(n(404)),r(n(406)),r(n(409)),r(n(410));var p={config:e.config,graph:e.graph,log:e.log,setup:e.setup,sp:e.sp,storage:e.storage,util:e.util};e.default=p},function(t,e,n){\\\"use strict\\\";(function(t){Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var n=function(){function e(){}return e.prototype.fetch=function(e,n){return t.fetch(e,n)},e}();e.FetchClient=n}).call(e,n(62))},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(1),a=function(){function t(t,e){void 0===t&&(t=\\\"\\\"),void 0===e&&(e={}),this._query=e,\\\"string\\\"==typeof t&&t.length>0&&this.extendQuery({Querytext:t})}return t.create=function(e,n){return void 0===e&&(e=\\\"\\\"),void 0===n&&(n={}),new t(e,n)},t.prototype.text=function(t){return this.extendQuery({Querytext:t})},t.prototype.template=function(t){return this.extendQuery({QueryTemplate:t})},t.prototype.sourceId=function(t){return this.extendQuery({SourceId:t})},Object.defineProperty(t.prototype,\\\"enableInterleaving\\\",{get:function(){return this.extendQuery({EnableInterleaving:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"enableStemming\\\",{get:function(){return this.extendQuery({EnableStemming:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"trimDuplicates\\\",{get:function(){return this.extendQuery({TrimDuplicates:!0})},enumerable:!0,configurable:!0}),t.prototype.trimDuplicatesIncludeId=function(t){return this.extendQuery({TrimDuplicatesIncludeId:t})},Object.defineProperty(t.prototype,\\\"enableNicknames\\\",{get:function(){return this.extendQuery({EnableNicknames:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"enableFql\\\",{get:function(){return this.extendQuery({EnableFQL:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"enablePhonetic\\\",{get:function(){return this.extendQuery({EnablePhonetic:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"bypassResultTypes\\\",{get:function(){return this.extendQuery({BypassResultTypes:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"processBestBets\\\",{get:function(){return this.extendQuery({ProcessBestBets:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"enableQueryRules\\\",{get:function(){return this.extendQuery({EnableQueryRules:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"enableSorting\\\",{get:function(){return this.extendQuery({EnableSorting:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"generateBlockRankLog\\\",{get:function(){return this.extendQuery({GenerateBlockRankLog:!0})},enumerable:!0,configurable:!0}),t.prototype.rankingModelId=function(t){return this.extendQuery({RankingModelId:t})},t.prototype.startRow=function(t){return this.extendQuery({StartRow:t})},t.prototype.rowLimit=function(t){return this.extendQuery({RowLimit:t})},t.prototype.rowsPerPage=function(t){return this.extendQuery({RowsPerPage:t})},t.prototype.selectProperties=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extendQuery({SelectProperties:t})},t.prototype.culture=function(t){return this.extendQuery({Culture:t})},t.prototype.timeZoneId=function(t){return this.extendQuery({TimeZoneId:t})},t.prototype.refinementFilters=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extendQuery({RefinementFilters:t})},t.prototype.refiners=function(t){return this.extendQuery({Refiners:t})},t.prototype.hiddenConstraints=function(t){return this.extendQuery({HiddenConstraints:t})},t.prototype.sortList=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extendQuery({SortList:t})},t.prototype.timeout=function(t){return this.extendQuery({Timeout:t})},t.prototype.hithighlightedProperties=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extendQuery({HitHighlightedProperties:t})},t.prototype.clientType=function(t){return this.extendQuery({ClientType:t})},t.prototype.personalizationData=function(t){return this.extendQuery({PersonalizationData:t})},t.prototype.resultsURL=function(t){return this.extendQuery({ResultsUrl:t})},t.prototype.queryTag=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extendQuery({QueryTag:t})},t.prototype.properties=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extendQuery({Properties:t})},Object.defineProperty(t.prototype,\\\"processPersonalFavorites\\\",{get:function(){return this.extendQuery({ProcessPersonalFavorites:!0})},enumerable:!0,configurable:!0}),t.prototype.queryTemplatePropertiesUrl=function(t){return this.extendQuery({QueryTemplatePropertiesUrl:t})},t.prototype.reorderingRules=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extendQuery({ReorderingRules:t})},t.prototype.hitHighlightedMultivaluePropertyLimit=function(t){return this.extendQuery({HitHighlightedMultivaluePropertyLimit:t})},Object.defineProperty(t.prototype,\\\"enableOrderingHitHighlightedProperty\\\",{get:function(){return this.extendQuery({EnableOrderingHitHighlightedProperty:!0})},enumerable:!0,configurable:!0}),t.prototype.collapseSpecification=function(t){return this.extendQuery({CollapseSpecification:t})},t.prototype.uiLanguage=function(t){return this.extendQuery({UILanguage:t})},t.prototype.desiredSnippetLength=function(t){return this.extendQuery({DesiredSnippetLength:t})},t.prototype.maxSnippetLength=function(t){return this.extendQuery({MaxSnippetLength:t})},t.prototype.summaryLength=function(t){return this.extendQuery({SummaryLength:t})},t.prototype.toSearchQuery=function(){return this._query},t.prototype.extendQuery=function(t){return this._query=i.Util.extend(this._query,t),this},t}();e.SearchQueryBuilder=a;var s=function(t){function e(e,n){return void 0===n&&(n=\\\"_api/search/postquery\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.execute=function(t){var e,n=this;e=t,e.SelectProperties&&(e.SelectProperties=this.fixupProp(t.SelectProperties)),e.RefinementFilters&&(e.RefinementFilters=this.fixupProp(t.RefinementFilters)),e.SortList&&(e.SortList=this.fixupProp(t.SortList)),e.HithighlightedProperties&&(e.HithighlightedProperties=this.fixupProp(t.HitHighlightedProperties)),e.ReorderingRules&&(e.ReorderingRules=this.fixupProp(t.ReorderingRules)),e.Properties&&(e.Properties=this.fixupProp(t.Properties));var r=JSON.stringify({request:i.Util.extend({__metadata:{type:\\\"Microsoft.Office.Server.Search.REST.SearchRequest\\\"}},e)});return this.postCore({body:r}).then(function(e){return new u(e,n.toUrl(),t)})},e.prototype.fixupProp=function(t){return t.hasOwnProperty(\\\"results\\\")?t:{results:t}},e}(o.SharePointQueryableInstance);e.Search=s;var u=function(){function t(t,e,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null),this._url=e,this._query=n,this._raw=r,this._primary=o,this._raw=t.postquery?t.postquery:t}return Object.defineProperty(t.prototype,\\\"ElapsedTime\\\",{get:function(){return this.RawSearchResults.ElapsedTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"RowCount\\\",{get:function(){return this.RawSearchResults.PrimaryQueryResult.RelevantResults.RowCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"TotalRows\\\",{get:function(){return this.RawSearchResults.PrimaryQueryResult.RelevantResults.TotalRows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"TotalRowsIncludingDuplicates\\\",{get:function(){return this.RawSearchResults.PrimaryQueryResult.RelevantResults.TotalRowsIncludingDuplicates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"RawSearchResults\\\",{get:function(){return this._raw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"PrimarySearchResults\\\",{get:function(){return null===this._primary&&(this._primary=this.formatSearchResults(this._raw.PrimaryQueryResult.RelevantResults.Table.Rows)),this._primary},enumerable:!0,configurable:!0}),t.prototype.getPage=function(t,e){if(this.TotalRows<this.RowCount)return Promise.resolve(null);var n=void 0!==e?e:this._query.hasOwnProperty(\\\"RowLimit\\\")?this._query.RowLimit:10,r=i.Util.extend(this._query,{RowLimit:n,StartRow:n*(t-1)});return r.StartRow>this.TotalRows?Promise.resolve(null):new s(this._url,null).execute(r)},t.prototype.formatSearchResults=function(t){for(var e=new Array,n=t.results?t.results:t,r=0,o=n;r<o.length;r++){var i=o[r],a=i.Cells.results?i.Cells.results:i.Cells;e.push(a.reduce(function(t,e){return Object.defineProperty(t,e.Key,{configurable:!1,enumerable:!1,value:e.Value,writable:!1}),t},{}))}return e},t}();e.SearchResults=u,function(t){t[t.Ascending=0]=\\\"Ascending\\\",t[t.Descending=1]=\\\"Descending\\\",t[t.FQLFormula=2]=\\\"FQLFormula\\\"}(e.SortDirection||(e.SortDirection={})),function(t){t[t.ResultContainsKeyword=0]=\\\"ResultContainsKeyword\\\",t[t.TitleContainsKeyword=1]=\\\"TitleContainsKeyword\\\",t[t.TitleMatchesKeyword=2]=\\\"TitleMatchesKeyword\\\",t[t.UrlStartsWith=3]=\\\"UrlStartsWith\\\",t[t.UrlExactlyMatches=4]=\\\"UrlExactlyMatches\\\",t[t.ContentTypeIs=5]=\\\"ContentTypeIs\\\",t[t.FileExtensionMatches=6]=\\\"FileExtensionMatches\\\",t[t.ResultHasTag=7]=\\\"ResultHasTag\\\",t[t.ManualCondition=8]=\\\"ManualCondition\\\"}(e.ReorderingRuleMatchType||(e.ReorderingRuleMatchType={})),function(t){t[t.None=0]=\\\"None\\\",t[t.StringType=1]=\\\"StringType\\\",t[t.Int32Type=2]=\\\"Int32Type\\\",t[t.BooleanType=3]=\\\"BooleanType\\\",t[t.StringArrayType=4]=\\\"StringArrayType\\\",t[t.UnSupportedType=5]=\\\"UnSupportedType\\\"}(e.QueryPropertyValueType||(e.QueryPropertyValueType={}));var c=function(){function t(){}return t.Documents=\\\"e7ec8cee-ded8-43c9-beb5-436b54b31e84\\\",t.ItemsMatchingContentType=\\\"5dc9f503-801e-4ced-8a2c-5d1237132419\\\",t.ItemsMatchingTag=\\\"e1327b9c-2b8c-4b23-99c9-3730cb29c3f7\\\",t.ItemsRelatedToCurrentUser=\\\"48fec42e-4a92-48ce-8363-c2703a40e67d\\\",t.ItemsWithSameKeywordAsThisItem=\\\"5c069288-1d17-454a-8ac6-9c642a065f48\\\",t.LocalPeopleResults=\\\"b09a7990-05ea-4af9-81ef-edfab16c4e31\\\",t.LocalReportsAndDataResults=\\\"203fba36-2763-4060-9931-911ac8c0583b\\\",t.LocalSharePointResults=\\\"8413cd39-2156-4e00-b54d-11efd9abdb89\\\",t.LocalVideoResults=\\\"78b793ce-7956-4669-aa3b-451fc5defebf\\\",t.Pages=\\\"5e34578e-4d08-4edc-8bf3-002acf3cdbcc\\\",t.Pictures=\\\"38403c8c-3975-41a8-826e-717f2d41568a\\\",t.Popular=\\\"97c71db1-58ce-4891-8b64-585bc2326c12\\\",t.RecentlyChangedItems=\\\"ba63bbae-fa9c-42c0-b027-9a878f16557c\\\",t.RecommendedItems=\\\"ec675252-14fa-4fbe-84dd-8d098ed74181\\\",t.Wiki=\\\"9479bf85-e257-4318-b5a8-81a180f5faa1\\\",t}();e.SearchBuiltInSourceId=c},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(76),o=n(1),i=n(33),a=function(){function t(t){this.key=t,this.expiration=o.Util.dateAdd(new Date,\\\"second\\\",i.RuntimeConfig.defaultCachingTimeoutSeconds),this.storeName=i.RuntimeConfig.defaultCachingStore}return Object.defineProperty(t.prototype,\\\"store\\\",{get:function(){return\\\"local\\\"===this.storeName?t.storage.local:t.storage.session},enumerable:!0,configurable:!0}),t.storage=new r.PnPClientStorage,t}();e.CachingOptions=a;var s=function(){function t(t,e){this._parser=t,this._cacheOptions=e}return t.prototype.parse=function(t){var e=this;return this._parser.parse(t).then(function(t){return null!==e._cacheOptions.store&&e._cacheOptions.store.put(e._cacheOptions.key,t,e._cacheOptions.expiration),t})},t}();e.CachingParserWrapper=s},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=function(t){function e(e,n){return void 0===n&&(n=\\\"_api/search/suggest\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.execute=function(t){return this.mapQueryToQueryString(t),this.get().then(function(t){return new a(t)})},e.prototype.mapQueryToQueryString=function(t){this.query.add(\\\"querytext\\\",\\\"'\\\"+t.querytext+\\\"'\\\"),t.hasOwnProperty(\\\"count\\\")&&this.query.add(\\\"inumberofquerysuggestions\\\",t.count.toString()),t.hasOwnProperty(\\\"personalCount\\\")&&this.query.add(\\\"inumberofresultsuggestions\\\",t.personalCount.toString()),t.hasOwnProperty(\\\"preQuery\\\")&&this.query.add(\\\"fprequerysuggestions\\\",t.preQuery.toString()),t.hasOwnProperty(\\\"hitHighlighting\\\")&&this.query.add(\\\"fhithighlighting\\\",t.hitHighlighting.toString()),t.hasOwnProperty(\\\"capitalize\\\")&&this.query.add(\\\"fcapitalizefirstletters\\\",t.capitalize.toString()),t.hasOwnProperty(\\\"culture\\\")&&this.query.add(\\\"culture\\\",t.culture.toString()),t.hasOwnProperty(\\\"stemming\\\")&&this.query.add(\\\"enablestemming\\\",t.stemming.toString()),t.hasOwnProperty(\\\"includePeople\\\")&&this.query.add(\\\"showpeoplenamesuggestions\\\",t.includePeople.toString()),t.hasOwnProperty(\\\"queryRules\\\")&&this.query.add(\\\"enablequeryrules\\\",t.queryRules.toString()),t.hasOwnProperty(\\\"prefixMatch\\\")&&this.query.add(\\\"fprefixmatchallterms\\\",t.prefixMatch.toString())},e}(o.SharePointQueryableInstance);e.SearchSuggest=i;var a=function(){function t(t){t.hasOwnProperty(\\\"suggest\\\")?(this.PeopleNames=t.suggest.PeopleNames.results,this.PersonalResults=t.suggest.PersonalResults.results,this.Queries=t.suggest.Queries.results):(this.PeopleNames=t.PeopleNames,this.PersonalResults=t.PersonalResults,this.Queries=t.Queries)}return t}();e.SearchSuggestResult=a},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(60),a=n(115),s=n(30),u=n(117),c=n(167),l=function(t){function e(e,n){return void 0===n&&(n=\\\"_api/site\\\"),t.call(this,e,n)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"rootWeb\\\",{get:function(){return new i.Web(this,\\\"rootweb\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"features\\\",{get:function(){return new c.Features(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"userCustomActions\\\",{get:function(){return new a.UserCustomActions(this)},enumerable:!0,configurable:!0}),e.prototype.getRootWeb=function(){return this.rootWeb.select(\\\"Url\\\").get().then(function(t){return new i.Web(t.Url)})},e.prototype.getContextInfo=function(){return new e(this.parentUrl,\\\"_api/contextinfo\\\").postCore().then(function(t){if(t.hasOwnProperty(\\\"GetContextWebInformation\\\")){var e=t.GetContextWebInformation;return e.SupportedSchemaVersions=e.SupportedSchemaVersions.results,e}return t})},e.prototype.getDocumentLibraries=function(t){var e=new o.SharePointQueryable(\\\"\\\",\\\"_api/sp.web.getdocumentlibraries(@v)\\\");return e.query.add(\\\"@v\\\",\\\"'\\\"+t+\\\"'\\\"),e.get().then(function(t){return t.hasOwnProperty(\\\"GetDocumentLibraries\\\")?t.GetDocumentLibraries:t})},e.prototype.getWebUrlFromPageUrl=function(t){var e=new o.SharePointQueryable(\\\"\\\",\\\"_api/sp.web.getweburlfrompageurl(@v)\\\");return e.query.add(\\\"@v\\\",\\\"'\\\"+t+\\\"'\\\"),e.get().then(function(t){return t.hasOwnProperty(\\\"GetWebUrlFromPageUrl\\\")?t.GetWebUrlFromPageUrl:t})},e.prototype.createBatch=function(){return new u.ODataBatch(this.parentUrl)},e.prototype.openWebById=function(t){return this.clone(e,\\\"openWebById('\\\"+t+\\\"')\\\").postCore().then(function(t){return{data:t,web:i.Web.fromUrl(s.spExtractODataId(t))}})},e}(o.SharePointQueryableInstance);e.Site=l},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(60),i=n(111),a=n(80),s=n(6),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"roleAssignments\\\",{get:function(){return new i.RoleAssignments(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"firstUniqueAncestorSecurableObject\\\",{get:function(){return new s.SharePointQueryableInstance(this,\\\"FirstUniqueAncestorSecurableObject\\\")},enumerable:!0,configurable:!0}),e.prototype.getUserEffectivePermissions=function(t){var e=this.clone(s.SharePointQueryable,\\\"getUserEffectivePermissions(@user)\\\");return e.query.add(\\\"@user\\\",\\\"'\\\"+encodeURIComponent(t)+\\\"'\\\"),e.get().then(function(t){return t.hasOwnProperty(\\\"GetUserEffectivePermissions\\\")?t.GetUserEffectivePermissions:t})},e.prototype.getCurrentUserEffectivePermissions=function(){var t=this;return o.Web.fromUrl(this.toUrl()).currentUser.select(\\\"LoginName\\\").getAs().then(function(e){return t.getUserEffectivePermissions(e.LoginName)})},e.prototype.breakRoleInheritance=function(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.clone(e,\\\"breakroleinheritance(copyroleassignments=\\\"+t+\\\", clearsubscopes=\\\"+n+\\\")\\\").postCore()},e.prototype.resetRoleInheritance=function(){return this.clone(e,\\\"resetroleinheritance\\\").postCore()},e.prototype.userHasPermissions=function(t,e){var n=this;return this.getUserEffectivePermissions(t).then(function(t){return n.hasPermissions(t,e)})},e.prototype.currentUserHasPermissions=function(t){var e=this;return this.getCurrentUserEffectivePermissions().then(function(n){return e.hasPermissions(n,t)})},e.prototype.hasPermissions=function(t,e){if(!e)return!0;var n=parseFloat(t.Low),r=parseFloat(t.High);if(e===a.PermissionKind.FullMask)return 32767==(32767&r)&&65535===n;e-=1;var o=1;return e>=0&&e<32?(o<<=e,0!=(n&o)):e>=32&&e<64&&(o<<=e-32,0!=(r&o))},e}(s.SharePointQueryableInstance);e.SharePointQueryableSecurable=u},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(112),a=n(1),s=function(t){function e(e,n){return void 0===n&&(n=\\\"siteusers\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getByEmail=function(t){return new u(this,\\\"getByEmail('\\\"+t+\\\"')\\\")},e.prototype.getById=function(t){return new u(this,\\\"getById(\\\"+t+\\\")\\\")},e.prototype.getByLoginName=function(t){var e=new u(this);return e.concat(\\\"('!@v::\\\"+encodeURIComponent(t)+\\\"')\\\"),e},e.prototype.removeById=function(t){return this.clone(e,\\\"removeById(\\\"+t+\\\")\\\").postCore()},e.prototype.removeByLoginName=function(t){var n=this.clone(e,\\\"removeByLoginName(@v)\\\");return n.query.add(\\\"@v\\\",\\\"'\\\"+encodeURIComponent(t)+\\\"'\\\"),n.postCore()},e.prototype.add=function(t){var n=this;return this.clone(e,null).postCore({body:JSON.stringify({__metadata:{type:\\\"SP.User\\\"},LoginName:t})}).then(function(){return n.getByLoginName(t)})},e}(o.SharePointQueryableCollection);e.SiteUsers=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"groups\\\",{get:function(){return new i.SiteGroups(this,\\\"groups\\\")},enumerable:!0,configurable:!0}),e.prototype.update=function(t){var e=this,n=a.Util.extend({__metadata:{type:\\\"SP.User\\\"}},t);return this.postCore({body:JSON.stringify(n),headers:{\\\"X-HTTP-Method\\\":\\\"MERGE\\\"}}).then(function(t){return{data:t,user:e}})},e.prototype.delete=function(){return this.postCore({headers:{\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e}(o.SharePointQueryableInstance);e.SiteUser=u;var c=function(t){function e(e,n){return void 0===n&&(n=\\\"currentuser\\\"),t.call(this,e,n)||this}return r(e,t),e}(o.SharePointQueryableInstance);e.CurrentUser=c},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"webparts\\\",{get:function(){return new a(this,\\\"webparts\\\")},enumerable:!0,configurable:!0}),e.prototype.export=function(t){return this.clone(e,\\\"ExportWebPart\\\").postCore({body:JSON.stringify({webPartId:t})})},e.prototype.import=function(t){return this.clone(e,\\\"ImportWebPart\\\").postCore({body:JSON.stringify({webPartXml:t})})},e}(o.SharePointQueryable);e.LimitedWebPartManager=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getById=function(t){return new s(this,\\\"getbyid('\\\"+t+\\\"')\\\")},e.prototype.getByControlId=function(t){return new s(this,\\\"getByControlId('\\\"+t+\\\"')\\\")},e}(o.SharePointQueryableCollection);e.WebPartDefinitions=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"webpart\\\",{get:function(){return new u(this)},enumerable:!0,configurable:!0}),e.prototype.saveChanges=function(){return this.clone(e,\\\"SaveWebPartChanges\\\").postCore()},e.prototype.moveTo=function(t,n){return this.clone(e,\\\"MoveWebPartTo(zoneID='\\\"+t+\\\"', zoneIndex=\\\"+n+\\\")\\\").postCore()},e.prototype.close=function(){return this.clone(e,\\\"CloseWebPart\\\").postCore()},e.prototype.open=function(){return this.clone(e,\\\"OpenWebPart\\\").postCore()},e.prototype.delete=function(){return this.clone(e,\\\"DeleteWebPart\\\").postCore()},e}(o.SharePointQueryableInstance);e.WebPartDefinition=s;var u=function(t){function e(e,n){return void 0===n&&(n=\\\"webpart\\\"),t.call(this,e,n)||this}return r(e,t),e}(o.SharePointQueryableInstance);e.WebPart=u},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=function(t){function e(e,n){return void 0===n&&(n=\\\"features\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){var e=new a(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e.prototype.add=function(t,n){var r=this;return void 0===n&&(n=!1),this.clone(e,\\\"add\\\").postCore({body:JSON.stringify({featdefScope:0,featureId:t,force:n})}).then(function(e){return{data:e,feature:r.getById(t)}})},e.prototype.remove=function(t,n){return void 0===n&&(n=!1),this.clone(e,\\\"remove\\\").postCore({body:JSON.stringify({featureId:t,force:n})})},e}(o.SharePointQueryableCollection);e.Features=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.deactivate=function(t){var n=this;void 0===t&&(t=!1);var r=this.addBatchDependency();return new e(this).select(\\\"DefinitionId\\\").getAs().then(function(e){var o=n.getParent(i,n.parentUrl,\\\"\\\",n.batch).remove(e.DefinitionId,t);return r(),o})},e}(o.SharePointQueryableInstance);e.Feature=a},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(49),a=n(30),s=n(1),u=function(t){function e(e,n){void 0===n&&(n=\\\"_api/web/tenantappcatalog/AvailableApps\\\");var r=\\\"\\\";return\\\"string\\\"==typeof e?r=e:void 0!==e&&(r=e.toUrl()),t.call(this,s.extractWebUrl(r),n)||this}return r(e,t),e.prototype.getAppById=function(t){return new c(this,\\\"getById('\\\"+t+\\\"')\\\")},e.prototype.add=function(t,n,r){return void 0===r&&(r=!0),new e(s.extractWebUrl(this.toUrl()),\\\"_api/web/tenantappcatalog/add(overwrite=\\\"+r+\\\",url='\\\"+t+\\\"')\\\").postCore({body:n}).then(function(t){return{data:t,file:new i.File(a.spExtractODataId(t))}})},e}(o.SharePointQueryableCollection);e.AppCatalog=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.deploy=function(){return this.clone(e,\\\"Deploy\\\").postCore()},e.prototype.retract=function(){return this.clone(e,\\\"Retract\\\").postCore()},e.prototype.install=function(){return this.clone(e,\\\"Install\\\").postCore()},e.prototype.uninstall=function(){return this.clone(e,\\\"Uninstall\\\").postCore()},e.prototype.upgrade=function(){return this.clone(e,\\\"Upgrade\\\").postCore()},e.prototype.remove=function(){return this.clone(e,\\\"Remove\\\").postCore()},e}(o.SharePointQueryableInstance);e.App=c},function(t,e,n){\\\"use strict\\\";function r(t){return t.length<1?1:Math.max.apply(null,t.map(function(t){return t.order}))+1}function o(t,e){void 0===e&&(e=0);var n=this.substring(e).search(t);return n>=0?n+e:n}function i(t,e){var n=new RegExp(e+'=\\\"([^\\\"]*?)\\\"',\\\"i\\\"),r=n.exec(t);return r.length>0?r[1]:null}function a(t,e,n){var r=[];if(void 0===t||null===t)return r;var i=t.replace(/[\\\\t\\\\r\\\\n]/g,\\\"\\\"),a=o.call(i,e);if(a<0)return r;for(;a>-1;){for(var s=1,u=a+1,c=-1,l=-1;;){if(c=o.call(i,/<div[^>]*>/i,u),l=o.call(i,/<\\\\/div>/i,u),c<0&&(c=i.length+1),c<l?(s++,u=c+1):l<c&&(s--,u=l+1),0===s){var p=i.substring(a,l+6).trim();r.push(n(p));break}if(s>1e3||s<0)throw new Error(\\\"getBoundedDivMarkup exceeded depth parameters.\\\")}a=o.call(i,e,l)}return r}function s(t){for(var e=0;e<t.length;e++)t[e].order=e+1,t[e].hasOwnProperty(\\\"columns\\\")?s(t[e].columns):t[e].hasOwnProperty(\\\"controls\\\")&&s(t[e].controls)}var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var c=n(49),l=n(61),p=n(1),f=function(t){function e(e,n,r){void 0===n&&(n=[]),void 0===r&&(r=!1);var o=t.call(this,e)||this;return o.sections=n,o.commentsDisabled=r,o}return u(e,t),e.create=function(t,n,r,o){return void 0===o&&(o=\\\"Article\\\"),t.rootFolder.files.select(\\\"Name\\\").filter(\\\"Name eq '\\\"+n+\\\"'\\\").get().then(function(i){if(i.length>0)throw new Error(\\\"A file with the name '\\\"+n+\\\"' already exists in the library '\\\"+t.toUrl()+\\\"'.\\\");return t.rootFolder.select(\\\"ServerRelativePath\\\").get().then(function(i){var a=p.Util.combinePaths(\\\"/\\\",i.ServerRelativePath.DecodedUrl,n);return t.rootFolder.files.addTemplateFile(a,c.TemplateFileType.ClientSidePage).then(function(t){return t.file.getItem().then(function(t){return t.update({BannerImageUrl:{Url:\\\"/_layouts/15/images/sitepagethumbnail.png\\\"},CanvasContent1:\\\"\\\",ClientSideApplicationId:\\\"b6917cb1-93a0-4b97-a84d-7cf49975d4ec\\\",ContentTypeId:\\\"0x0101009D1CB255DA76424F860D91F20E6C4118\\\",PageLayoutType:o,PromotedState:0,Title:r}).then(function(t){return new e(t.item.file,t.item.CommentsDisabled)})})})})})},e.fromFile=function(t){var n=new e(t);return n.load().then(function(t){return n})},e.jsonToEscapedString=function(t){return JSON.stringify(t).replace(/\\\"/g,\\\"&quot;\\\").replace(/:/g,\\\"&#58;\\\").replace(/{/g,\\\"&#123;\\\").replace(/}/g,\\\"&#125;\\\")},e.escapedStringToJson=function(t){return JSON.parse(t.replace(/&quot;/g,'\\\"').replace(/&#58;/g,\\\":\\\").replace(/&#123;/g,\\\"{\\\").replace(/&#125;/g,\\\"}\\\"))},e.prototype.addSection=function(){var t=new h(this,r(this.sections));return this.sections.push(t),t},e.prototype.toHtml=function(){s(this.sections);var t=[];t.push(\\\"<div>\\\");for(var e=0;e<this.sections.length;e++)t.push(this.sections[e].toHtml());return t.push(\\\"</div>\\\"),t.join(\\\"\\\")},e.prototype.fromHtml=function(t){var e=this;return this.sections=[],a(t,/<div\\\\b[^>]*data-sp-canvascontrol[^>]*?>/i,function(t){var n=/controlType&quot;&#58;(\\\\d*?),/i.exec(t),r=null==n||n.length<2?0:parseInt(n[1],10),o=null;switch(r){case 0:o=new y(null,0),o.fromHtml(t),e.mergeColumnToTree(o);break;case 3:o=new v(\\\"\\\"),o.fromHtml(t),e.mergeControlToTree(o);break;case 4:o=new g,o.fromHtml(t),e.mergeControlToTree(o)}}),s(this.sections),this},e.prototype.load=function(){var t=this;return this.getItem(\\\"CanvasContent1\\\",\\\"CommentsDisabled\\\").then(function(e){t.fromHtml(e.CanvasContent1),t.commentsDisabled=e.CommentsDisabled})},e.prototype.save=function(){return this.updateProperties({CanvasContent1:this.toHtml()})},e.prototype.enableComments=function(){var t=this;return this.setCommentsOn(!0).then(function(e){return t.commentsDisabled=!1,e})},e.prototype.disableComments=function(){var t=this;return this.setCommentsOn(!1).then(function(e){return t.commentsDisabled=!0,e})},e.prototype.findControlById=function(t){return this.findControl(function(e){return e.id===t})},e.prototype.findControl=function(t){for(var e=0;e<this.sections.length;e++)for(var n=0;n<this.sections[e].columns.length;n++)for(var r=0;r<this.sections[e].columns[n].controls.length;r++)if(t(this.sections[e].columns[n].controls[r]))return this.sections[e].columns[n].controls[r];return null},e.prototype.setCommentsOn=function(t){return this.getItem().then(function(e){return new l.Item(e,\\\"SetCommentsDisabled(\\\"+!t+\\\")\\\").update({})})},e.prototype.mergeControlToTree=function(t){var e=null,n=null,r=this.sections.filter(function(e){return e.order===t.controlData.position.zoneIndex});r.length<1?(e=new h(this,t.controlData.position.zoneIndex),this.sections.push(e)):e=r[0];var o=e.columns.filter(function(e){return e.order===t.controlData.position.sectionIndex});o.length<1?(n=new y(e,t.controlData.position.sectionIndex,t.controlData.position.sectionFactor),e.columns.push(n)):n=o[0],t.column=n,n.addControl(t)},e.prototype.mergeColumnToTree=function(t){var e=null,n=this.sections.filter(function(e){return e.order===t.controlData.position.zoneIndex});n.length<1?(e=new h(this,t.controlData.position.zoneIndex),this.sections.push(e)):e=n[0],t.section=e,e.columns.push(t)},e.prototype.updateProperties=function(t,e){return void 0===e&&(e=\\\"*\\\"),this.getItem().then(function(n){return n.update(t,e)})},e}(c.File);e.ClientSidePage=f;var h=function(){function t(t,e,n){void 0===n&&(n=[]),this.page=t,this.order=e,this.columns=n}return Object.defineProperty(t.prototype,\\\"defaultColumn\\\",{get:function(){return this.columns.length<1&&this.addColumn(12),this.columns[0]},enumerable:!0,configurable:!0}),t.prototype.addColumn=function(t){var e=new y(this,r(this.columns),t);return this.columns.push(e),e},t.prototype.addControl=function(t){return this.defaultColumn.addControl(t),this},t.prototype.toHtml=function(){for(var t=[],e=0;e<this.columns.length;e++)t.push(this.columns[e].toHtml());return t.join(\\\"\\\")},t}();e.CanvasSection=h;var d=function(){function t(t,e,n,r,o,i){void 0===n&&(n=null),void 0===r&&(r=1),void 0===o&&(o=p.Util.getGUID()),void 0===i&&(i=null),this.controlType=t,this.dataVersion=e,this.column=n,this.order=r,this.id=o,this.controlData=i}return Object.defineProperty(t.prototype,\\\"jsonData\\\",{get:function(){return f.jsonToEscapedString(this.getControlData())},enumerable:!0,configurable:!0}),t.prototype.fromHtml=function(t){this.controlData=f.escapedStringToJson(i(t,\\\"data-sp-controldata\\\")),this.dataVersion=i(t,\\\"data-sp-canvasdataversion\\\"),this.controlType=this.controlData.controlType,this.id=this.controlData.id},t}();e.CanvasControl=d;var y=function(t){function e(e,n,r,o,i){void 0===r&&(r=12),void 0===o&&(o=[]),void 0===i&&(i=\\\"1.0\\\");var a=t.call(this,0,i)||this;return a.section=e,a.order=n,a.factor=r,a.controls=o,a}return u(e,t),e.prototype.addControl=function(t){return t.column=this,this.controls.push(t),this},e.prototype.getControl=function(t){return this.controls[t]},e.prototype.toHtml=function(){var t=[];if(this.controls.length<1)t.push('<div data-sp-canvascontrol=\\\"\\\" data-sp-canvasdataversion=\\\"'+this.dataVersion+'\\\" data-sp-controldata=\\\"'+this.jsonData+'\\\"></div>');else for(var e=0;e<this.controls.length;e++)t.push(this.controls[e].toHtml(e+1));return t.join(\\\"\\\")},e.prototype.fromHtml=function(e){t.prototype.fromHtml.call(this,e),this.controlData=f.escapedStringToJson(i(e,\\\"data-sp-controldata\\\")),this.factor=this.controlData.position.sectionFactor,this.order=this.controlData.position.sectionIndex},e.prototype.getControlData=function(){return{displayMode:2,position:{sectionFactor:this.factor,sectionIndex:this.order,zoneIndex:this.section.order}}},e}(d);e.CanvasColumn=y;var g=function(t){function e(e){void 0===e&&(e=\\\"\\\");var n=t.call(this,4,\\\"1.0\\\")||this;return n.text=e,n}return u(e,t),Object.defineProperty(e.prototype,\\\"text\\\",{get:function(){return this._text},set:function(t){t.startsWith(\\\"<p>\\\")||(t=\\\"<p>\\\"+t+\\\"</p>\\\"),this._text=t},enumerable:!0,configurable:!0}),e.prototype.getControlData=function(){return{controlType:this.controlType,editorType:\\\"CKEditor\\\",id:this.id,position:{controlIndex:this.order,sectionFactor:this.column.factor,sectionIndex:this.column.order,zoneIndex:this.column.section.order}}},e.prototype.toHtml=function(t){this.order=t;var e=[];return e.push('<div data-sp-canvascontrol=\\\"\\\" data-sp-canvasdataversion=\\\"'+this.dataVersion+'\\\" data-sp-controldata=\\\"'+this.jsonData+'\\\">'),e.push('<div data-sp-rte=\\\"\\\">'),e.push(\\\"\\\"+this.text),e.push(\\\"</div>\\\"),e.push(\\\"</div>\\\"),e.join(\\\"\\\")},e.prototype.fromHtml=function(e){t.prototype.fromHtml.call(this,e);var n=/<div[^>]*data-sp-rte[^>]*>(.*?)<\\\\/div>$/i.exec(e);this.text=n.length>1?n[1]:\\\"\\\"},e}(d);e.ClientSideText=g;var v=function(t){function e(e,n,r,o,i,a){void 0===n&&(n=\\\"\\\"),void 0===r&&(r={}),void 0===o&&(o=\\\"\\\"),void 0===i&&(i=\\\"\\\"),void 0===a&&(a=null);var s=t.call(this,3,\\\"1.0\\\")||this;return s.title=e,s.description=n,s.propertieJson=r,s.webPartId=o,s.htmlProperties=i,s.serverProcessedContent=a,s}return u(e,t),e.fromComponentDef=function(t){var n=new e(\\\"\\\");return n.import(t),n},e.prototype.import=function(t){this.webPartId=t.Id.replace(/^\\\\{|\\\\}$/g,\\\"\\\");var e=JSON.parse(t.Manifest);this.title=e.preconfiguredEntries[0].title.default,this.description=e.preconfiguredEntries[0].description.default,this.propertieJson=this.parseJsonProperties(e.preconfiguredEntries[0].properties)},e.prototype.setProperties=function(t){return this.propertieJson=t,this},e.prototype.getProperties=function(){return this.propertieJson},e.prototype.toHtml=function(t){this.order=t;var e={dataVersion:this.dataVersion,description:this.description,id:this.webPartId,instanceId:this.id,properties:this.propertieJson,title:this.title},n=[];return n.push('<div data-sp-canvascontrol=\\\"\\\" data-sp-canvasdataversion=\\\"'+this.dataVersion+'\\\" data-sp-controldata=\\\"'+this.jsonData+'\\\">'),n.push('<div data-sp-webpart=\\\"\\\" data-sp-canvasdataversion=\\\"'+this.dataVersion+'\\\" data-sp-webpartdata=\\\"'+f.jsonToEscapedString(e)+'\\\">'),n.push(\\\"<div data-sp-componentid>\\\"),n.push(this.webPartId),n.push(\\\"</div>\\\"),n.push('<div data-sp-htmlproperties=\\\"\\\">'),n.push(this.renderHtmlProperties()),n.push(\\\"</div>\\\"),n.push(\\\"</div>\\\"),n.push(\\\"</div>\\\"),n.join(\\\"\\\")},e.prototype.fromHtml=function(e){t.prototype.fromHtml.call(this,e);var n=f.escapedStringToJson(i(e,\\\"data-sp-webpartdata\\\"));this.title=n.title,this.description=n.description,this.webPartId=n.id,this.setProperties(n.properties),void 0!==n.serverProcessedContent&&(this.serverProcessedContent=n.serverProcessedContent);var r=a(e,/<div\\\\b[^>]*data-sp-htmlproperties[^>]*?>/i,function(t){return t.replace(/^<div\\\\b[^>]*data-sp-htmlproperties[^>]*?>/i,\\\"\\\").replace(/<\\\\/div>$/i,\\\"\\\")});this.htmlProperties=r.length>0?r[0]:\\\"\\\"},e.prototype.getControlData=function(){return{controlType:this.controlType,id:this.id,position:{controlIndex:this.order,sectionFactor:this.column.factor,sectionIndex:this.column.order,zoneIndex:this.column.section.order},webPartId:this.webPartId}},e.prototype.renderHtmlProperties=function(){var t=[];if(void 0===this.serverProcessedContent||null===this.serverProcessedContent)t.push(this.htmlProperties);else if(void 0!==this.serverProcessedContent){if(void 0!==this.serverProcessedContent.searchablePlainTexts)for(var e=0;e<this.serverProcessedContent.searchablePlainTexts.length;e++){var n=this.serverProcessedContent.searchablePlainTexts[e];t.push('<div data-sp-prop-name=\\\"'+n.Name+'\\\" data-sp-searchableplaintext=\\\"true\\\">'),t.push(n.Value),t.push(\\\"</div>\\\")}if(void 0!==this.serverProcessedContent.imageSources)for(var e=0;e<this.serverProcessedContent.imageSources.length;e++){var n=this.serverProcessedContent.imageSources[e];t.push('<img data-sp-prop-name=\\\"'+n.Name+'\\\" src=\\\"'+n.Value+'\\\" />')}if(void 0!==this.serverProcessedContent.links)for(var e=0;e<this.serverProcessedContent.links.length;e++){var n=this.serverProcessedContent.links[e];t.push('<a data-sp-prop-name=\\\"'+n.Name+'\\\" href=\\\"'+n.Value+'\\\"></a>')}}return t.join(\\\"\\\")},e.prototype.parseJsonProperties=function(t){return void 0!==t.webPartData&&void 0!==t.webPartData.serverProcessedContent?this.serverProcessedContent=t.webPartData.serverProcessedContent:void 0!==t.serverProcessedContent?this.serverProcessedContent=t.serverProcessedContent:this.serverProcessedContent=null,void 0!==t.webPartData&&void 0!==t.webPartData.properties?t.webPartData.properties:void 0!==t.properties?t.properties:t},e}(d);e.ClientSideWebpart=v},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(1),a=function(t){function e(e,n){return void 0===n&&(n=\\\"_api/social.following\\\"),t.call(this,e,n)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"my\\\",{get:function(){return new s(this)},enumerable:!0,configurable:!0}),e.prototype.getFollowedSitesUri=function(){return this.clone(e,\\\"FollowedSitesUri\\\").get().then(function(t){return t.FollowedSitesUri||t})},e.prototype.getFollowedDocumentsUri=function(){return this.clone(e,\\\"FollowedDocumentsUri\\\").get().then(function(t){return t.FollowedDocumentsUri||t})},e.prototype.follow=function(t){return this.clone(e,\\\"follow\\\").postCore({body:this.createSocialActorInfoRequestBody(t)})},e.prototype.isFollowed=function(t){return this.clone(e,\\\"isfollowed\\\").postCore({body:this.createSocialActorInfoRequestBody(t)})},e.prototype.stopFollowing=function(t){return this.clone(e,\\\"stopfollowing\\\").postCore({body:this.createSocialActorInfoRequestBody(t)})},e.prototype.createSocialActorInfoRequestBody=function(t){return JSON.stringify({actor:i.Util.extend({Id:null,__metadata:{type:\\\"SP.Social.SocialActorInfo\\\"}},t)})},e}(o.SharePointQueryableInstance);e.SocialQuery=a;var s=function(t){function e(e,n){return void 0===n&&(n=\\\"my\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.followed=function(t){return this.clone(e,\\\"followed(types=\\\"+t+\\\")\\\").get().then(function(t){return t.hasOwnProperty(\\\"Followed\\\")?t.Followed.results:t})},e.prototype.followedCount=function(t){return this.clone(e,\\\"followedcount(types=\\\"+t+\\\")\\\").get().then(function(t){return t.FollowedCount||t})},e.prototype.followers=function(){return this.clone(e,\\\"followers\\\").get().then(function(t){return t.hasOwnProperty(\\\"Followers\\\")?t.Followers.results:t})},e.prototype.suggestions=function(){return this.clone(e,\\\"suggestions\\\").get().then(function(t){return t.hasOwnProperty(\\\"Suggestions\\\")?t.Suggestions.results:t})},e}(o.SharePointQueryableInstance);e.MySocialQuery=s},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(1),a=n(49),s=n(30),u=function(t){function e(n,r){return t.call(this,e.getBaseUrl(n),\\\"_api/SP.Utilities.Utility.\\\"+r)||this}return r(e,t),e.getBaseUrl=function(t){if(\\\"string\\\"==typeof t)return t;var e=t,n=e.toUrl(),r=n.indexOf(\\\"_api/\\\");return r<0?n:n.substr(0,r)},e.prototype.excute=function(t){return this.postAsCore({body:JSON.stringify(t)})},e.prototype.sendEmail=function(t){var n={properties:{Body:t.Body,From:t.From,Subject:t.Subject,__metadata:{type:\\\"SP.Utilities.EmailProperties\\\"}}};return t.To&&t.To.length>0&&(n.properties=i.Util.extend(n.properties,{To:{results:t.To}})),t.CC&&t.CC.length>0&&(n.properties=i.Util.extend(n.properties,{CC:{results:t.CC}})),t.BCC&&t.BCC.length>0&&(n.properties=i.Util.extend(n.properties,{BCC:{results:t.BCC}})),t.AdditionalHeaders&&(n.properties=i.Util.extend(n.properties,{AdditionalHeaders:t.AdditionalHeaders})),this.clone(e,\\\"SendEmail\\\",!0).excute(n)},e.prototype.getCurrentUserEmailAddresses=function(){return this.clone(e,\\\"GetCurrentUserEmailAddresses\\\",!0).excute({})},e.prototype.resolvePrincipal=function(t,n,r,o,i,a){void 0===a&&(a=!1);var s={addToUserInfoList:i,input:t,inputIsEmailOnly:o,matchUserInfoList:a,scopes:n,sources:r};return this.clone(e,\\\"ResolvePrincipalInCurrentContext\\\",!0).excute(s)},e.prototype.searchPrincipals=function(t,n,r,o,i){var a={groupName:o,input:t,maxCount:i,scopes:n,sources:r};return this.clone(e,\\\"SearchPrincipalsUsingContextWeb\\\",!0).excute(a)},e.prototype.createEmailBodyForInvitation=function(t){var n={pageAddress:t};return this.clone(e,\\\"CreateEmailBodyForInvitation\\\",!0).excute(n)},e.prototype.expandGroupsToPrincipals=function(t,n){void 0===n&&(n=30);var r={inputs:t,maxCount:n};return this.clone(e,\\\"ExpandGroupsToPrincipals\\\",!0).excute(r)},e.prototype.createWikiPage=function(t){return this.clone(e,\\\"CreateWikiPageInContextWeb\\\",!0).excute({parameters:t}).then(function(t){return{data:t,file:new a.File(s.spExtractODataId(t))}})},e}(o.SharePointQueryable);e.UtilityMethod=u},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(1),o=n(33),i=n(59),a=function(){function t(){this._impl=o.RuntimeConfig.graphFetchClientFactory()}return t.prototype.fetch=function(t,e){void 0===e&&(e={});var n=new Headers;i.mergeHeaders(n,o.RuntimeConfig.graphHeaders),i.mergeHeaders(n,e.headers);var a=r.Util.extend(e,{headers:n});return this.fetchRaw(t,a)},t.prototype.fetchRaw=function(t,e){var n=this;void 0===e&&(e={});var o=new Headers;i.mergeHeaders(o,e.headers),e=r.Util.extend(e,{headers:o});var a=function(o){n._impl.fetch(t,{},e).then(function(t){return o.resolve(t)}).catch(function(t){429!==t.status&&503!==t.status&&o.reject(t);var e=o.delay;o.delay*=2,o.attempts++,o.retryCount<=o.attempts&&o.reject(t),setTimeout(r.Util.getCtxCallback(n,a,o),e)})};return new Promise(function(t,e){var r={attempts:0,delay:100,reject:e,resolve:t,retryCount:7};a.call(n,r)})},t.prototype.get=function(t,e){void 0===e&&(e={});var n=r.Util.extend(e,{method:\\\"GET\\\"});return this.fetch(t,n)},t.prototype.post=function(t,e){void 0===e&&(e={});var n=r.Util.extend(e,{method:\\\"POST\\\"});return this.fetch(t,n)},t.prototype.patch=function(t,e){void 0===e&&(e={});var n=r.Util.extend(e,{method:\\\"PATCH\\\"});return this.fetch(t,n)},t.prototype.delete=function(t,e){void 0===e&&(e={});var n=r.Util.extend(e,{method:\\\"DELETE\\\"});return this.fetch(t,n)},t}();e.GraphHttpClient=a},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(76),o=n(20),i=function(){function t(t,e,n){this.wrappedProvider=t,this.store=n||this.selectPnPCache(),this.cacheKey=\\\"_configcache_\\\"+e}return t.prototype.getWrappedProvider=function(){return this.wrappedProvider},t.prototype.getConfiguration=function(){var t=this;if(!this.store||!this.store.enabled)return this.wrappedProvider.getConfiguration();var e=this.store.get(this.cacheKey);if(e)return new Promise(function(t){t(e)});var n=this.wrappedProvider.getConfiguration();return n.then(function(e){t.store.put(t.cacheKey,e)}),n},t.prototype.selectPnPCache=function(){var t=new r.PnPClientStorage;if(t.local&&t.local.enabled)return t.local;if(t.session&&t.session.enabled)return t.session;throw new o.NoCacheAvailableException},t}();e.default=i},function(t,e,n){n(175),n(376),t.exports=n(377)},function(t,e,n){\\\"use strict\\\";\\\"undefined\\\"==typeof Promise&&(n(176).enable(),window.Promise=n(178)),n(179),Object.assign=n(180),n(181),n(320)},function(t,e,n){\\\"use strict\\\";function r(){c=!1,s._47=null,s._71=null}function o(t){function e(e){(t.allRejections||a(p[e].error,t.whitelist||u))&&(p[e].displayId=l++,t.onUnhandled?(p[e].logged=!0,t.onUnhandled(p[e].displayId,p[e].error)):(p[e].logged=!0,i(p[e].displayId,p[e].error)))}function n(e){p[e].logged&&(t.onHandled?t.onHandled(p[e].displayId,p[e].error):p[e].onUnhandled||(console.warn(\\\"Promise Rejection Handled (id: \\\"+p[e].displayId+\\\"):\\\"),console.warn('  This means you can ignore any previous messages of the form \\\"Possible Unhandled Promise Rejection\\\" with id '+p[e].displayId+\\\".\\\")))}t=t||{},c&&r(),c=!0;var o=0,l=0,p={};s._47=function(t){2===t._83&&p[t._56]&&(p[t._56].logged?n(t._56):clearTimeout(p[t._56].timeout),delete p[t._56])},s._71=function(t,n){0===t._75&&(t._56=o++,p[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,u)?100:2e3),logged:!1})}}function i(t,e){console.warn(\\\"Possible Unhandled Promise Rejection (id: \\\"+t+\\\"):\\\"),((e&&(e.stack||e))+\\\"\\\").split(\\\"\\\\n\\\").forEach(function(t){console.warn(\\\"  \\\"+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(118),u=[ReferenceError,TypeError,RangeError],c=!1;e.disable=r,e.enable=o},function(t,e,n){\\\"use strict\\\";(function(e){function n(t){a.length||(i(),s=!0),a[a.length]=t}function r(){for(;u<a.length;){var t=u;if(u+=1,a[t].call(),u>c){for(var e=0,n=a.length-u;e<n;e++)a[e]=a[e+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function o(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}t.exports=n;var i,a=[],s=!1,u=0,c=1024,l=void 0!==e?e:self,p=l.MutationObserver||l.WebKitMutationObserver;i=\\\"function\\\"==typeof p?function(t){var e=1,n=new p(t),r=document.createTextNode(\\\"\\\");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}(r):o(r),n.requestFlush=i,n.makeRequestCallFromTimer=o}).call(e,n(62))},function(t,e,n){\\\"use strict\\\";function r(t){var e=new o(o._44);return e._83=1,e._18=t,e}var o=n(118);t.exports=o;var i=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r(\\\"\\\");o.resolve=function(t){if(t instanceof o)return t;if(null===t)return s;if(void 0===t)return u;if(!0===t)return i;if(!1===t)return a;if(0===t)return c;if(\\\"\\\"===t)return l;if(\\\"object\\\"==typeof t||\\\"function\\\"==typeof t)try{var e=t.then;if(\\\"function\\\"==typeof e)return new o(e.bind(t))}catch(t){return new o(function(e,n){n(t)})}return r(t)},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(a,s){if(s&&(\\\"object\\\"==typeof s||\\\"function\\\"==typeof s)){if(s instanceof o&&s.then===o.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(t){r(a,t)},n))}var u=s.then;if(\\\"function\\\"==typeof u)return void new o(u.bind(s)).then(function(t){r(a,t)},n)}e[a]=s,0==--i&&t(e)}if(0===e.length)return t([]);for(var i=e.length,a=0;a<e.length;a++)r(a,e[a])})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){t.forEach(function(t){o.resolve(t).then(e,n)})})},o.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){\\\"use strict\\\";function e(t){if(\\\"string\\\"!=typeof t&&(t=String(t)),/[^a-z0-9\\\\-#$%&'*+.\\\\^_`|~]/i.test(t))throw new TypeError(\\\"Invalid character in header field name\\\");return t.toLowerCase()}function n(t){return\\\"string\\\"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError(\\\"Already read\\\"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join(\\\"\\\")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if(\\\"string\\\"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&b(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error(\\\"unsupported BodyInit type\\\");this._bodyArrayBuffer=l(t)}else this._bodyText=\\\"\\\";this.headers.get(\\\"content-type\\\")||(\\\"string\\\"==typeof t?this.headers.set(\\\"content-type\\\",\\\"text/plain;charset=UTF-8\\\"):this._bodyBlob&&this._bodyBlob.type?this.headers.set(\\\"content-type\\\",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set(\\\"content-type\\\",\\\"application/x-www-form-urlencoded;charset=UTF-8\\\"))},v.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error(\\\"could not read FormData body as blob\\\");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error(\\\"could not read FormData body as text\\\");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return P.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var n=e.body;if(t instanceof h){if(t.bodyUsed)throw new TypeError(\\\"Already read\\\");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||\\\"omit\\\",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=f(e.method||this.method||\\\"GET\\\"),this.mode=e.mode||this.mode||null,this.referrer=null,(\\\"GET\\\"===this.method||\\\"HEAD\\\"===this.method)&&n)throw new TypeError(\\\"Body not allowed for GET or HEAD requests\\\");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split(\\\"&\\\").forEach(function(t){if(t){var n=t.split(\\\"=\\\"),r=n.shift().replace(/\\\\+/g,\\\" \\\"),o=n.join(\\\"=\\\").replace(/\\\\+/g,\\\" \\\");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function y(t){var e=new o;return t.replace(/\\\\r?\\\\n[\\\\t ]+/g,\\\" \\\").split(/\\\\r?\\\\n/).forEach(function(t){var n=t.split(\\\":\\\"),r=n.shift().trim();if(r){var o=n.join(\\\":\\\").trim();e.append(r,o)}}),e}function g(t,e){e||(e={}),this.type=\\\"default\\\",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=\\\"statusText\\\"in e?e.statusText:\\\"OK\\\",this.headers=new o(e.headers),this.url=e.url||\\\"\\\",this._initBody(t)}if(!t.fetch){var v={searchParams:\\\"URLSearchParams\\\"in t,iterable:\\\"Symbol\\\"in t&&\\\"iterator\\\"in Symbol,blob:\\\"FileReader\\\"in t&&\\\"Blob\\\"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:\\\"FormData\\\"in t,arrayBuffer:\\\"ArrayBuffer\\\"in t};if(v.arrayBuffer)var m=[\\\"[object Int8Array]\\\",\\\"[object Uint8Array]\\\",\\\"[object Uint8ClampedArray]\\\",\\\"[object Int16Array]\\\",\\\"[object Uint16Array]\\\",\\\"[object Int32Array]\\\",\\\"[object Uint32Array]\\\",\\\"[object Float32Array]\\\",\\\"[object Float64Array]\\\"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&m.indexOf(Object.prototype.toString.call(t))>-1};o.prototype.append=function(t,r){t=e(t),r=n(r);var o=this.map[t];this.map[t]=o?o+\\\",\\\"+r:r},o.prototype.delete=function(t){delete this.map[e(t)]},o.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,r){this.map[e(t)]=n(r)},o.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var P=[\\\"DELETE\\\",\\\"GET\\\",\\\"HEAD\\\",\\\"OPTIONS\\\",\\\"POST\\\",\\\"PUT\\\"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},p.call(h.prototype),p.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:\\\"\\\"});return t.type=\\\"error\\\",t};var w=[301,302,303,307,308];g.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError(\\\"Invalid status code\\\");return new g(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=h,t.Response=g,t.fetch=function(t,e){return new Promise(function(n,r){var o=new h(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:y(i.getAllResponseHeaders()||\\\"\\\")};t.url=\\\"responseURL\\\"in i?i.responseURL:t.headers.get(\\\"X-Request-URL\\\");var e=\\\"response\\\"in i?i.response:i.responseText;n(new g(e,t))},i.onerror=function(){r(new TypeError(\\\"Network request failed\\\"))},i.ontimeout=function(){r(new TypeError(\\\"Network request failed\\\"))},i.open(o.method,o.url,!0),\\\"include\\\"===o.credentials?i.withCredentials=!0:\\\"omit\\\"===o.credentials&&(i.withCredentials=!1),\\\"responseType\\\"in i&&v.blob&&(i.responseType=\\\"blob\\\"),o.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}(\\\"undefined\\\"!=typeof self?self:this)},function(t,e,n){\\\"use strict\\\";function r(t){if(null===t||void 0===t)throw new TypeError(\\\"Object.assign cannot be called with null or undefined\\\");return Object(t)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String(\\\"abc\\\");if(t[5]=\\\"de\\\",\\\"5\\\"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e[\\\"_\\\"+String.fromCharCode(n)]=n;if(\\\"0123456789\\\"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(\\\"\\\"))return!1;var r={};return\\\"abcdefghijklmnopqrst\\\".split(\\\"\\\").forEach(function(t){r[t]=t}),\\\"abcdefghijklmnopqrst\\\"===Object.keys(Object.assign({},r)).join(\\\"\\\")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)i.call(n,l)&&(u[l]=n[l]);if(o){s=o(n);for(var p=0;p<s.length;p++)a.call(n,s[p])&&(u[s[p]]=n[s[p]])}}return u}},function(t,e,n){n(182),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(262),n(263),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(136),n(286),n(287),n(138),n(288),n(289),n(290),n(291),n(292),n(141),n(143),n(144),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),t.exports=n(24)},function(t,e,n){\\\"use strict\\\";var r=n(3),o=n(14),i=n(8),a=n(0),s=n(16),u=n(36).KEY,c=n(4),l=n(63),p=n(50),f=n(40),h=n(7),d=n(120),y=n(83),g=n(183),v=n(66),m=n(2),b=n(5),_=n(17),P=n(25),w=n(39),S=n(42),O=n(123),x=n(18),C=n(9),I=n(51),T=x.f,j=C.f,E=O.f,U=r.Symbol,A=r.JSON,F=A&&A.stringify,R=\\\"prototype\\\",M=h(\\\"_hidden\\\"),D=h(\\\"toPrimitive\\\"),k={}.propertyIsEnumerable,L=l(\\\"symbol-registry\\\"),B=l(\\\"symbols\\\"),N=l(\\\"op-symbols\\\"),Q=Object[R],q=\\\"function\\\"==typeof U,H=r.QObject,W=!H||!H[R]||!H[R].findChild,G=i&&c(function(){return 7!=S(j({},\\\"a\\\",{get:function(){return j(this,\\\"a\\\",{value:7}).a}})).a})?function(t,e,n){var r=T(Q,e);r&&delete Q[e],j(t,e,n),r&&t!==Q&&j(Q,e,r)}:j,z=function(t){var e=B[t]=S(U[R]);return e._k=t,e},V=q&&\\\"symbol\\\"==typeof U.iterator?function(t){return\\\"symbol\\\"==typeof t}:function(t){return t instanceof U},$=function(t,e,n){return t===Q&&$(N,e,n),m(t),e=P(e,!0),m(n),o(B,e)?(n.enumerable?(o(t,M)&&t[M][e]&&(t[M][e]=!1),n=S(n,{enumerable:w(0,!1)})):(o(t,M)||j(t,M,w(1,{})),t[M][e]=!0),G(t,e,n)):j(t,e,n)},J=function(t,e){m(t);for(var n,r=g(e=_(e)),o=0,i=r.length;i>o;)$(t,n=r[o++],e[n]);return t},K=function(t,e){return void 0===e?S(t):J(S(t),e)},X=function(t){var e=k.call(this,t=P(t,!0));return!(this===Q&&o(B,t)&&!o(N,t))&&(!(e||!o(this,t)||!o(B,t)||o(this,M)&&this[M][t])||e)},Z=function(t,e){if(t=_(t),e=P(e,!0),t!==Q||!o(B,e)||o(N,e)){var n=T(t,e);return!n||!o(B,e)||o(t,M)&&t[M][e]||(n.enumerable=!0),n}},Y=function(t){for(var e,n=E(_(t)),r=[],i=0;n.length>i;)o(B,e=n[i++])||e==M||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===Q,r=E(n?N:_(t)),i=[],a=0;r.length>a;)!o(B,e=r[a++])||n&&!o(Q,e)||i.push(B[e]);return i};q||(U=function(){if(this instanceof U)throw TypeError(\\\"Symbol is not a constructor!\\\");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===Q&&e.call(N,n),o(this,M)&&o(this[M],t)&&(this[M][t]=!1),G(this,t,w(1,n))};return i&&W&&G(Q,t,{configurable:!0,set:e}),z(t)},s(U[R],\\\"toString\\\",function(){return this._k}),x.f=Z,C.f=$,n(43).f=O.f=Y,n(56).f=X,n(65).f=tt,i&&!n(37)&&s(Q,\\\"propertyIsEnumerable\\\",X,!0),d.f=function(t){return z(h(t))}),a(a.G+a.W+a.F*!q,{Symbol:U});for(var et=\\\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\\\".split(\\\",\\\"),nt=0;et.length>nt;)h(et[nt++]);for(var rt=I(h.store),ot=0;rt.length>ot;)y(rt[ot++]);a(a.S+a.F*!q,\\\"Symbol\\\",{for:function(t){return o(L,t+=\\\"\\\")?L[t]:L[t]=U(t)},keyFor:function(t){if(!V(t))throw TypeError(t+\\\" is not a symbol!\\\");for(var e in L)if(L[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!q,\\\"Object\\\",{create:K,defineProperty:$,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Y,getOwnPropertySymbols:tt}),A&&a(a.S+a.F*(!q||c(function(){var t=U();return\\\"[null]\\\"!=F([t])||\\\"{}\\\"!=F({a:t})||\\\"{}\\\"!=F(Object(t))})),\\\"JSON\\\",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(b(e)||void 0!==t)&&!V(t))return v(e)||(e=function(t,e){if(\\\"function\\\"==typeof n&&(e=n.call(this,t,e)),!V(e))return e}),r[1]=e,F.apply(A,r)}}),U[R][D]||n(15)(U[R],D,U[R].valueOf),p(U,\\\"Symbol\\\"),p(Math,\\\"Math\\\",!0),p(r.JSON,\\\"JSON\\\",!0)},function(t,e,n){var r=n(51),o=n(65),i=n(56);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(0);r(r.S,\\\"Object\\\",{create:n(42)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(8),\\\"Object\\\",{defineProperty:n(9).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(8),\\\"Object\\\",{defineProperties:n(122)})},function(t,e,n){var r=n(17),o=n(18).f;n(28)(\\\"getOwnPropertyDescriptor\\\",function(){return function(t,e){return o(r(t),e)}})},function(t,e,n){var r=n(11),o=n(19);n(28)(\\\"getPrototypeOf\\\",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(11),o=n(51);n(28)(\\\"keys\\\",function(){return function(t){return o(r(t))}})},function(t,e,n){n(28)(\\\"getOwnPropertyNames\\\",function(){return n(123).f})},function(t,e,n){var r=n(5),o=n(36).onFreeze;n(28)(\\\"freeze\\\",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(5),o=n(36).onFreeze;n(28)(\\\"seal\\\",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(5),o=n(36).onFreeze;n(28)(\\\"preventExtensions\\\",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(5);n(28)(\\\"isFrozen\\\",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(5);n(28)(\\\"isSealed\\\",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(5);n(28)(\\\"isExtensible\\\",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(0);r(r.S+r.F,\\\"Object\\\",{assign:n(124)})},function(t,e,n){var r=n(0);r(r.S,\\\"Object\\\",{is:n(199)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(0);r(r.S,\\\"Object\\\",{setPrototypeOf:n(87).set})},function(t,e,n){\\\"use strict\\\";var r=n(57),o={};o[n(7)(\\\"toStringTag\\\")]=\\\"z\\\",o+\\\"\\\"!=\\\"[object z]\\\"&&n(16)(Object.prototype,\\\"toString\\\",function(){return\\\"[object \\\"+r(this)+\\\"]\\\"},!0)},function(t,e,n){var r=n(0);r(r.P,\\\"Function\\\",{bind:n(125)})},function(t,e,n){var r=n(9).f,o=Function.prototype,i=/^\\\\s*function ([^ (]*)/,a=\\\"name\\\";a in o||n(8)&&r(o,a,{configurable:!0,get:function(){try{return(\\\"\\\"+this).match(i)[1]}catch(t){return\\\"\\\"}}})},function(t,e,n){\\\"use strict\\\";var r=n(5),o=n(19),i=n(7)(\\\"hasInstance\\\"),a=Function.prototype;i in a||n(9).f(a,i,{value:function(t){if(\\\"function\\\"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),o=n(127);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(t,e,n){var r=n(0),o=n(128);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},function(t,e,n){\\\"use strict\\\";var r=n(3),o=n(14),i=n(22),a=n(89),s=n(25),u=n(4),c=n(43).f,l=n(18).f,p=n(9).f,f=n(52).trim,h=\\\"Number\\\",d=r[h],y=d,g=d.prototype,v=i(n(42)(g))==h,m=\\\"trim\\\"in String.prototype,b=function(t){var e=s(t,!1);if(\\\"string\\\"==typeof e&&e.length>2){e=m?e.trim():f(e,3);var n,r,o,i=e.charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>o)return NaN;return parseInt(u,r)}}return+e};if(!d(\\\" 0o1\\\")||!d(\\\"0b1\\\")||d(\\\"+0x1\\\")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(v?u(function(){g.valueOf.call(n)}):i(n)!=h)?a(new y(b(e)),n,d):b(e)};for(var _,P=n(8)?c(y):\\\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger\\\".split(\\\",\\\"),w=0;P.length>w;w++)o(y,_=P[w])&&!o(d,_)&&p(d,_,l(y,_));d.prototype=g,g.constructor=d,n(16)(r,h,d)}},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(27),i=n(129),a=n(90),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l=\\\"Number.toFixed: incorrect invocation!\\\",p=\\\"0\\\",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},d=function(){for(var t=6,e=\\\"\\\";--t>=0;)if(\\\"\\\"!==e||0===t||0!==c[t]){var n=String(c[t]);e=\\\"\\\"===e?n:e+a.call(p,7-n.length)+n}return e},y=function(t,e,n){return 0===e?n:e%2==1?y(t,e-1,n*t):y(t*t,e/2,n)},g=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!s&&(\\\"0.000\\\"!==8e-5.toFixed(3)||\\\"1\\\"!==.9.toFixed(0)||\\\"1.25\\\"!==1.255.toFixed(2)||\\\"1000000000000000128\\\"!==(0xde0b6b3a7640080).toFixed(0))||!n(4)(function(){s.call({})})),\\\"Number\\\",{toFixed:function(t){var e,n,r,s,u=i(this,l),c=o(t),v=\\\"\\\",m=p;if(c<0||c>20)throw RangeError(l);if(u!=u)return\\\"NaN\\\";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v=\\\"-\\\",u=-u),u>1e-21)if(e=g(u*y(2,69,1))-69,n=e<0?u*y(2,-e,1):u/y(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(y(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),f(1,1),h(2),m=d()}else f(0,n),f(1<<-e,0),m=d()+a.call(p,c);return c>0?(s=m.length,m=v+(s<=c?\\\"0.\\\"+a.call(p,c-s)+m:m.slice(0,s-c)+\\\".\\\"+m.slice(s-c))):m=v+m,m}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(4),i=n(129),a=1..toPrecision;r(r.P+r.F*(o(function(){return\\\"1\\\"!==a.call(1,void 0)})||!o(function(){a.call({})})),\\\"Number\\\",{toPrecision:function(t){var e=i(this,\\\"Number#toPrecision: incorrect invocation!\\\");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S,\\\"Number\\\",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),o=n(3).isFinite;r(r.S,\\\"Number\\\",{isFinite:function(t){return\\\"number\\\"==typeof t&&o(t)}})},function(t,e,n){var r=n(0);r(r.S,\\\"Number\\\",{isInteger:n(130)})},function(t,e,n){var r=n(0);r(r.S,\\\"Number\\\",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),o=n(130),i=Math.abs;r(r.S,\\\"Number\\\",{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,\\\"Number\\\",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,\\\"Number\\\",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),o=n(128);r(r.S+r.F*(Number.parseFloat!=o),\\\"Number\\\",{parseFloat:o})},function(t,e,n){var r=n(0),o=n(127);r(r.S+r.F*(Number.parseInt!=o),\\\"Number\\\",{parseInt:o})},function(t,e,n){var r=n(0),o=n(131),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),\\\"Math\\\",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:o(t-1+i(t-1)*i(t+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var o=n(0),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),\\\"Math\\\",{asinh:r})},function(t,e,n){var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),\\\"Math\\\",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),o=n(91);r(r.S,\\\"Math\\\",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),o=Math.exp;r(r.S,\\\"Math\\\",{cosh:function(t){return(o(t=+t)+o(-t))/2}})},function(t,e,n){var r=n(0),o=n(92);r(r.S+r.F*(o!=Math.expm1),\\\"Math\\\",{expm1:o})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{fround:n(132)})},function(t,e,n){var r=n(0),o=Math.abs;r(r.S,\\\"Math\\\",{hypot:function(t,e){for(var n,r,i=0,a=0,s=arguments.length,u=0;a<s;)n=o(arguments[a++]),u<n?(r=u/n,i=i*r*r+1,u=n):n>0?(r=n/u,i+=r*r):i+=n;return u===1/0?1/0:u*Math.sqrt(i)}})},function(t,e,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(4)(function(){return-5!=o(4294967295,5)||2!=o.length}),\\\"Math\\\",{imul:function(t,e){var n=65535,r=+t,o=+e,i=n&r,a=n&o;return 0|i*a+((n&r>>>16)*a+i*(n&o>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{log1p:n(131)})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{sign:n(91)})},function(t,e,n){var r=n(0),o=n(92),i=Math.exp;r(r.S+r.F*n(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),\\\"Math\\\",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),o=n(92),i=Math.exp;r(r.S,\\\"Math\\\",{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),o=n(41),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),\\\"String\\\",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+\\\" is not a valid code point\\\");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join(\\\"\\\")}})},function(t,e,n){var r=n(0),o=n(17),i=n(10);r(r.S,\\\"String\\\",{raw:function(t){for(var e=o(t.raw),n=i(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join(\\\"\\\")}})},function(t,e,n){\\\"use strict\\\";n(52)(\\\"trim\\\",function(t){return function(){return t(this,3)}})},function(t,e,n){\\\"use strict\\\";var r=n(93)(!0);n(94)(String,\\\"String\\\",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(93)(!1);r(r.P,\\\"String\\\",{codePointAt:function(t){return o(this,t)}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(10),i=n(96),a=\\\"endsWith\\\",s=\\\"\\\"[a];r(r.P+r.F*n(97)(a),\\\"String\\\",{endsWith:function(t){var e=i(this,t,a),n=arguments.length>1?arguments[1]:void 0,r=o(e.length),u=void 0===n?r:Math.min(o(n),r),c=String(t);return s?s.call(e,c,u):e.slice(u-c.length,u)===c}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(96),i=\\\"includes\\\";r(r.P+r.F*n(97)(i),\\\"String\\\",{includes:function(t){return!!~o(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0);r(r.P,\\\"String\\\",{repeat:n(90)})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(10),i=n(96),a=\\\"startsWith\\\",s=\\\"\\\"[a];r(r.P+r.F*n(97)(a),\\\"String\\\",{startsWith:function(t){var e=i(this,t,a),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"anchor\\\",function(t){return function(e){return t(this,\\\"a\\\",\\\"name\\\",e)}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"big\\\",function(t){return function(){return t(this,\\\"big\\\",\\\"\\\",\\\"\\\")}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"blink\\\",function(t){return function(){return t(this,\\\"blink\\\",\\\"\\\",\\\"\\\")}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"bold\\\",function(t){return function(){return t(this,\\\"b\\\",\\\"\\\",\\\"\\\")}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"fixed\\\",function(t){return function(){return t(this,\\\"tt\\\",\\\"\\\",\\\"\\\")}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"fontcolor\\\",function(t){return function(e){return t(this,\\\"font\\\",\\\"color\\\",e)}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"fontsize\\\",function(t){return function(e){return t(this,\\\"font\\\",\\\"size\\\",e)}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"italics\\\",function(t){return function(){return t(this,\\\"i\\\",\\\"\\\",\\\"\\\")}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"link\\\",function(t){return function(e){return t(this,\\\"a\\\",\\\"href\\\",e)}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"small\\\",function(t){return function(){return t(this,\\\"small\\\",\\\"\\\",\\\"\\\")}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"strike\\\",function(t){return function(){return t(this,\\\"strike\\\",\\\"\\\",\\\"\\\")}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"sub\\\",function(t){return function(){return t(this,\\\"sub\\\",\\\"\\\",\\\"\\\")}})},function(t,e,n){\\\"use strict\\\";n(13)(\\\"sup\\\",function(t){return function(){return t(this,\\\"sup\\\",\\\"\\\",\\\"\\\")}})},function(t,e,n){var r=n(0);r(r.S,\\\"Date\\\",{now:function(){return(new Date).getTime()}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(11),i=n(25);r(r.P+r.F*n(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),\\\"Date\\\",{toJSON:function(t){var e=o(this),n=i(e);return\\\"number\\\"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(0),o=n(261);r(r.P+r.F*(Date.prototype.toISOString!==o),\\\"Date\\\",{toISOString:o})},function(t,e,n){\\\"use strict\\\";var r=n(4),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(t){return t>9?t:\\\"0\\\"+t};t.exports=r(function(){return\\\"0385-07-25T07:06:39.999Z\\\"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError(\\\"Invalid time value\\\");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?\\\"-\\\":e>9999?\\\"+\\\":\\\"\\\";return r+(\\\"00000\\\"+Math.abs(e)).slice(r?-6:-4)+\\\"-\\\"+a(t.getUTCMonth()+1)+\\\"-\\\"+a(t.getUTCDate())+\\\"T\\\"+a(t.getUTCHours())+\\\":\\\"+a(t.getUTCMinutes())+\\\":\\\"+a(t.getUTCSeconds())+\\\".\\\"+(n>99?n:\\\"0\\\"+a(n))+\\\"Z\\\"}:i},function(t,e,n){var r=Date.prototype,o=\\\"Invalid Date\\\",i=\\\"toString\\\",a=r[i],s=r.getTime;new Date(NaN)+\\\"\\\"!=o&&n(16)(r,i,function(){var t=s.call(this);return t===t?a.call(this):o})},function(t,e,n){var r=n(7)(\\\"toPrimitive\\\"),o=Date.prototype;r in o||n(15)(o,r,n(264))},function(t,e,n){\\\"use strict\\\";var r=n(2),o=n(25),i=\\\"number\\\";t.exports=function(t){if(\\\"string\\\"!==t&&t!==i&&\\\"default\\\"!==t)throw TypeError(\\\"Incorrect hint\\\");return o(r(this),t!=i)}},function(t,e,n){var r=n(0);r(r.S,\\\"Array\\\",{isArray:n(66)})},function(t,e,n){\\\"use strict\\\";var r=n(21),o=n(0),i=n(11),a=n(133),s=n(98),u=n(10),c=n(99),l=n(100);o(o.S+o.F*!n(68)(function(t){Array.from(t)}),\\\"Array\\\",{from:function(t){var e,n,o,p,f=i(t),h=\\\"function\\\"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,g=void 0!==y,v=0,m=l(f);if(g&&(y=r(y,d>2?arguments[2]:void 0,2)),void 0==m||h==Array&&s(m))for(e=u(f.length),n=new h(e);e>v;v++)c(n,v,g?y(f[v],v):f[v]);else for(p=m.call(f),n=new h;!(o=p.next()).done;v++)c(n,v,g?a(p,y,[o.value,v],!0):o.value);return n.length=v,n}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(99);r(r.S+r.F*n(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),\\\"Array\\\",{of:function(){for(var t=0,e=arguments.length,n=new(\\\"function\\\"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(17),i=[].join;r(r.P+r.F*(n(55)!=Object||!n(23)(i)),\\\"Array\\\",{join:function(t){return i.call(o(this),void 0===t?\\\",\\\":t)}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(86),i=n(22),a=n(41),s=n(10),u=[].slice;r(r.P+r.F*n(4)(function(){o&&u.call(o)}),\\\"Array\\\",{slice:function(t,e){var n=s(this.length),r=i(this);if(e=void 0===e?n:e,\\\"Array\\\"==r)return u.call(this,t,e);for(var o=a(t,n),c=a(e,n),l=s(c-o),p=new Array(l),f=0;f<l;f++)p[f]=\\\"String\\\"==r?this.charAt(o+f):this[o+f];return p}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(12),i=n(11),a=n(4),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(23)(s)),\\\"Array\\\",{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),o(t))}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(29)(0),i=n(23)([].forEach,!0);r(r.P+r.F*!i,\\\"Array\\\",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(5),o=n(66),i=n(7)(\\\"species\\\");t.exports=function(t){var e;return o(t)&&(e=t.constructor,\\\"function\\\"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(29)(1);r(r.P+r.F*!n(23)([].map,!0),\\\"Array\\\",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(29)(2);r(r.P+r.F*!n(23)([].filter,!0),\\\"Array\\\",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(29)(3);r(r.P+r.F*!n(23)([].some,!0),\\\"Array\\\",{some:function(t){return o(this,t,arguments[1])}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(29)(4);r(r.P+r.F*!n(23)([].every,!0),\\\"Array\\\",{every:function(t){return o(this,t,arguments[1])}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(134);r(r.P+r.F*!n(23)([].reduce,!0),\\\"Array\\\",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(134);r(r.P+r.F*!n(23)([].reduceRight,!0),\\\"Array\\\",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(64)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(23)(i)),\\\"Array\\\",{indexOf:function(t){return a?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(17),i=n(27),a=n(10),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(23)(s)),\\\"Array\\\",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=o(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,\\\"Array\\\",{copyWithin:n(135)}),n(38)(\\\"copyWithin\\\")},function(t,e,n){var r=n(0);r(r.P,\\\"Array\\\",{fill:n(102)}),n(38)(\\\"fill\\\")},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(29)(5),i=\\\"find\\\",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,\\\"Array\\\",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(38)(i)},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(29)(6),i=\\\"findIndex\\\",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,\\\"Array\\\",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(38)(i)},function(t,e,n){n(44)(\\\"Array\\\")},function(t,e,n){var r=n(3),o=n(89),i=n(9).f,a=n(43).f,s=n(67),u=n(69),c=r.RegExp,l=c,p=c.prototype,f=/a/g,h=/a/g,d=new c(f)!==f;if(n(8)&&(!d||n(4)(function(){return h[n(7)(\\\"match\\\")]=!1,c(f)!=f||c(h)==h||\\\"/a/i\\\"!=c(f,\\\"i\\\")}))){c=function(t,e){var n=this instanceof c,r=s(t),i=void 0===e;return!n&&r&&t.constructor===c&&i?t:o(d?new l(r&&!i?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&i?u.call(t):e),n?this:p,c)};for(var y=a(l),g=0;y.length>g;)!function(t){t in c||i(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})}(y[g++]);p.constructor=c,c.prototype=p,n(16)(r,\\\"RegExp\\\",c)}n(44)(\\\"RegExp\\\")},function(t,e,n){\\\"use strict\\\";n(138);var r=n(2),o=n(69),i=n(8),a=\\\"toString\\\",s=/./[a],u=function(t){n(16)(RegExp.prototype,a,t,!0)};n(4)(function(){return\\\"/a/b\\\"!=s.call({source:\\\"a\\\",flags:\\\"b\\\"})})?u(function(){var t=r(this);return\\\"/\\\".concat(t.source,\\\"/\\\",\\\"flags\\\"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)}):s.name!=a&&u(function(){return s.call(this)})},function(t,e,n){n(70)(\\\"match\\\",1,function(t,e,n){return[function(n){\\\"use strict\\\";var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(70)(\\\"replace\\\",2,function(t,e,n){return[function(r,o){\\\"use strict\\\";var i=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},n]})},function(t,e,n){n(70)(\\\"search\\\",1,function(t,e,n){return[function(n){\\\"use strict\\\";var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(70)(\\\"split\\\",2,function(t,e,r){\\\"use strict\\\";var o=n(67),i=r,a=[].push,s=\\\"split\\\",u=\\\"length\\\",c=\\\"lastIndex\\\";if(\\\"c\\\"==\\\"abbc\\\"[s](/(b)*/)[1]||4!=\\\"test\\\"[s](/(?:)/,-1)[u]||2!=\\\"ab\\\"[s](/(?:ab)*/)[u]||4!=\\\".\\\"[s](/(.?)(.?)/)[u]||\\\".\\\"[s](/()()/)[u]>1||\\\"\\\"[s](/.?/)[u]){var l=void 0===/()??/.exec(\\\"\\\")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!o(t))return i.call(n,t,e);var r,s,p,f,h,d=[],y=(t.ignoreCase?\\\"i\\\":\\\"\\\")+(t.multiline?\\\"m\\\":\\\"\\\")+(t.unicode?\\\"u\\\":\\\"\\\")+(t.sticky?\\\"y\\\":\\\"\\\"),g=0,v=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,y+\\\"g\\\");for(l||(r=new RegExp(\\\"^\\\"+m.source+\\\"$(?!\\\\\\\\s)\\\",y));(s=m.exec(n))&&!((p=s.index+s[0][u])>g&&(d.push(n.slice(g,s.index)),!l&&s[u]>1&&s[0].replace(r,function(){for(h=1;h<arguments[u]-2;h++)void 0===arguments[h]&&(s[h]=void 0)}),s[u]>1&&s.index<n[u]&&a.apply(d,s.slice(1)),f=s[0][u],g=p,d[u]>=v));)m[c]===s.index&&m[c]++;return g===n[u]?!f&&m.test(\\\"\\\")||d.push(\\\"\\\"):d.push(n.slice(g)),d[u]>v?d.slice(0,v):d}}else\\\"0\\\"[s](void 0,0)[u]&&(r=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(n,o){var i=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,o):r.call(String(i),n,o)},r]})},function(t,e,n){\\\"use strict\\\";var r,o,i,a,s=n(37),u=n(3),c=n(21),l=n(57),p=n(0),f=n(5),h=n(12),d=n(45),y=n(46),g=n(103),v=n(139).set,m=n(104)(),b=n(105),_=n(140),P=n(106),w=n(293),S=\\\"Promise\\\",O=u.TypeError,x=u.process,C=x&&x.versions,I=C&&C.v8||\\\"\\\",T=u[S],j=\\\"process\\\"==l(x),E=function(){},U=o=b.f,A=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(7)(\\\"species\\\")]=function(t){t(E,E)};return(j||\\\"function\\\"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==I.indexOf(\\\"6.6\\\")&&-1===P.indexOf(\\\"Chrome/66\\\")}catch(t){}}(),F=function(t){var e;return!(!f(t)||\\\"function\\\"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var r=t._v,o=1==t._s,i=0;n.length>i;)!function(e){var n,i,a,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(o||(2==t._h&&k(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?c(O(\\\"Promise-chain cycle\\\")):(i=F(n))?i.call(n,u,c):u(n)):c(r)}catch(t){l&&!a&&l.exit(),c(t)}}(n[i++]);t._c=[],t._n=!1,e&&!t._h&&M(t)})}},M=function(t){v.call(u,function(){var e,n,r,o=t._v,i=D(t);if(i&&(e=_(function(){j?x.emit(\\\"unhandledRejection\\\",o,t):(n=u.onunhandledrejection)?n({promise:t,reason:o}):(r=u.console)&&r.error&&r.error(\\\"Unhandled promise rejection\\\",o)}),t._h=j||D(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},k=function(t){v.call(u,function(){var e;j?x.emit(\\\"rejectionHandled\\\",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw O(\\\"Promise can't be resolved itself\\\");(e=F(t))?m(function(){var r={_w:n,_d:!1};try{e.call(t,c(B,r,1),c(L,r,1))}catch(t){L.call(r,t)}}):(n._v=t,n._s=1,R(n,!1))}catch(t){L.call({_w:n,_d:!1},t)}}};A||(T=function(t){d(this,T,S,\\\"_h\\\"),h(t),r.call(this);try{t(c(B,this,1),c(L,this,1))}catch(t){L.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(47)(T.prototype,{then:function(t,e){var n=U(g(this,T));return n.ok=\\\"function\\\"!=typeof t||t,n.fail=\\\"function\\\"==typeof e&&e,n.domain=j?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=c(B,t,1),this.reject=c(L,t,1)},b.f=U=function(t){return t===T||t===a?new i(t):o(t)}),p(p.G+p.W+p.F*!A,{Promise:T}),n(50)(T,S),n(44)(S),a=n(24)[S],p(p.S+p.F*!A,S,{reject:function(t){var e=U(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(s||!A),S,{resolve:function(t){return w(s&&this===a?T:this,t)}}),p(p.S+p.F*!(A&&n(68)(function(t){T.all(t).catch(E)})),S,{all:function(t){var e=this,n=U(e),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,a=1;y(t,!1,function(t){var s=i++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=U(e),r=n.reject,o=_(function(){y(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e,n){var r=n(2),o=n(5),i=n(105);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){\\\"use strict\\\";var r=n(145),o=n(53),i=\\\"WeakSet\\\";n(71)(i,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(o(this,i),t,!0)}},r,!1,!0)},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(72),i=n(107),a=n(2),s=n(41),u=n(10),c=n(5),l=n(3).ArrayBuffer,p=n(103),f=i.ArrayBuffer,h=i.DataView,d=o.ABV&&l.isView,y=f.prototype.slice,g=o.VIEW,v=\\\"ArrayBuffer\\\";r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!o.CONSTR,v,{isView:function(t){return d&&d(t)||c(t)&&g in t}}),r(r.P+r.U+r.F*n(4)(function(){return!new f(2).slice(1,void 0).byteLength}),v,{slice:function(t,e){if(void 0!==y&&void 0===e)return y.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),o=s(void 0===e?n:e,n),i=new(p(this,f))(u(o-r)),c=new h(this),l=new h(i),d=0;r<o;)l.setUint8(d++,c.getUint8(r++));return i}}),n(44)(v)},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(72).ABV,{DataView:n(107).DataView})},function(t,e,n){n(31)(\\\"Int8\\\",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(31)(\\\"Uint8\\\",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(31)(\\\"Uint8\\\",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(31)(\\\"Int16\\\",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(31)(\\\"Uint16\\\",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(31)(\\\"Int32\\\",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(31)(\\\"Uint32\\\",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(31)(\\\"Float32\\\",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(31)(\\\"Float64\\\",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(0),o=n(12),i=n(2),a=(n(3).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(4)(function(){a(function(){})}),\\\"Reflect\\\",{apply:function(t,e,n){var r=o(t),u=i(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(0),o=n(42),i=n(12),a=n(2),s=n(5),u=n(4),c=n(125),l=(n(3).Reflect||{}).construct,p=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),f=!u(function(){l(function(){})});r(r.S+r.F*(p||f),\\\"Reflect\\\",{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(f&&!p)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,h=o(s(u)?u:Object.prototype),d=Function.apply.call(t,h,e);return s(d)?d:h}})},function(t,e,n){var r=n(9),o=n(0),i=n(2),a=n(25);o(o.S+o.F*n(4)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),\\\"Reflect\\\",{defineProperty:function(t,e,n){i(t),e=a(e,!0),i(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(18).f,i=n(2);r(r.S,\\\"Reflect\\\",{deleteProperty:function(t,e){var n=o(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(2),i=function(t){this._t=o(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(95)(i,\\\"Object\\\",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,\\\"Reflect\\\",{enumerate:function(t){return new i(t)}})},function(t,e,n){function r(t,e){var n,s,l=arguments.length<3?t:arguments[2];return c(t)===l?t[e]:(n=o.f(t,e))?a(n,\\\"value\\\")?n.value:void 0!==n.get?n.get.call(l):void 0:u(s=i(t))?r(s,e,l):void 0}var o=n(18),i=n(19),a=n(14),s=n(0),u=n(5),c=n(2);s(s.S,\\\"Reflect\\\",{get:r})},function(t,e,n){var r=n(18),o=n(0),i=n(2);o(o.S,\\\"Reflect\\\",{getOwnPropertyDescriptor:function(t,e){return r.f(i(t),e)}})},function(t,e,n){var r=n(0),o=n(19),i=n(2);r(r.S,\\\"Reflect\\\",{getPrototypeOf:function(t){return o(i(t))}})},function(t,e,n){var r=n(0);r(r.S,\\\"Reflect\\\",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),o=n(2),i=Object.isExtensible;r(r.S,\\\"Reflect\\\",{isExtensible:function(t){return o(t),!i||i(t)}})},function(t,e,n){var r=n(0);r(r.S,\\\"Reflect\\\",{ownKeys:n(147)})},function(t,e,n){var r=n(0),o=n(2),i=Object.preventExtensions;r(r.S,\\\"Reflect\\\",{preventExtensions:function(t){o(t);try{return i&&i(t),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var u,f,h=arguments.length<4?t:arguments[3],d=i.f(l(t),e);if(!d){if(p(f=a(t)))return r(f,e,n,h);d=c(0)}if(s(d,\\\"value\\\")){if(!1===d.writable||!p(h))return!1;if(u=i.f(h,e)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,o.f(h,e,u)}else o.f(h,e,c(0,n));return!0}return void 0!==d.set&&(d.set.call(h,n),!0)}var o=n(9),i=n(18),a=n(19),s=n(14),u=n(0),c=n(39),l=n(2),p=n(5);u(u.S,\\\"Reflect\\\",{set:r})},function(t,e,n){var r=n(0),o=n(87);o&&r(r.S,\\\"Reflect\\\",{setPrototypeOf:function(t,e){o.check(t,e);try{return o.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),t.exports=n(24)},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(64)(!0);r(r.P,\\\"Array\\\",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(38)(\\\"includes\\\")},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(148),i=n(11),a=n(10),s=n(12),u=n(101);r(r.P,\\\"Array\\\",{flatMap:function(t){var e,n,r=i(this);return s(t),e=a(r.length),n=u(r,0),o(n,r,r,e,0,1,t,arguments[1]),n}}),n(38)(\\\"flatMap\\\")},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(148),i=n(11),a=n(10),s=n(27),u=n(101);r(r.P,\\\"Array\\\",{flatten:function(){var t=arguments[0],e=i(this),n=a(e.length),r=u(e,0);return o(r,e,e,n,0,void 0===t?1:s(t)),r}}),n(38)(\\\"flatten\\\")},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(93)(!0);r(r.P,\\\"String\\\",{at:function(t){return o(this,t)}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(149),i=n(106);r(r.P+r.F*/Version\\\\/10\\\\.\\\\d+(\\\\.\\\\d+)? Safari\\\\//.test(i),\\\"String\\\",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(149),i=n(106);r(r.P+r.F*/Version\\\\/10\\\\.\\\\d+(\\\\.\\\\d+)? Safari\\\\//.test(i),\\\"String\\\",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){\\\"use strict\\\";n(52)(\\\"trimLeft\\\",function(t){return function(){return t(this,1)}},\\\"trimStart\\\")},function(t,e,n){\\\"use strict\\\";n(52)(\\\"trimRight\\\",function(t){return function(){return t(this,2)}},\\\"trimEnd\\\")},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(26),i=n(10),a=n(67),s=n(69),u=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(95)(c,\\\"RegExp String\\\",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,\\\"String\\\",{matchAll:function(t){if(o(this),!a(t))throw TypeError(t+\\\" is not a regexp!\\\");var e=String(this),n=\\\"flags\\\"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf(\\\"g\\\")?n:\\\"g\\\"+n);return r.lastIndex=i(t.lastIndex),new c(r,e)}})},function(t,e,n){n(83)(\\\"asyncIterator\\\")},function(t,e,n){n(83)(\\\"observable\\\")},function(t,e,n){var r=n(0),o=n(147),i=n(17),a=n(18),s=n(99);r(r.S,\\\"Object\\\",{getOwnPropertyDescriptors:function(t){for(var e,n,r=i(t),u=a.f,c=o(r),l={},p=0;c.length>p;)void 0!==(n=u(r,e=c[p++]))&&s(l,e,n);return l}})},function(t,e,n){var r=n(0),o=n(150)(!1);r(r.S,\\\"Object\\\",{values:function(t){return o(t)}})},function(t,e,n){var r=n(0),o=n(150)(!0);r(r.S,\\\"Object\\\",{entries:function(t){return o(t)}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(11),i=n(12),a=n(9);n(8)&&r(r.P+n(73),\\\"Object\\\",{__defineGetter__:function(t,e){a.f(o(this),t,{get:i(e),enumerable:!0,configurable:!0})}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(11),i=n(12),a=n(9);n(8)&&r(r.P+n(73),\\\"Object\\\",{__defineSetter__:function(t,e){a.f(o(this),t,{set:i(e),enumerable:!0,configurable:!0})}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(11),i=n(25),a=n(19),s=n(18).f;n(8)&&r(r.P+n(73),\\\"Object\\\",{__lookupGetter__:function(t){var e,n=o(this),r=i(t,!0);do{if(e=s(n,r))return e.get}while(n=a(n))}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(11),i=n(25),a=n(19),s=n(18).f;n(8)&&r(r.P+n(73),\\\"Object\\\",{__lookupSetter__:function(t){var e,n=o(this),r=i(t,!0);do{if(e=s(n,r))return e.set}while(n=a(n))}})},function(t,e,n){var r=n(0);r(r.P+r.R,\\\"Map\\\",{toJSON:n(151)(\\\"Map\\\")})},function(t,e,n){var r=n(0);r(r.P+r.R,\\\"Set\\\",{toJSON:n(151)(\\\"Set\\\")})},function(t,e,n){n(74)(\\\"Map\\\")},function(t,e,n){n(74)(\\\"Set\\\")},function(t,e,n){n(74)(\\\"WeakMap\\\")},function(t,e,n){n(74)(\\\"WeakSet\\\")},function(t,e,n){n(75)(\\\"Map\\\")},function(t,e,n){n(75)(\\\"Set\\\")},function(t,e,n){n(75)(\\\"WeakMap\\\")},function(t,e,n){n(75)(\\\"WeakSet\\\")},function(t,e,n){var r=n(0);r(r.G,{global:n(3)})},function(t,e,n){var r=n(0);r(r.S,\\\"System\\\",{global:n(3)})},function(t,e,n){var r=n(0),o=n(22);r(r.S,\\\"Error\\\",{isError:function(t){return\\\"Error\\\"===o(t)}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0),o=180/Math.PI;r(r.S,\\\"Math\\\",{degrees:function(t){return t*o}})},function(t,e,n){var r=n(0),o=n(153),i=n(132);r(r.S,\\\"Math\\\",{fscale:function(t,e,n,r,a){return i(o(t,e,n,r,a))}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{iaddh:function(t,e,n,r){var o=t>>>0,i=e>>>0,a=n>>>0;return i+(r>>>0)+((o&a|(o|a)&~(o+a>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{isubh:function(t,e,n,r){var o=t>>>0,i=e>>>0,a=n>>>0;return i-(r>>>0)-((~o&a|~(o^a)&o-a>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{imulh:function(t,e){var n=65535,r=+t,o=+e,i=r&n,a=o&n,s=r>>16,u=o>>16,c=(s*a>>>0)+(i*a>>>16);return s*u+(c>>16)+((i*u>>>0)+(c&n)>>16)}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0),o=Math.PI/180;r(r.S,\\\"Math\\\",{radians:function(t){return t*o}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{scale:n(153)})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{umulh:function(t,e){var n=65535,r=+t,o=+e,i=r&n,a=o&n,s=r>>>16,u=o>>>16,c=(s*a>>>0)+(i*a>>>16);return s*u+(c>>>16)+((i*u>>>0)+(c&n)>>>16)}})},function(t,e,n){var r=n(0);r(r.S,\\\"Math\\\",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(105),i=n(140);r(r.S,\\\"Promise\\\",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(32),o=n(2),i=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,o(n),i(r))}})},function(t,e,n){var r=n(32),o=n(2),i=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:i(arguments[2]),r=a(o(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=s.get(e);return u.delete(n),!!u.size||s.delete(e)}})},function(t,e,n){var r=n(32),o=n(2),i=n(19),a=r.has,s=r.get,u=r.key,c=function(t,e,n){if(a(t,e,n))return s(t,e,n);var r=i(e);return null!==r?c(t,r,n):void 0};r.exp({getMetadata:function(t,e){return c(t,o(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(143),o=n(152),i=n(32),a=n(2),s=n(19),u=i.keys,c=i.key,l=function(t,e){var n=u(t,e),i=s(t);if(null===i)return n;var a=l(i,e);return a.length?n.length?o(new r(n.concat(a))):a:n};i.exp({getMetadataKeys:function(t){return l(a(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var r=n(32),o=n(2),i=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return i(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(32),o=n(2),i=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return i(o(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(32),o=n(2),i=n(19),a=r.has,s=r.key,u=function(t,e,n){if(a(t,e,n))return!0;var r=i(e);return null!==r&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,o(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(32),o=n(2),i=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return i(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(32),o=n(2),i=n(12),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?o:i)(n),a(r))}}})},function(t,e,n){var r=n(0),o=n(104)(),i=n(3).process,a=\\\"process\\\"==n(22)(i);r(r.G,{asap:function(t){var e=a&&i.domain;o(e?e.bind(t):t)}})},function(t,e,n){\\\"use strict\\\";var r=n(0),o=n(3),i=n(24),a=n(104)(),s=n(7)(\\\"observable\\\"),u=n(12),c=n(2),l=n(45),p=n(47),f=n(15),h=n(46),d=h.RETURN,y=function(t){return null==t?void 0:u(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},m=function(t){v(t)||(t._o=void 0,g(t))},b=function(t,e){c(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),r=n;null!=n&&(\\\"function\\\"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}v(this)&&g(this)};b.prototype=p({},{unsubscribe:function(){m(this)}});var _=function(t){this._s=t};_.prototype=p({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var r=y(n.next);if(r)return r.call(n,t)}catch(t){try{m(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=void 0;try{var r=y(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=void 0;try{var r=y(n.complete);t=r?r.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var P=function(t){l(this,P,\\\"Observable\\\",\\\"_f\\\")._f=u(t)};p(P.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(i.Promise||o.Promise)(function(n,r){u(t);var o=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),o.unsubscribe()}},error:r,complete:n})})}}),p(P,{from:function(t){var e=\\\"function\\\"==typeof this?this:P,n=y(c(t)[s]);if(n){var r=c(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(h(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new(\\\"function\\\"==typeof this?this:P)(function(t){var e=!1;return a(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),f(P.prototype,s,function(){return this}),r(r.G,{Observable:P}),n(44)(\\\"Observable\\\")},function(t,e){!function(t,e){\\\"use strict\\\";function n(){if(!i){i=!0;for(var t=0;t<o.length;t++)o[t].fn.call(window,o[t].ctx);o=[]}}function r(){\\\"complete\\\"===document.readyState&&n()}t=t||\\\"docReady\\\",e=e||window;var o=[],i=!1,a=!1;e[t]=function(t,e){if(i)return void setTimeout(function(){t(e)},1);o.push({fn:t,ctx:e}),\\\"complete\\\"===document.readyState||!document.attachEvent&&\\\"interactive\\\"===document.readyState?setTimeout(n,1):a||(document.addEventListener?(document.addEventListener(\\\"DOMContentLoaded\\\",n,!1),window.addEventListener(\\\"load\\\",n,!1)):(document.attachEvent(\\\"onreadystatechange\\\",r),window.attachEvent(\\\"onload\\\",n)),a=!0)}}(\\\"docReady\\\",window)},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(378),o=(n.n(r),n(157)),i=n(380),a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError(\\\"Generator is already executing.\\\");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?\\\"return\\\":n[0]?\\\"throw\\\":\\\"next\\\"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},\\\"function\\\"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},u=this;window.docReady(function(){return a(u,void 0,void 0,function(){var t,e,n,a,u,c,l;return s(this,function(s){for(t=document.querySelectorAll(\\\".ms-Spinner\\\"),e=[],n=0;n<t.length;n++)a=new window.fabric.Spinner(t[n]),e.push(a);return u=new i.a,window.addEventListener(\\\"error\\\",u.errorHandler),window.addEventListener(\\\"message\\\",u.messageHandler),c=r(),l=c.query(!0),l.action?(l.action,o.a.updateStatusMessage(\\\"Error: Unknown or unsupported action: \\\"+l.action),e[0].stop()):(o.a.updateStatusMessage(\\\"No Action Specified. This page is meant to be used by the Brightcove Video Connector Addin.\\\"),e[0].stop()),[2]})})})},function(t,e,n){var r,o,i;!function(a,s){\\\"use strict\\\";\\\"object\\\"==typeof t&&t.exports?t.exports=s(n(154),n(155),n(156)):(o=[n(154),n(155),n(156)],r=s,void 0!==(i=\\\"function\\\"==typeof r?r.apply(e,o):r)&&(t.exports=i))}(0,function(t,e,n,r){\\\"use strict\\\";function o(t,e){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof o))return n?r?new o(t,e):new o(t):new o;if(void 0===t){if(n)throw new TypeError(\\\"undefined is not a valid argument for URI\\\");t=\\\"undefined\\\"!=typeof location?location.href+\\\"\\\":\\\"\\\"}if(null===t&&n)throw new TypeError(\\\"null is not a valid argument for URI\\\");return this.href(t),void 0!==e?this.absoluteTo(e):this}function i(t){return/^[0-9]+$/.test(t)}function a(t){return t.replace(/([.*+?^=!:${}()|[\\\\]\\\\/\\\\\\\\])/g,\\\"\\\\\\\\$1\\\")}function s(t){return void 0===t?\\\"Undefined\\\":String(Object.prototype.toString.call(t)).slice(8,-1)}function u(t){return\\\"Array\\\"===s(t)}function c(t,e){var n,r,o={};if(\\\"RegExp\\\"===s(e))o=null;else if(u(e))for(n=0,r=e.length;n<r;n++)o[e[n]]=!0;else o[e]=!0;for(n=0,r=t.length;n<r;n++)(o&&void 0!==o[t[n]]||!o&&e.test(t[n]))&&(t.splice(n,1),r--,n--);return t}function l(t,e){var n,r;if(u(e)){for(n=0,r=e.length;n<r;n++)if(!l(t,e[n]))return!1;return!0}var o=s(e);for(n=0,r=t.length;n<r;n++)if(\\\"RegExp\\\"===o){if(\\\"string\\\"==typeof t[n]&&t[n].match(e))return!0}else if(t[n]===e)return!0;return!1}function p(t,e){if(!u(t)||!u(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function f(t){var e=/^\\\\/+|\\\\/+$/g;return t.replace(e,\\\"\\\")}function h(t){return escape(t)}function d(t){return encodeURIComponent(t).replace(/[!'()*]/g,h).replace(/\\\\*/g,\\\"%2A\\\")}function y(t){return function(e,n){return void 0===e?this._parts[t]||\\\"\\\":(this._parts[t]=e||null,this.build(!n),this)}}function g(t,e){return function(n,r){return void 0===n?this._parts[t]||\\\"\\\":(null!==n&&(n+=\\\"\\\",n.charAt(0)===e&&(n=n.substring(1))),this._parts[t]=n,this.build(!r),this)}}var v=r&&r.URI;o.version=\\\"1.19.1\\\";var m=o.prototype,b=Object.prototype.hasOwnProperty;o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:o.preventInvalidHostname,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.preventInvalidHostname=!1,o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\\\\._-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}$/,o.ip6_expression=/^\\\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]?\\\\d)){3}))|:)))(%.+)?\\\\s*$/,o.find_uri_expression=/\\\\b((?:[a-z][\\\\w-]+:(?:\\\\/{1,3}|[a-z0-9%])|www\\\\d{0,3}[.]|[a-z0-9.\\\\-]+[.][a-z]{2,4}\\\\/)(?:[^\\\\s()<>]+|\\\\(([^\\\\s()<>]+|(\\\\([^\\\\s()<>]+\\\\)))*\\\\))+(?:\\\\(([^\\\\s()<>]+|(\\\\([^\\\\s()<>]+\\\\)))*\\\\)|[^\\\\s`!()\\\\[\\\\]{};:'\\\".,<>?]))/gi,o.findUri={start:/\\\\b(?:([a-z][a-z0-9.+-]*:\\\\/\\\\/)|www\\\\.)/gi,end:/[\\\\s\\\\r\\\\n]|$/,trim:/[`!()\\\\[\\\\]{};:'\\\".,<>?]+$/,parens:/(\\\\([^\\\\)]*\\\\)|\\\\[[^\\\\]]*\\\\]|\\\\{[^}]*\\\\}|<[^>]*>)/g},o.defaultPorts={http:\\\"80\\\",https:\\\"443\\\",ftp:\\\"21\\\",gopher:\\\"70\\\",ws:\\\"80\\\",wss:\\\"443\\\"},o.hostProtocols=[\\\"http\\\",\\\"https\\\"],o.invalid_hostname_characters=/[^a-zA-Z0-9\\\\.\\\\-:_]/,o.domAttributes={a:\\\"href\\\",blockquote:\\\"cite\\\",link:\\\"href\\\",base:\\\"href\\\",script:\\\"src\\\",form:\\\"action\\\",img:\\\"src\\\",area:\\\"href\\\",iframe:\\\"src\\\",embed:\\\"src\\\",source:\\\"src\\\",track:\\\"src\\\",input:\\\"src\\\",audio:\\\"src\\\",video:\\\"src\\\"},o.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if(\\\"input\\\"!==e||\\\"image\\\"===t.type)return o.domAttributes[e]}},o.encode=d,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=d,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{\\\"%24\\\":\\\"$\\\",\\\"%26\\\":\\\"&\\\",\\\"%2B\\\":\\\"+\\\",\\\"%2C\\\":\\\",\\\",\\\"%3B\\\":\\\";\\\",\\\"%3D\\\":\\\"=\\\",\\\"%3A\\\":\\\":\\\",\\\"%40\\\":\\\"@\\\"}},decode:{expression:/[\\\\/\\\\?#]/g,map:{\\\"/\\\":\\\"%2F\\\",\\\"?\\\":\\\"%3F\\\",\\\"#\\\":\\\"%23\\\"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{\\\"%3A\\\":\\\":\\\",\\\"%2F\\\":\\\"/\\\",\\\"%3F\\\":\\\"?\\\",\\\"%23\\\":\\\"#\\\",\\\"%5B\\\":\\\"[\\\",\\\"%5D\\\":\\\"]\\\",\\\"%40\\\":\\\"@\\\",\\\"%21\\\":\\\"!\\\",\\\"%24\\\":\\\"$\\\",\\\"%26\\\":\\\"&\\\",\\\"%27\\\":\\\"'\\\",\\\"%28\\\":\\\"(\\\",\\\"%29\\\":\\\")\\\",\\\"%2A\\\":\\\"*\\\",\\\"%2B\\\":\\\"+\\\",\\\"%2C\\\":\\\",\\\",\\\"%3B\\\":\\\";\\\",\\\"%3D\\\":\\\"=\\\"}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{\\\"%21\\\":\\\"!\\\",\\\"%24\\\":\\\"$\\\",\\\"%27\\\":\\\"'\\\",\\\"%28\\\":\\\"(\\\",\\\"%29\\\":\\\")\\\",\\\"%2A\\\":\\\"*\\\",\\\"%2B\\\":\\\"+\\\",\\\"%2C\\\":\\\",\\\",\\\"%3B\\\":\\\";\\\",\\\"%3D\\\":\\\"=\\\",\\\"%40\\\":\\\"@\\\"}},decode:{expression:/[\\\\/\\\\?#:]/g,map:{\\\"/\\\":\\\"%2F\\\",\\\"?\\\":\\\"%3F\\\",\\\"#\\\":\\\"%23\\\",\\\":\\\":\\\"%3A\\\"}}}},o.encodeQuery=function(t,e){var n=o.encode(t+\\\"\\\");return void 0===e&&(e=o.escapeQuerySpace),e?n.replace(/%20/g,\\\"+\\\"):n},o.decodeQuery=function(t,e){t+=\\\"\\\",void 0===e&&(e=o.escapeQuerySpace);try{return o.decode(e?t.replace(/\\\\+/g,\\\"%20\\\"):t)}catch(e){return t}};var _,P={encode:\\\"encode\\\",decode:\\\"decode\\\"},w=function(t,e){return function(n){try{return o[e](n+\\\"\\\").replace(o.characters[t][e].expression,function(n){return o.characters[t][e].map[n]})}catch(t){return n}}};for(_ in P)o[_+\\\"PathSegment\\\"]=w(\\\"pathname\\\",P[_]),o[_+\\\"UrnPathSegment\\\"]=w(\\\"urnpath\\\",P[_]);var S=function(t,e,n){return function(r){var i;i=n?function(t){return o[e](o[n](t))}:o[e];for(var a=(r+\\\"\\\").split(t),s=0,u=a.length;s<u;s++)a[s]=i(a[s]);return a.join(t)}};o.decodePath=S(\\\"/\\\",\\\"decodePathSegment\\\"),o.decodeUrnPath=S(\\\":\\\",\\\"decodeUrnPathSegment\\\"),o.recodePath=S(\\\"/\\\",\\\"encodePathSegment\\\",\\\"decode\\\"),o.recodeUrnPath=S(\\\":\\\",\\\"encodeUrnPathSegment\\\",\\\"decode\\\"),o.encodeReserved=w(\\\"reserved\\\",\\\"encode\\\"),o.parse=function(t,e){var n;return e||(e={preventInvalidHostname:o.preventInvalidHostname}),n=t.indexOf(\\\"#\\\"),n>-1&&(e.fragment=t.substring(n+1)||null,t=t.substring(0,n)),n=t.indexOf(\\\"?\\\"),n>-1&&(e.query=t.substring(n+1)||null,t=t.substring(0,n)),\\\"//\\\"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=o.parseAuthority(t,e)):(n=t.indexOf(\\\":\\\"))>-1&&(e.protocol=t.substring(0,n)||null,e.protocol&&!e.protocol.match(o.protocol_expression)?e.protocol=void 0:\\\"//\\\"===t.substring(n+1,n+3)?(t=t.substring(n+3),t=o.parseAuthority(t,e)):(t=t.substring(n+1),e.urn=!0)),e.path=t,e},o.parseHost=function(t,e){t||(t=\\\"\\\"),t=t.replace(/\\\\\\\\/g,\\\"/\\\");var n,r,i=t.indexOf(\\\"/\\\");if(-1===i&&(i=t.length),\\\"[\\\"===t.charAt(0))n=t.indexOf(\\\"]\\\"),e.hostname=t.substring(1,n)||null,e.port=t.substring(n+2,i)||null,\\\"/\\\"===e.port&&(e.port=null);else{var a=t.indexOf(\\\":\\\"),s=t.indexOf(\\\"/\\\"),u=t.indexOf(\\\":\\\",a+1);-1!==u&&(-1===s||u<s)?(e.hostname=t.substring(0,i)||null,e.port=null):(r=t.substring(0,i).split(\\\":\\\"),e.hostname=r[0]||null,e.port=r[1]||null)}return e.hostname&&\\\"/\\\"!==t.substring(i).charAt(0)&&(i++,t=\\\"/\\\"+t),e.preventInvalidHostname&&o.ensureValidHostname(e.hostname,e.protocol),e.port&&o.ensureValidPort(e.port),t.substring(i)||\\\"/\\\"},o.parseAuthority=function(t,e){return t=o.parseUserinfo(t,e),o.parseHost(t,e)},o.parseUserinfo=function(t,e){var n,r=t.indexOf(\\\"/\\\"),i=t.lastIndexOf(\\\"@\\\",r>-1?r:t.length-1);return i>-1&&(-1===r||i<r)?(n=t.substring(0,i).split(\\\":\\\"),e.username=n[0]?o.decode(n[0]):null,n.shift(),e.password=n[0]?o.decode(n.join(\\\":\\\")):null,t=t.substring(i+1)):(e.username=null,e.password=null),t},o.parseQuery=function(t,e){if(!t)return{};if(!(t=t.replace(/&+/g,\\\"&\\\").replace(/^\\\\?*&*|&+$/g,\\\"\\\")))return{};for(var n,r,i,a={},s=t.split(\\\"&\\\"),u=s.length,c=0;c<u;c++)n=s[c].split(\\\"=\\\"),r=o.decodeQuery(n.shift(),e),i=n.length?o.decodeQuery(n.join(\\\"=\\\"),e):null,b.call(a,r)?(\\\"string\\\"!=typeof a[r]&&null!==a[r]||(a[r]=[a[r]]),a[r].push(i)):a[r]=i;return a},o.build=function(t){var e=\\\"\\\";return t.protocol&&(e+=t.protocol+\\\":\\\"),t.urn||!e&&!t.hostname||(e+=\\\"//\\\"),e+=o.buildAuthority(t)||\\\"\\\",\\\"string\\\"==typeof t.path&&(\\\"/\\\"!==t.path.charAt(0)&&\\\"string\\\"==typeof t.hostname&&(e+=\\\"/\\\"),e+=t.path),\\\"string\\\"==typeof t.query&&t.query&&(e+=\\\"?\\\"+t.query),\\\"string\\\"==typeof t.fragment&&t.fragment&&(e+=\\\"#\\\"+t.fragment),e},o.buildHost=function(t){var e=\\\"\\\";return t.hostname?(o.ip6_expression.test(t.hostname)?e+=\\\"[\\\"+t.hostname+\\\"]\\\":e+=t.hostname,t.port&&(e+=\\\":\\\"+t.port),e):\\\"\\\"},o.buildAuthority=function(t){return o.buildUserinfo(t)+o.buildHost(t)},o.buildUserinfo=function(t){var e=\\\"\\\";return t.username&&(e+=o.encode(t.username)),t.password&&(e+=\\\":\\\"+o.encode(t.password)),e&&(e+=\\\"@\\\"),e},o.buildQuery=function(t,e,n){var r,i,a,s,c=\\\"\\\";for(i in t)if(b.call(t,i)&&i)if(u(t[i]))for(r={},a=0,s=t[i].length;a<s;a++)void 0!==t[i][a]&&void 0===r[t[i][a]+\\\"\\\"]&&(c+=\\\"&\\\"+o.buildQueryParameter(i,t[i][a],n),!0!==e&&(r[t[i][a]+\\\"\\\"]=!0));else void 0!==t[i]&&(c+=\\\"&\\\"+o.buildQueryParameter(i,t[i],n));return c.substring(1)},o.buildQueryParameter=function(t,e,n){return o.encodeQuery(t,n)+(null!==e?\\\"=\\\"+o.encodeQuery(e,n):\\\"\\\")},o.addQuery=function(t,e,n){if(\\\"object\\\"==typeof e)for(var r in e)b.call(e,r)&&o.addQuery(t,r,e[r]);else{if(\\\"string\\\"!=typeof e)throw new TypeError(\\\"URI.addQuery() accepts an object, string as the name parameter\\\");if(void 0===t[e])return void(t[e]=n);\\\"string\\\"==typeof t[e]&&(t[e]=[t[e]]),u(n)||(n=[n]),t[e]=(t[e]||[]).concat(n)}},o.setQuery=function(t,e,n){if(\\\"object\\\"==typeof e)for(var r in e)b.call(e,r)&&o.setQuery(t,r,e[r]);else{if(\\\"string\\\"!=typeof e)throw new TypeError(\\\"URI.setQuery() accepts an object, string as the name parameter\\\");t[e]=void 0===n?null:n}},o.removeQuery=function(t,e,n){var r,i,a;if(u(e))for(r=0,i=e.length;r<i;r++)t[e[r]]=void 0;else if(\\\"RegExp\\\"===s(e))for(a in t)e.test(a)&&(t[a]=void 0);else if(\\\"object\\\"==typeof e)for(a in e)b.call(e,a)&&o.removeQuery(t,a,e[a]);else{if(\\\"string\\\"!=typeof e)throw new TypeError(\\\"URI.removeQuery() accepts an object, string, RegExp as the first parameter\\\");void 0!==n?\\\"RegExp\\\"===s(n)?!u(t[e])&&n.test(t[e])?t[e]=void 0:t[e]=c(t[e],n):t[e]!==String(n)||u(n)&&1!==n.length?u(t[e])&&(t[e]=c(t[e],n)):t[e]=void 0:t[e]=void 0}},o.hasQuery=function(t,e,n,r){switch(s(e)){case\\\"String\\\":break;case\\\"RegExp\\\":for(var i in t)if(b.call(t,i)&&e.test(i)&&(void 0===n||o.hasQuery(t,i,n)))return!0;return!1;case\\\"Object\\\":for(var a in e)if(b.call(e,a)&&!o.hasQuery(t,a,e[a]))return!1;return!0;default:throw new TypeError(\\\"URI.hasQuery() accepts a string, regular expression or object as the name parameter\\\")}switch(s(n)){case\\\"Undefined\\\":return e in t;case\\\"Boolean\\\":return n===Boolean(u(t[e])?t[e].length:t[e]);case\\\"Function\\\":return!!n(t[e],e,t);case\\\"Array\\\":return!!u(t[e])&&(r?l:p)(t[e],n);case\\\"RegExp\\\":return u(t[e])?!!r&&l(t[e],n):Boolean(t[e]&&t[e].match(n));case\\\"Number\\\":n=String(n);case\\\"String\\\":return u(t[e])?!!r&&l(t[e],n):t[e]===n;default:throw new TypeError(\\\"URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter\\\")}},o.joinPaths=function(){for(var t=[],e=[],n=0,r=0;r<arguments.length;r++){var i=new o(arguments[r]);t.push(i);for(var a=i.segment(),s=0;s<a.length;s++)\\\"string\\\"==typeof a[s]&&e.push(a[s]),a[s]&&n++}if(!e.length||!n)return new o(\\\"\\\");var u=new o(\\\"\\\").segment(e);return\\\"\\\"!==t[0].path()&&\\\"/\\\"!==t[0].path().slice(0,1)||u.path(\\\"/\\\"+u.path()),u.normalize()},o.commonPath=function(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n++)if(t.charAt(n)!==e.charAt(n)){n--;break}return n<1?t.charAt(0)===e.charAt(0)&&\\\"/\\\"===t.charAt(0)?\\\"/\\\":\\\"\\\":(\\\"/\\\"===t.charAt(n)&&\\\"/\\\"===e.charAt(n)||(n=t.substring(0,n).lastIndexOf(\\\"/\\\")),t.substring(0,n+1))},o.withinString=function(t,e,n){n||(n={});var r=n.start||o.findUri.start,i=n.end||o.findUri.end,a=n.trim||o.findUri.trim,s=n.parens||o.findUri.parens,u=/[a-z0-9-]=[\\\"']?$/i;for(r.lastIndex=0;;){var c=r.exec(t);if(!c)break;var l=c.index;if(n.ignoreHtml){var p=t.slice(Math.max(l-3,0),l);if(p&&u.test(p))continue}for(var f=l+t.slice(l).search(i),h=t.slice(l,f),d=-1;;){var y=s.exec(h);if(!y)break;var g=y.index+y[0].length;d=Math.max(d,g)}if(h=d>-1?h.slice(0,d)+h.slice(d).replace(a,\\\"\\\"):h.replace(a,\\\"\\\"),!(h.length<=c[0].length||n.ignore&&n.ignore.test(h))){f=l+h.length;var v=e(h,l,f,t);void 0!==v?(v=String(v),t=t.slice(0,l)+v+t.slice(f),r.lastIndex=l+v.length):r.lastIndex=f}}return r.lastIndex=0,t},o.ensureValidHostname=function(e,n){var r=!!e,i=!!n,a=!1;if(i&&(a=l(o.hostProtocols,n)),a&&!r)throw new TypeError(\\\"Hostname cannot be empty, if protocol is \\\"+n);if(e&&e.match(o.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname \\\"'+e+'\\\" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(t.toASCII(e).match(o.invalid_hostname_characters))throw new TypeError('Hostname \\\"'+e+'\\\" contains characters other than [A-Z0-9.-:_]')}},o.ensureValidPort=function(t){if(t){var e=Number(t);if(!(i(e)&&e>0&&e<65536))throw new TypeError('Port \\\"'+t+'\\\" is not a valid port')}},o.noConflict=function(t){if(t){var e={URI:this.noConflict()};return r.URITemplate&&\\\"function\\\"==typeof r.URITemplate.noConflict&&(e.URITemplate=r.URITemplate.noConflict()),r.IPv6&&\\\"function\\\"==typeof r.IPv6.noConflict&&(e.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&\\\"function\\\"==typeof r.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=r.SecondLevelDomains.noConflict()),e}return r.URI===this&&(r.URI=v),this},m.build=function(t){return!0===t?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},m.clone=function(){return new o(this)},m.valueOf=m.toString=function(){return this.build(!1)._string},m.protocol=y(\\\"protocol\\\"),m.username=y(\\\"username\\\"),m.password=y(\\\"password\\\"),m.hostname=y(\\\"hostname\\\"),m.port=y(\\\"port\\\"),m.query=g(\\\"query\\\",\\\"?\\\"),m.fragment=g(\\\"fragment\\\",\\\"#\\\"),m.search=function(t,e){var n=this.query(t,e);return\\\"string\\\"==typeof n&&n.length?\\\"?\\\"+n:n},m.hash=function(t,e){var n=this.fragment(t,e);return\\\"string\\\"==typeof n&&n.length?\\\"#\\\"+n:n},m.pathname=function(t,e){if(void 0===t||!0===t){var n=this._parts.path||(this._parts.hostname?\\\"/\\\":\\\"\\\");return t?(this._parts.urn?o.decodeUrnPath:o.decodePath)(n):n}return this._parts.urn?this._parts.path=t?o.recodeUrnPath(t):\\\"\\\":this._parts.path=t?o.recodePath(t):\\\"/\\\",this.build(!e),this},m.path=m.pathname,m.href=function(t,e){var n;if(void 0===t)return this.toString();this._string=\\\"\\\",this._parts=o._parts();var r=t instanceof o,i=\\\"object\\\"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName&&(t=t[o.getDomAttribute(t)]||\\\"\\\",i=!1),!r&&i&&void 0!==t.pathname&&(t=t.toString()),\\\"string\\\"==typeof t||t instanceof String)this._parts=o.parse(String(t),this._parts);else{if(!r&&!i)throw new TypeError(\\\"invalid input\\\");var a=r?t._parts:t;for(n in a)\\\"query\\\"!==n&&b.call(this._parts,n)&&(this._parts[n]=a[n]);a.query&&this.query(a.query,!1)}return this.build(!e),this},m.is=function(t){var e=!1,r=!1,i=!1,a=!1,s=!1,u=!1,c=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,r=o.ip4_expression.test(this._parts.hostname),i=o.ip6_expression.test(this._parts.hostname),e=r||i,a=!e,s=a&&n&&n.has(this._parts.hostname),u=a&&o.idn_expression.test(this._parts.hostname),c=a&&o.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case\\\"relative\\\":return l;case\\\"absolute\\\":return!l;case\\\"domain\\\":case\\\"name\\\":return a;case\\\"sld\\\":return s;case\\\"ip\\\":return e;case\\\"ip4\\\":case\\\"ipv4\\\":case\\\"inet4\\\":return r;case\\\"ip6\\\":case\\\"ipv6\\\":case\\\"inet6\\\":return i;case\\\"idn\\\":return u;case\\\"url\\\":return!this._parts.urn;case\\\"urn\\\":return!!this._parts.urn;case\\\"punycode\\\":return c}return null};var O=m.protocol,x=m.port,C=m.hostname;m.protocol=function(t,e){if(t&&(t=t.replace(/:(\\\\/\\\\/)?$/,\\\"\\\"),!t.match(o.protocol_expression)))throw new TypeError('Protocol \\\"'+t+\\\"\\\\\\\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]\\\");return O.call(this,t,e)},m.scheme=m.protocol,m.port=function(t,e){return this._parts.urn?void 0===t?\\\"\\\":this:(void 0!==t&&(0===t&&(t=null),t&&(t+=\\\"\\\",\\\":\\\"===t.charAt(0)&&(t=t.substring(1)),o.ensureValidPort(t))),x.call(this,t,e))},m.hostname=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(void 0!==t){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if(\\\"/\\\"!==o.parseHost(t,n))throw new TypeError('Hostname \\\"'+t+'\\\" contains characters other than [A-Z0-9.-]');t=n.hostname,this._parts.preventInvalidHostname&&o.ensureValidHostname(t,this._parts.protocol)}return C.call(this,t,e)},m.origin=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(void 0===t){var n=this.protocol();return this.authority()?(n?n+\\\"://\\\":\\\"\\\")+this.authority():\\\"\\\"}var r=o(t);return this.protocol(r.protocol()).authority(r.authority()).build(!e),this},m.host=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(void 0===t)return this._parts.hostname?o.buildHost(this._parts):\\\"\\\";if(\\\"/\\\"!==o.parseHost(t,this._parts))throw new TypeError('Hostname \\\"'+t+'\\\" contains characters other than [A-Z0-9.-]');return this.build(!e),this},m.authority=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(void 0===t)return this._parts.hostname?o.buildAuthority(this._parts):\\\"\\\";if(\\\"/\\\"!==o.parseAuthority(t,this._parts))throw new TypeError('Hostname \\\"'+t+'\\\" contains characters other than [A-Z0-9.-]');return this.build(!e),this},m.userinfo=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(void 0===t){var n=o.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return\\\"@\\\"!==t[t.length-1]&&(t+=\\\"@\\\"),o.parseUserinfo(t,this._parts),this.build(!e),this},m.resource=function(t,e){var n;return void 0===t?this.path()+this.search()+this.hash():(n=o.parse(t),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!e),this)},m.subdomain=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(void 0===t){if(!this._parts.hostname||this.is(\\\"IP\\\"))return\\\"\\\";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||\\\"\\\"}var r=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,r),s=new RegExp(\\\"^\\\"+a(i));if(t&&\\\".\\\"!==t.charAt(t.length-1)&&(t+=\\\".\\\"),-1!==t.indexOf(\\\":\\\"))throw new TypeError(\\\"Domains cannot contain colons\\\");return t&&o.ensureValidHostname(t,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(s,t),this.build(!e),this},m.domain=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(\\\"boolean\\\"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is(\\\"IP\\\"))return\\\"\\\";var n=this._parts.hostname.match(/\\\\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(e).length-1;return r=this._parts.hostname.lastIndexOf(\\\".\\\",r-1)+1,this._parts.hostname.substring(r)||\\\"\\\"}if(!t)throw new TypeError(\\\"cannot set domain empty\\\");if(-1!==t.indexOf(\\\":\\\"))throw new TypeError(\\\"Domains cannot contain colons\\\");if(o.ensureValidHostname(t,this._parts.protocol),!this._parts.hostname||this.is(\\\"IP\\\"))this._parts.hostname=t;else{var i=new RegExp(a(this.domain())+\\\"$\\\");this._parts.hostname=this._parts.hostname.replace(i,t)}return this.build(!e),this},m.tld=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(\\\"boolean\\\"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is(\\\"IP\\\"))return\\\"\\\";var r=this._parts.hostname.lastIndexOf(\\\".\\\"),o=this._parts.hostname.substring(r+1);return!0!==e&&n&&n.list[o.toLowerCase()]?n.get(this._parts.hostname)||o:o}var i;if(!t)throw new TypeError(\\\"cannot set TLD empty\\\");if(t.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(t))throw new TypeError('TLD \\\"'+t+'\\\" contains characters other than [A-Z0-9]');i=new RegExp(a(this.tld())+\\\"$\\\"),this._parts.hostname=this._parts.hostname.replace(i,t)}else{if(!this._parts.hostname||this.is(\\\"IP\\\"))throw new ReferenceError(\\\"cannot set TLD on non-domain host\\\");i=new RegExp(a(this.tld())+\\\"$\\\"),this._parts.hostname=this._parts.hostname.replace(i,t)}return this.build(!e),this},m.directory=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(void 0===t||!0===t){if(!this._parts.path&&!this._parts.hostname)return\\\"\\\";if(\\\"/\\\"===this._parts.path)return\\\"/\\\";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?\\\"/\\\":\\\"\\\");return t?o.decodePath(r):r}var i=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,i),u=new RegExp(\\\"^\\\"+a(s));return this.is(\\\"relative\\\")||(t||(t=\\\"/\\\"),\\\"/\\\"!==t.charAt(0)&&(t=\\\"/\\\"+t)),t&&\\\"/\\\"!==t.charAt(t.length-1)&&(t+=\\\"/\\\"),t=o.recodePath(t),this._parts.path=this._parts.path.replace(u,t),this.build(!e),this},m.filename=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(\\\"string\\\"!=typeof t){if(!this._parts.path||\\\"/\\\"===this._parts.path)return\\\"\\\";var n=this._parts.path.lastIndexOf(\\\"/\\\"),r=this._parts.path.substring(n+1);return t?o.decodePathSegment(r):r}var i=!1;\\\"/\\\"===t.charAt(0)&&(t=t.substring(1)),t.match(/\\\\.?\\\\//)&&(i=!0);var s=new RegExp(a(this.filename())+\\\"$\\\");return t=o.recodePath(t),this._parts.path=this._parts.path.replace(s,t),i?this.normalizePath(e):this.build(!e),this},m.suffix=function(t,e){if(this._parts.urn)return void 0===t?\\\"\\\":this;if(void 0===t||!0===t){if(!this._parts.path||\\\"/\\\"===this._parts.path)return\\\"\\\";var n,r,i=this.filename(),s=i.lastIndexOf(\\\".\\\");return-1===s?\\\"\\\":(n=i.substring(s+1),r=/^[a-z0-9%]+$/i.test(n)?n:\\\"\\\",t?o.decodePathSegment(r):r)}\\\".\\\"===t.charAt(0)&&(t=t.substring(1));var u,c=this.suffix();if(c)u=t?new RegExp(a(c)+\\\"$\\\"):new RegExp(a(\\\".\\\"+c)+\\\"$\\\");else{if(!t)return this;this._parts.path+=\\\".\\\"+o.recodePath(t)}return u&&(t=o.recodePath(t),this._parts.path=this._parts.path.replace(u,t)),this.build(!e),this},m.segment=function(t,e,n){var r=this._parts.urn?\\\":\\\":\\\"/\\\",o=this.path(),i=\\\"/\\\"===o.substring(0,1),a=o.split(r);if(void 0!==t&&\\\"number\\\"!=typeof t&&(n=e,e=t,t=void 0),void 0!==t&&\\\"number\\\"!=typeof t)throw new Error('Bad segment \\\"'+t+'\\\", must be 0-based integer');if(i&&a.shift(),t<0&&(t=Math.max(a.length+t,0)),void 0===e)return void 0===t?a:a[t];if(null===t||void 0===a[t])if(u(e)){a=[];for(var s=0,c=e.length;s<c;s++)(e[s].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(f(e[s])))}else(e||\\\"string\\\"==typeof e)&&(e=f(e),\\\"\\\"===a[a.length-1]?a[a.length-1]=e:a.push(e));else e?a[t]=f(e):a.splice(t,1);return i&&a.unshift(\\\"\\\"),this.path(a.join(r),n)},m.segmentCoded=function(t,e,n){var r,i,a;if(\\\"number\\\"!=typeof t&&(n=e,e=t,t=void 0),void 0===e){if(r=this.segment(t,e,n),u(r))for(i=0,a=r.length;i<a;i++)r[i]=o.decode(r[i]);else r=void 0!==r?o.decode(r):void 0;return r}if(u(e))for(i=0,a=e.length;i<a;i++)e[i]=o.encode(e[i]);else e=\\\"string\\\"==typeof e||e instanceof String?o.encode(e):e;return this.segment(t,e,n)};var I=m.query;return m.query=function(t,e){if(!0===t)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(\\\"function\\\"==typeof t){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=t.call(this,n);return this._parts.query=o.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&\\\"string\\\"!=typeof t?(this._parts.query=o.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):I.call(this,t,e)},m.setQuery=function(t,e,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(\\\"string\\\"==typeof t||t instanceof String)r[t]=void 0!==e?e:null;else{if(\\\"object\\\"!=typeof t)throw new TypeError(\\\"URI.addQuery() accepts an object, string as the name parameter\\\");for(var i in t)b.call(t,i)&&(r[i]=t[i])}return this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),\\\"string\\\"!=typeof t&&(n=e),this.build(!n),this},m.addQuery=function(t,e,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(r,t,void 0===e?null:e),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),\\\"string\\\"!=typeof t&&(n=e),this.build(!n),this},m.removeQuery=function(t,e,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(r,t,e),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),\\\"string\\\"!=typeof t&&(n=e),this.build(!n),this},m.hasQuery=function(t,e,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(r,t,e,n)},m.setSearch=m.setQuery,m.addSearch=m.addQuery,m.removeSearch=m.removeQuery,m.hasSearch=m.hasQuery,m.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},m.normalizeProtocol=function(t){return\\\"string\\\"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},m.normalizeHostname=function(n){return this._parts.hostname&&(this.is(\\\"IDN\\\")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is(\\\"IPv6\\\")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},m.normalizePort=function(t){return\\\"string\\\"==typeof this._parts.protocol&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},m.normalizePath=function(t){var e=this._parts.path;if(!e)return this;if(this._parts.urn)return this._parts.path=o.recodeUrnPath(this._parts.path),this.build(!t),this;if(\\\"/\\\"===this._parts.path)return this;e=o.recodePath(e);var n,r,i,a=\\\"\\\";for(\\\"/\\\"!==e.charAt(0)&&(n=!0,e=\\\"/\\\"+e),\\\"/..\\\"!==e.slice(-3)&&\\\"/.\\\"!==e.slice(-2)||(e+=\\\"/\\\"),e=e.replace(/(\\\\/(\\\\.\\\\/)+)|(\\\\/\\\\.$)/g,\\\"/\\\").replace(/\\\\/{2,}/g,\\\"/\\\"),n&&(a=e.substring(1).match(/^(\\\\.\\\\.\\\\/)+/)||\\\"\\\")&&(a=a[0]);-1!==(r=e.search(/\\\\/\\\\.\\\\.(\\\\/|$)/));)0!==r?(i=e.substring(0,r).lastIndexOf(\\\"/\\\"),-1===i&&(i=r),e=e.substring(0,i)+e.substring(r+3)):e=e.substring(3);return n&&this.is(\\\"relative\\\")&&(e=a+e.substring(1)),this._parts.path=e,this.build(!t),this},m.normalizePathname=m.normalizePath,m.normalizeQuery=function(t){return\\\"string\\\"==typeof this._parts.query&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},m.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},m.normalizeSearch=m.normalizeQuery,m.normalizeHash=m.normalizeFragment,m.iso8859=function(){var t=o.encode,e=o.decode;o.encode=escape,o.decode=decodeURIComponent;try{this.normalize()}finally{o.encode=t,o.decode=e}return this},m.unicode=function(){var t=o.encode,e=o.decode;o.encode=d,o.decode=unescape;try{this.normalize()}finally{o.encode=t,o.decode=e}return this},m.readable=function(){var e=this.clone();e.username(\\\"\\\").password(\\\"\\\").normalize();var n=\\\"\\\";if(e._parts.protocol&&(n+=e._parts.protocol+\\\"://\\\"),e._parts.hostname&&(e.is(\\\"punycode\\\")&&t?(n+=t.toUnicode(e._parts.hostname),e._parts.port&&(n+=\\\":\\\"+e._parts.port)):n+=e.host()),e._parts.hostname&&e._parts.path&&\\\"/\\\"!==e._parts.path.charAt(0)&&(n+=\\\"/\\\"),n+=e.path(!0),e._parts.query){for(var r=\\\"\\\",i=0,a=e._parts.query.split(\\\"&\\\"),s=a.length;i<s;i++){var u=(a[i]||\\\"\\\").split(\\\"=\\\");r+=\\\"&\\\"+o.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,\\\"%26\\\"),void 0!==u[1]&&(r+=\\\"=\\\"+o.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,\\\"%26\\\"))}n+=\\\"?\\\"+r.substring(1)}return n+=o.decodeQuery(e.hash(),!0)},m.absoluteTo=function(t){var e,n,r,i=this.clone(),a=[\\\"protocol\\\",\\\"username\\\",\\\"password\\\",\\\"hostname\\\",\\\"port\\\"];if(this._parts.urn)throw new Error(\\\"URNs do not have any generally defined hierarchical components\\\");if(t instanceof o||(t=new o(t)),i._parts.protocol)return i;if(i._parts.protocol=t._parts.protocol,this._parts.hostname)return i;for(n=0;r=a[n];n++)i._parts[r]=t._parts[r];return i._parts.path?(\\\"..\\\"===i._parts.path.substring(-2)&&(i._parts.path+=\\\"/\\\"),\\\"/\\\"!==i.path().charAt(0)&&(e=t.directory(),e=e||(0===t.path().indexOf(\\\"/\\\")?\\\"/\\\":\\\"\\\"),i._parts.path=(e?e+\\\"/\\\":\\\"\\\")+i._parts.path,i.normalizePath())):(i._parts.path=t._parts.path,i._parts.query||(i._parts.query=t._parts.query)),i.build(),i},m.relativeTo=function(t){var e,n,r,i,a,s=this.clone().normalize();if(s._parts.urn)throw new Error(\\\"URNs do not have any generally defined hierarchical components\\\");if(t=new o(t).normalize(),e=s._parts,n=t._parts,i=s.path(),a=t.path(),\\\"/\\\"!==i.charAt(0))throw new Error(\\\"URI is already relative\\\");if(\\\"/\\\"!==a.charAt(0))throw new Error(\\\"Cannot calculate a URI relative to another relative URI\\\");if(e.protocol===n.protocol&&(e.protocol=null),e.username!==n.username||e.password!==n.password)return s.build();if(null!==e.protocol||null!==e.username||null!==e.password)return s.build();if(e.hostname!==n.hostname||e.port!==n.port)return s.build();if(e.hostname=null,e.port=null,i===a)return e.path=\\\"\\\",s.build();if(!(r=o.commonPath(i,a)))return s.build();var u=n.path.substring(r.length).replace(/[^\\\\/]*$/,\\\"\\\").replace(/.*?\\\\//g,\\\"../\\\");return e.path=u+e.path.substring(r.length)||\\\"./\\\",s.build()},m.equals=function(t){var e,n,r,i=this.clone(),a=new o(t),s={},c={},l={};if(i.normalize(),a.normalize(),i.toString()===a.toString())return!0;if(e=i.query(),n=a.query(),i.query(\\\"\\\"),a.query(\\\"\\\"),i.toString()!==a.toString())return!1;if(e.length!==n.length)return!1;s=o.parseQuery(e,this._parts.escapeQuerySpace),c=o.parseQuery(n,this._parts.escapeQuerySpace);for(r in s)if(b.call(s,r)){if(u(s[r])){if(!p(s[r],c[r]))return!1}else if(s[r]!==c[r])return!1;l[r]=!0}for(r in c)if(b.call(c,r)&&!l[r])return!1;return!0},m.preventInvalidHostname=function(t){return this._parts.preventInvalidHostname=!!t,this},m.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},m.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},o})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\\\"loaded\\\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\\\"id\\\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){\\\"use strict\\\";n.d(e,\\\"a\\\",function(){return u});var r=n(157),o=n(158),i=(n.n(o),this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}),a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError(\\\"Generator is already executing.\\\");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?\\\"return\\\":n[0]?\\\"throw\\\":\\\"next\\\"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},\\\"function\\\"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},u=function(){function t(){var t=this;this.commandMap={InsertWebPart:function(e,n,r,o){t.insertWebPart(e,n,r,o)},UploadWebPartToGallery:function(e,n,r,o){t.uploadWebPartToGallery(e,n,r,o)},Fetch:function(e,n,r,o){t.fetch(e,n,r,o)},Ping:function(t,e,n,o){r.a.postMessage(t,i({},o,{$$result:\\\"success\\\",data:\\\"Pong\\\"}))},Status:function(t,e,n,o){r.a.postMessage(t,i({},o,{$$result:\\\"success\\\",data:r.a.currentStatus}))},Eval:function(t,e,n,o){try{(0,eval)(o.code)}catch(o){r.a.postMessageError(t,e,n,o)}r.a.postMessage(t,{$$command:e,$$postMessageId:n,$$result:\\\"success\\\"})}},this.currentErrorHandler=function(t){},this.errorHandler=this.errorHandler.bind(this),this.messageHandler=this.messageHandler.bind(this)}return t.prototype.errorHandler=function(t){this.currentErrorHandler(t)},t.prototype.messageHandler=function(t){var e=t.origin||t.originalEvent.origin,n=t.data.$$command,o=t.data.$$postMessageId,i=t.source;if(e&&n&&o&&i){if(r.a.brightcoveConfig.trustedOriginAuthorities&&r.a.brightcoveConfig.trustedOriginAuthorities.length){for(var a=!1,s=0,u=r.a.brightcoveConfig.trustedOriginAuthorities;s<u.length;s++){var c=u[s];if(RegExp(c,\\\"ig\\\").test(e)){a=!0;break}}if(!a){var l=\\\"The specified origin is not trusted by the HostWebProxy: \\\"+e,p={$$command:n,$$postMessageId:o,$$result:\\\"error\\\",message:l,invalidOrigin:e,url:window.location.href};throw r.a.postMessage(i,p),Error(l)}}this.processCommand(i,n,o,t.data)}},t.prototype.processCommand=function(t,e,n,o){if(this.commandMap[e])try{this.commandMap[e].call(this,t,e,n,o)}catch(o){r.a.postMessageError(t,e,n,o)}finally{return}r.a.postMessage(t,{$$command:e,$$postMessageId:n,$$result:\\\"error\\\",message:\\\"Unknown or unsupported command: \\\"+e})},t.prototype.insertWebPart=function(t,e,n,o){return a(this,void 0,void 0,function(){var i,a,u,c,l,p,f,h,d,y,g,v,m,b,_;return s(this,function(s){switch(s.label){case 0:if(s.trys.push([0,5,,6]),!o.hostWebUrl)throw Error(\\\"A hostWebUrl property must be specified as part of the request.\\\");if(!o.webPartPageUrl)throw Error(\\\"A webPartPageUrl property must be specified as part of the request.\\\");return i=new SP.ClientContext(o.hostWebUrl),a=i.get_web(),u=a.getFileByServerRelativeUrl(o.webPartPageUrl),c=u.getLimitedWebPartManager(SP.WebParts.PersonalizationScope.shared),l=c.importWebPart(o.webPartXml),p=l.get_webPart(),f=c.addWebPart(p,o.zoneId||\\\"wpz\\\",o.zoneIndex||0),i.load(f),i.load(p),[4,r.a.executePendingQuery(i)];case 1:return s.sent(),h=f.get_id().toString(),d=void 0,!0===o.isWikiPage?d=\\\"WikiField\\\":!0===o.isPublishingPag&&(d=\\\"PublishingPagecontent\\\"),d?(y='<div class=\\\"ms-rtestate-read ms-rte-wpbox\\\"><div class=\\\"ms-rtestate-notify  ms-rtestate-read '+h+'\\\" id=\\\"div_'+h+'\\\" unselectable=\\\"on\\\"></div><div id=\\\"vid_'+h+'\\\" unselectable=\\\"on\\\" style=\\\"display&#58;none;\\\"></div></div>',g=a.getFileByServerRelativeUrl(o.webPartPageUrl),v=g.get_listItemAllFields(),i.load(v),[4,r.a.executePendingQuery(i)]):[3,4];case 2:return s.sent(),m=v.get_item(d),m=y+m,v.set_item(d,m),v.update(),[4,r.a.executePendingQuery(i)];case 3:s.sent(),s.label=4;case 4:return b={$$command:e,$$postMessageId:n,$$result:\\\"success\\\",data:{webPartId:h}},r.a.postMessage(t,b),[3,6];case 5:throw _=s.sent(),console.error(_),r.a.postMessageError(t,e,n,_),_;case 6:return[2]}})})},t.prototype.uploadWebPartToGallery=function(t,e,n,i){return a(this,void 0,void 0,function(){var a,u,c,l,p;return s(this,function(s){switch(s.label){case 0:if(s.trys.push([0,5,,6]),!i.hostWebUrl)throw Error(\\\"A hostWebUrl property must be specified as part of the request.\\\");return a=new o.Web(i.hostWebUrl),[4,a.lists.getByTitle(\\\"Web Part Gallery\\\").rootFolder.files.add(i.webPartFileName,i.webPartXml,!0)];case 1:return u=s.sent(),i.group?[4,u.file.getItem()]:[3,4];case 2:return c=s.sent(),[4,c.update({Group:i.group})];case 3:s.sent(),s.label=4;case 4:return l={$$command:e,$$postMessageId:n,$$result:\\\"success\\\",data:{result:u}},r.a.postMessage(t,l),[3,6];case 5:throw p=s.sent(),console.error(p),r.a.postMessageError(t,e,n,p),p;case 6:return[2]}})})},t.prototype.fetch=function(t,e,n,o){return a(this,void 0,void 0,function(){var i,a,u,c,l,p,f,h,d,y,g,v;return s(this,function(s){switch(s.label){case 0:if(i={cache:o.cache,credentials:o.credentials,method:o.method,mode:\\\"same-origin\\\"},o.headers)for(i.headers=new Headers,a=0,u=Object.keys(o.headers);a<u.length;a++)c=u[a],i.headers.append(c,o.headers[c]);\\\"GET\\\"!==o.method.toUpperCase()&&(i.body=o.body,i.bodyUsed=!0),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(o.url,i)];case 2:return l=s.sent(),p={},\\\"function\\\"==typeof l.headers.forEach&&l.headers.forEach(function(t,e,n){p[e]=t}),h={$$command:e,$$postMessageId:n,$$result:\\\"success\\\",headers:p,data:void 0},[4,l.arrayBuffer()];case 3:for(h.transferrableData=s.sent(),f=h,d=0,y=[\\\"ok\\\",\\\"redirected\\\",\\\"status\\\",\\\"statusText\\\",\\\"type\\\",\\\"url\\\"];d<y.length;d++)g=y[d],f[g]=l[g];return r.a.postMessage(t,f),[3,5];case 4:return v=s.sent(),r.a.postMessageError(t,e,n,v),[3,5];case 5:return[2]}})})},t}()},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(54),o=function(){function t(){this._settings=new r.Dictionary}return t.prototype.add=function(t,e){this._settings.add(t,e)},t.prototype.addJSON=function(t,e){this._settings.add(t,JSON.stringify(e))},t.prototype.apply=function(t){var e=this;return new Promise(function(n,r){try{e._settings.merge(t),n()}catch(t){r(t)}})},t.prototype.load=function(t){var e=this;return new Promise(function(n,r){t.getConfiguration().then(function(t){e._settings.merge(t),n()}).catch(function(t){r(t)})})},t.prototype.get=function(t){return this._settings.get(t)},t.prototype.getJSON=function(t){var e=this.get(t);return void 0===e||null===e?e:JSON.parse(e)},t}();e.Settings=o},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(160),o=n(162),i=n(163),a=n(60),s=n(1),u=n(390),c=n(170),l=n(116),p=n(20),f=n(171),h=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=\\\"\\\"),this._options=t,this._baseUrl=e}return t.prototype.configure=function(e,n){return void 0===n&&(n=\\\"\\\"),new t(e,n)},t.prototype.searchSuggest=function(t){var e;return e=\\\"string\\\"==typeof t?{querytext:t}:t,new o.SearchSuggest(this._baseUrl).configure(this._options).execute(e)},t.prototype.search=function(t){var e;return e=\\\"string\\\"==typeof t?{Querytext:t}:t instanceof r.SearchQueryBuilder?t.toSearchQuery():t,new r.Search(this._baseUrl).configure(this._options).execute(e)},Object.defineProperty(t.prototype,\\\"site\\\",{get:function(){return new i.Site(this._baseUrl).configure(this._options)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"web\\\",{get:function(){return new a.Web(this._baseUrl).configure(this._options)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"profiles\\\",{get:function(){return new u.UserProfileQuery(this._baseUrl).configure(this._options)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"social\\\",{get:function(){return new c.SocialQuery(this._baseUrl).configure(this._options)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"navigation\\\",{get:function(){return new l.NavigationService},enumerable:!0,configurable:!0}),t.prototype.createBatch=function(){return this.web.createBatch()},Object.defineProperty(t.prototype,\\\"utility\\\",{get:function(){return new f.UtilityMethod(this._baseUrl,\\\"\\\").configure(this._options)},enumerable:!0,configurable:!0}),t.prototype.crossDomainSite=function(t,e){return this._cdImpl(i.Site,t,e,\\\"site\\\")},t.prototype.crossDomainWeb=function(t,e){return this._cdImpl(a.Web,t,e,\\\"web\\\")},t.prototype._cdImpl=function(t,e,n,r){if(!s.Util.isUrlAbsolute(e))throw new p.UrlException(\\\"The addInWebUrl parameter must be an absolute url.\\\");if(!s.Util.isUrlAbsolute(n))throw new p.UrlException(\\\"The hostWebUrl parameter must be an absolute url.\\\");var o=s.Util.combinePaths(e,\\\"_api/SP.AppContextSite(@target)\\\"),i=new t(o,r);return i.query.add(\\\"@target\\\",\\\"'\\\"+encodeURIComponent(n)+\\\"'\\\"),i.configure(this._options)},t}();e.SPRest=h},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(54),o=n(1),i=n(48),a=n(33),s=function(){function t(){}return t}();e.CachedDigest=s;var u=new r.Dictionary,c=function(){function t(t,e){void 0===e&&(e=u),this._httpClient=t,this._digests=e}return t.prototype.getDigest=function(t){var e=this,n=this._digests.get(t);if(null!==n&&new Date<n.expiration)return Promise.resolve(n.value);var r=o.Util.combinePaths(t,\\\"/_api/contextinfo\\\"),u={Accept:\\\"application/json;odata=verbose\\\",\\\"Content-Type\\\":\\\"application/json;odata=verbose;charset=utf-8\\\"};return this._httpClient.fetchRaw(r,{cache:\\\"no-cache\\\",credentials:\\\"same-origin\\\",headers:o.Util.extend(u,a.RuntimeConfig.spHeaders,!0),method:\\\"POST\\\"}).then(function(t){return(new i.ODataDefaultParser).parse(t).then(function(t){return t.GetContextWebInformation})}).then(function(n){var r=new s;r.value=n.FormDigestValue;var o=n.FormDigestTimeoutSeconds,i=new Date;return i.setTime(i.getTime()+1e3*o),r.expiration=i,e._digests.add(t,r),r.value})},t.prototype.clear=function(){this._digests.clear()},t}();e.DigestCache=c},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(48),a=function(t){function e(e,n){return void 0===n&&(n=\\\"AttachmentFiles\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getByName=function(t){var e=new s(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e.prototype.add=function(t,n){var r=this;return this.clone(e,\\\"add(FileName='\\\"+t+\\\"')\\\",!1).postCore({body:n}).then(function(e){return{data:e,file:r.getByName(t)}})},e.prototype.addMultiple=function(t){var n=this;return t.reduce(function(t,r){return t.then(function(){return n.clone(e,\\\"add(FileName='\\\"+r.name+\\\"')\\\",!1).postCore({body:r.content})})},Promise.resolve())},e.prototype.deleteMultiple=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce(function(e,n){return e.then(function(){return t.getByName(n).delete()})},Promise.resolve())},e.prototype.recycleMultiple=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce(function(e,n){return e.then(function(){return t.getByName(n).recycle()})},Promise.resolve())},e}(o.SharePointQueryableCollection);e.AttachmentFiles=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getText=function(){return this.clone(e,\\\"$value\\\",!1).get(new i.TextFileParser)},e.prototype.getBlob=function(){return this.clone(e,\\\"$value\\\",!1).get(new i.BlobFileParser)},e.prototype.getBuffer=function(){return this.clone(e,\\\"$value\\\",!1).get(new i.BufferFileParser)},e.prototype.getJSON=function(){return this.clone(e,\\\"$value\\\",!1).get(new i.JSONFileParser)},e.prototype.setContent=function(t){var n=this;return this.clone(e,\\\"$value\\\",!1).postCore({body:t,headers:{\\\"X-HTTP-Method\\\":\\\"PUT\\\"}}).then(function(t){return new e(n)})},e.prototype.delete=function(t){return void 0===t&&(t=\\\"*\\\"),this.postCore({headers:{\\\"IF-Match\\\":t,\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e.prototype.recycle=function(t){return void 0===t&&(t=\\\"*\\\"),this.clone(e,\\\"recycleObject\\\").postCore({headers:{\\\"IF-Match\\\":t,\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e}(o.SharePointQueryableInstance);e.AttachmentFile=s},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(1),a=function(t){function e(e,n){return void 0===n&&(n=\\\"views\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){var e=new s(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e.prototype.getByTitle=function(t){return new s(this,\\\"getByTitle('\\\"+t+\\\"')\\\")},e.prototype.add=function(t,n,r){var o=this;void 0===n&&(n=!1),void 0===r&&(r={});var a=JSON.stringify(i.Util.extend({PersonalView:n,Title:t,__metadata:{type:\\\"SP.View\\\"}},r));return this.clone(e,null).postAsCore({body:a}).then(function(t){return{data:t,view:o.getById(t.Id)}})},e}(o.SharePointQueryableCollection);e.Views=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"fields\\\",{get:function(){return new u(this)},enumerable:!0,configurable:!0}),e.prototype.update=function(t){var e=this,n=JSON.stringify(i.Util.extend({__metadata:{type:\\\"SP.View\\\"}},t));return this.postCore({body:n,headers:{\\\"X-HTTP-Method\\\":\\\"MERGE\\\"}}).then(function(t){return{data:t,view:e}})},e.prototype.delete=function(){return this.postCore({headers:{\\\"X-HTTP-Method\\\":\\\"DELETE\\\"}})},e.prototype.renderAsHtml=function(){return this.clone(o.SharePointQueryable,\\\"renderashtml\\\").get()},e}(o.SharePointQueryableInstance);e.View=s;var u=function(t){function e(e,n){return void 0===n&&(n=\\\"viewfields\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getSchemaXml=function(){return this.clone(o.SharePointQueryable,\\\"schemaxml\\\").get()},e.prototype.add=function(t){return this.clone(e,\\\"addviewfield('\\\"+t+\\\"')\\\").postCore()},e.prototype.move=function(t,n){return this.clone(e,\\\"moveviewfieldto\\\").postCore({body:JSON.stringify({field:t,index:n})})},e.prototype.removeAll=function(){return this.clone(e,\\\"removeallviewfields\\\").postCore()},e.prototype.remove=function(t){return this.clone(e,\\\"removeviewfield('\\\"+t+\\\"')\\\").postCore()},e}(o.SharePointQueryableCollection);e.ViewFields=u},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=function(t){function e(e,n){return void 0===n&&(n=\\\"forms\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){var e=new a(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e}(o.SharePointQueryableCollection);e.Forms=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.SharePointQueryableInstance);e.Form=a},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=function(t){function e(e,n){return void 0===n&&(n=\\\"subscriptions\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){var e=new a(this);return e.concat(\\\"('\\\"+t+\\\"')\\\"),e},e.prototype.add=function(t,e,n){var r=this,o=JSON.stringify({clientState:n||\\\"pnp-js-core-subscription\\\",expirationDateTime:e,notificationUrl:t,resource:this.toUrl()});return this.postCore({body:o,headers:{\\\"Content-Type\\\":\\\"application/json\\\"}}).then(function(t){return{data:t,subscription:r.getById(t.id)}})},e}(o.SharePointQueryableCollection);e.Subscriptions=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t){var e=this,n=JSON.stringify({expirationDateTime:t});return this.patchCore({body:n,headers:{\\\"Content-Type\\\":\\\"application/json\\\"}}).then(function(t){return{data:t,subscription:e}})},e.prototype.delete=function(){return t.prototype.deleteCore.call(this)},e}(o.SharePointQueryableInstance);e.Subscription=a},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(30),a=n(1),s=function(t){function e(e,n){return void 0===n&&(n=\\\"regionalsettings\\\"),t.call(this,e,n)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"installedLanguages\\\",{get:function(){return new u(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"globalInstalledLanguages\\\",{get:function(){return new u(this,\\\"globalinstalledlanguages\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"timeZone\\\",{get:function(){return new c(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"timeZones\\\",{get:function(){return new l(this)},enumerable:!0,configurable:!0}),e}(o.SharePointQueryableInstance);e.RegionalSettings=s;var u=function(t){function e(e,n){return void 0===n&&(n=\\\"installedlanguages\\\"),t.call(this,e,n)||this}return r(e,t),e}(o.SharePointQueryableCollection);e.InstalledLanguages=u;var c=function(t){function e(e,n){return void 0===n&&(n=\\\"timezone\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.utcToLocalTime=function(t){var n;return n=\\\"string\\\"==typeof t?t:t.toISOString(),this.clone(e,\\\"utctolocaltime('\\\"+n+\\\"')\\\").postCore().then(function(t){return t.hasOwnProperty(\\\"UTCToLocalTime\\\")?t.UTCToLocalTime:t})},e.prototype.localTimeToUTC=function(t){var n;return n=\\\"string\\\"==typeof t?t:a.Util.dateAdd(t,\\\"minute\\\",-1*t.getTimezoneOffset()).toISOString(),this.clone(e,\\\"localtimetoutc('\\\"+n+\\\"')\\\").postCore().then(function(t){return t.hasOwnProperty(\\\"LocalTimeToUTC\\\")?t.LocalTimeToUTC:t})},e}(o.SharePointQueryableInstance);e.TimeZone=c;var l=function(t){function e(e,n){return void 0===n&&(n=\\\"timezones\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){return this.clone(e,\\\"GetById(\\\"+t+\\\")\\\").postAsCore({},i.spODataEntity(c))},e}(o.SharePointQueryableCollection);e.TimeZones=l},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=function(t){function e(e,n){return void 0===n&&(n=\\\"_api/SP.RelatedItemManager\\\"),t.call(this,e,n)||this}return r(e,t),e.FromUrl=function(t){if(null===t)return new e(\\\"\\\");var n=t.indexOf(\\\"_api/\\\");return new e(n>-1?t.substr(0,n):t)},e.prototype.getRelatedItems=function(t,n){var r=this.clone(e,null);return r.concat(\\\".GetRelatedItems\\\"),r.postCore({body:JSON.stringify({SourceItemID:n,SourceListName:t})})},e.prototype.getPageOneRelatedItems=function(t,n){var r=this.clone(e,null);return r.concat(\\\".GetPageOneRelatedItems\\\"),r.postCore({body:JSON.stringify({SourceItemID:n,SourceListName:t})})},e.prototype.addSingleLink=function(t,n,r,o,i,a,s){void 0===s&&(s=!1);var u=this.clone(e,null);return u.concat(\\\".AddSingleLink\\\"),u.postCore({body:JSON.stringify({SourceItemID:n,SourceListName:t,SourceWebUrl:r,TargetItemID:i,TargetListName:o,TargetWebUrl:a,TryAddReverseLink:s})})},e.prototype.addSingleLinkToUrl=function(t,n,r,o){void 0===o&&(o=!1);var i=this.clone(e,null);return i.concat(\\\".AddSingleLinkToUrl\\\"),i.postCore({body:JSON.stringify({SourceItemID:n,SourceListName:t,TargetItemUrl:r,TryAddReverseLink:o})})},e.prototype.addSingleLinkFromUrl=function(t,n,r,o){void 0===o&&(o=!1);var i=this.clone(e,null);return i.concat(\\\".AddSingleLinkFromUrl\\\"),i.postCore({body:JSON.stringify({SourceItemUrl:t,TargetItemID:r,TargetListName:n,TryAddReverseLink:o})})},e.prototype.deleteSingleLink=function(t,n,r,o,i,a,s){void 0===s&&(s=!1);var u=this.clone(e,null);return u.concat(\\\".DeleteSingleLink\\\"),u.postCore({body:JSON.stringify({SourceItemID:n,SourceListName:t,SourceWebUrl:r,TargetItemID:i,TargetListName:o,TargetWebUrl:a,TryDeleteReverseLink:s})})},e}(o.SharePointQueryable);e.RelatedItemManagerImpl=i},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(6),i=n(391),a=n(1),s=n(48),u=function(t){function e(e,n){void 0===n&&(n=\\\"_api/sp.userprofiles.peoplemanager\\\");var r=t.call(this,e,n)||this;return r.clientPeoplePickerQuery=new l(e),r.profileLoader=new c(e),r}return r(e,t),Object.defineProperty(e.prototype,\\\"editProfileLink\\\",{get:function(){return this.clone(e,\\\"EditProfileLink\\\").getAs(s.ODataValue())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"isMyPeopleListPublic\\\",{get:function(){return this.clone(e,\\\"IsMyPeopleListPublic\\\").getAs(s.ODataValue())},enumerable:!0,configurable:!0}),e.prototype.amIFollowedBy=function(t){var n=this.clone(e,\\\"amifollowedby(@v)\\\");return n.query.add(\\\"@v\\\",\\\"'\\\"+encodeURIComponent(t)+\\\"'\\\"),n.get()},e.prototype.amIFollowing=function(t){var n=this.clone(e,\\\"amifollowing(@v)\\\");return n.query.add(\\\"@v\\\",\\\"'\\\"+encodeURIComponent(t)+\\\"'\\\"),n.get()},e.prototype.getFollowedTags=function(t){return void 0===t&&(t=20),this.clone(e,\\\"getfollowedtags(\\\"+t+\\\")\\\").get()},e.prototype.getFollowersFor=function(t){var n=this.clone(e,\\\"getfollowersfor(@v)\\\");return n.query.add(\\\"@v\\\",\\\"'\\\"+encodeURIComponent(t)+\\\"'\\\"),n.get()},Object.defineProperty(e.prototype,\\\"myFollowers\\\",{get:function(){return new o.SharePointQueryableCollection(this,\\\"getmyfollowers\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"myProperties\\\",{get:function(){return new e(this,\\\"getmyproperties\\\")},enumerable:!0,configurable:!0}),e.prototype.getPeopleFollowedBy=function(t){var n=this.clone(e,\\\"getpeoplefollowedby(@v)\\\");return n.query.add(\\\"@v\\\",\\\"'\\\"+encodeURIComponent(t)+\\\"'\\\"),n.get()},e.prototype.getPropertiesFor=function(t){var n=this.clone(e,\\\"getpropertiesfor(@v)\\\");return n.query.add(\\\"@v\\\",\\\"'\\\"+encodeURIComponent(t)+\\\"'\\\"),n.get()},Object.defineProperty(e.prototype,\\\"trendingTags\\\",{get:function(){var t=this.clone(e,null);return t.concat(\\\".gettrendingtags\\\"),t.get()},enumerable:!0,configurable:!0}),e.prototype.getUserProfilePropertyFor=function(t,n){var r=this.clone(e,\\\"getuserprofilepropertyfor(accountname=@v, propertyname='\\\"+n+\\\"')\\\");return r.query.add(\\\"@v\\\",\\\"'\\\"+encodeURIComponent(t)+\\\"'\\\"),r.get()},e.prototype.hideSuggestion=function(t){var n=this.clone(e,\\\"hidesuggestion(@v)\\\");return n.query.add(\\\"@v\\\",\\\"'\\\"+encodeURIComponent(t)+\\\"'\\\"),n.postCore()},e.prototype.isFollowing=function(t,n){var r=this.clone(e,null);return r.concat(\\\".isfollowing(possiblefolloweraccountname=@v, possiblefolloweeaccountname=@y)\\\"),r.query.add(\\\"@v\\\",\\\"'\\\"+encodeURIComponent(t)+\\\"'\\\"),r.query.add(\\\"@y\\\",\\\"'\\\"+encodeURIComponent(n)+\\\"'\\\"),r.get()},e.prototype.setMyProfilePic=function(t){var n=this;return new Promise(function(r,o){i.readBlobAsArrayBuffer(t).then(function(t){new e(n,\\\"setmyprofilepicture\\\").postCore({body:String.fromCharCode.apply(null,new Uint16Array(t))}).then(function(t){return r()})}).catch(function(t){return o(t)})})},e.prototype.setSingleValueProfileProperty=function(t,n,r){var o=JSON.stringify({accountName:t,propertyName:n,propertyValue:r});return this.clone(e,\\\"SetSingleValueProfileProperty\\\").postCore({body:o})},e.prototype.setMultiValuedProfileProperty=function(t,n,r){var o=JSON.stringify({accountName:t,propertyName:n,propertyValues:r});return this.clone(e,\\\"SetMultiValuedProfileProperty\\\").postCore({body:o})},e.prototype.createPersonalSiteEnqueueBulk=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.profileLoader.createPersonalSiteEnqueueBulk(t)},Object.defineProperty(e.prototype,\\\"ownerUserProfile\\\",{get:function(){return this.profileLoader.ownerUserProfile},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"userProfile\\\",{get:function(){return this.profileLoader.userProfile},enumerable:!0,configurable:!0}),e.prototype.createPersonalSite=function(t){return void 0===t&&(t=!1),this.profileLoader.createPersonalSite(t)},e.prototype.shareAllSocialData=function(t){return this.profileLoader.shareAllSocialData(t)},e.prototype.clientPeoplePickerResolveUser=function(t){return this.clientPeoplePickerQuery.clientPeoplePickerResolveUser(t)},e.prototype.clientPeoplePickerSearchUser=function(t){return this.clientPeoplePickerQuery.clientPeoplePickerSearchUser(t)},e}(o.SharePointQueryableInstance);e.UserProfileQuery=u;var c=function(t){function e(e,n){return void 0===n&&(n=\\\"_api/sp.userprofiles.profileloader.getprofileloader\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.createPersonalSiteEnqueueBulk=function(t){return this.clone(e,\\\"createpersonalsiteenqueuebulk\\\",!1).postCore({body:JSON.stringify({emailIDs:t})})},Object.defineProperty(e.prototype,\\\"ownerUserProfile\\\",{get:function(){var t=this.getParent(e,this.parentUrl,\\\"_api/sp.userprofiles.profileloader.getowneruserprofile\\\");return this.hasBatch&&(t=t.inBatch(this.batch)),t.postAsCore()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"userProfile\\\",{get:function(){return this.clone(e,\\\"getuserprofile\\\").postAsCore()},enumerable:!0,configurable:!0}),e.prototype.createPersonalSite=function(t){return void 0===t&&(t=!1),this.clone(e,\\\"getuserprofile/createpersonalsiteenque(\\\"+t+\\\")\\\").postCore()},e.prototype.shareAllSocialData=function(t){return this.clone(e,\\\"getuserprofile/shareallsocialdata(\\\"+t+\\\")\\\").postCore()},e}(o.SharePointQueryable),l=function(t){function e(e,n){return void 0===n&&(n=\\\"_api/sp.ui.applicationpages.clientpeoplepickerwebserviceinterface\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.clientPeoplePickerResolveUser=function(t){var n=this.clone(e,null);return n.concat(\\\".clientpeoplepickerresolveuser\\\"),n.postAsCore({body:this.createClientPeoplePickerQueryParametersRequestBody(t)}).then(function(t){return JSON.parse(t)})},e.prototype.clientPeoplePickerSearchUser=function(t){var n=this.clone(e,null);return n.concat(\\\".clientpeoplepickersearchuser\\\"),n.postAsCore({body:this.createClientPeoplePickerQueryParametersRequestBody(t)}).then(function(t){return JSON.parse(t)})},e.prototype.createClientPeoplePickerQueryParametersRequestBody=function(t){return JSON.stringify({queryParams:a.Util.extend({__metadata:{type:\\\"SP.UI.ApplicationPages.ClientPeoplePickerQueryParameters\\\"}},t)})},e}(o.SharePointQueryable)},function(t,e,n){\\\"use strict\\\";function r(t){return i(t,\\\"string\\\")}function o(t){return i(t,\\\"buffer\\\")}function i(t,e){return new Promise(function(n,r){try{var o=new FileReader;switch(o.onload=function(t){n(t.target.result)},e){case\\\"string\\\":o.readAsText(t);break;case\\\"buffer\\\":o.readAsArrayBuffer(t)}}catch(t){r(t)}})}Object.defineProperty(e,\\\"__esModule\\\",{value:!0}),e.readBlobAsText=r,e.readBlobAsArrayBuffer=o},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(393),o=function(){function t(){}return Object.defineProperty(t.prototype,\\\"v1\\\",{get:function(){return new r.V1(\\\"\\\")},enumerable:!0,configurable:!0}),t}();e.GraphRest=o},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(35),i=n(394),a=function(t){function e(e,n){return void 0===n&&(n=\\\"v1.0\\\"),t.call(this,e,n)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"groups\\\",{get:function(){return new i.Groups(this)},enumerable:!0,configurable:!0}),e}(o.GraphQueryable);e.V1=a},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o,i=n(35),a=n(395),s=n(1),u=n(396),c=n(397),l=n(399),p=n(400);!function(t){t[t.Office365=0]=\\\"Office365\\\",t[t.Dynamic=1]=\\\"Dynamic\\\",t[t.Security=2]=\\\"Security\\\"}(o=e.GroupType||(e.GroupType={}));var f=function(t){function e(e,n){return void 0===n&&(n=\\\"groups\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){return new h(this,t)},e.prototype.add=function(t,e,n,r){var i=this;void 0===r&&(r={});var a=s.Util.extend({displayName:t,mailEnabled:n===o.Office365,mailNickname:e,securityEnabled:n!==o.Office365},r);return n!==o.Security&&(a=s.Util.extend(a,{groupTypes:[n===o.Office365?\\\"Unified\\\":\\\"DynamicMembership\\\"]})),this.postCore({body:JSON.stringify(a)}).then(function(t){return{data:t,group:i.getById(t.id)}})},e}(i.GraphQueryableCollection);e.Groups=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"caldendar\\\",{get:function(){return new u.Calendar(this,\\\"calendar\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"events\\\",{get:function(){return new u.Events(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"owners\\\",{get:function(){return new a.Owners(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"plans\\\",{get:function(){return new l.Plans(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"members\\\",{get:function(){return new a.Members(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"conversations\\\",{get:function(){return new c.Conversations(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"acceptedSenders\\\",{get:function(){return new c.Senders(this,\\\"acceptedsenders\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"rejectedSenders\\\",{get:function(){return new c.Senders(this,\\\"rejectedsenders\\\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\\\"photo\\\",{get:function(){return new p.Photo(this)},enumerable:!0,configurable:!0}),e.prototype.addFavorite=function(){return this.clone(e,\\\"addFavorite\\\").postCore()},e.prototype.getMemberGroups=function(t){return void 0===t&&(t=!1),this.clone(e,\\\"getMemberGroups\\\").postCore({body:JSON.stringify({securityEnabledOnly:t})})},e.prototype.delete=function(){return this.deleteCore()},e.prototype.update=function(t){return this.patchCore({body:JSON.stringify(t)})},e.prototype.removeFavorite=function(){return this.clone(e,\\\"removeFavorite\\\").postCore()},e.prototype.resetUnseenCount=function(){return this.clone(e,\\\"resetUnseenCount\\\").postCore()},e.prototype.subscribeByMail=function(){return this.clone(e,\\\"subscribeByMail\\\").postCore()},e.prototype.unsubscribeByMail=function(){return this.clone(e,\\\"unsubscribeByMail\\\").postCore()},e.prototype.getCalendarView=function(t,n){var r=this.clone(e,\\\"calendarView\\\");return r.query.add(\\\"startDateTime\\\",t.toISOString()),r.query.add(\\\"endDateTime\\\",n.toISOString()),r.get()},e}(i.GraphQueryableInstance);e.Group=h},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(35),i=function(t){function e(e,n){return void 0===n&&(n=\\\"members\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.add=function(t){return this.clone(e,\\\"$ref\\\").postCore({body:JSON.stringify({\\\"@odata.id\\\":t})})},e.prototype.getById=function(t){return new a(this,t)},e}(o.GraphQueryableCollection);e.Members=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.GraphQueryableInstance);e.Member=a;var s=function(t){function e(e,n){return void 0===n&&(n=\\\"owners\\\"),t.call(this,e,n)||this}return r(e,t),e}(i);e.Owners=s},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(35),i=function(t){function e(e,n){return void 0===n&&(n=\\\"calendars\\\"),t.call(this,e,n)||this}return r(e,t),e}(o.GraphQueryableCollection);e.Calendars=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"events\\\",{get:function(){return new s(this)},enumerable:!0,configurable:!0}),e}(o.GraphQueryableInstance);e.Calendar=a;var s=function(t){function e(e,n){return void 0===n&&(n=\\\"events\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){return new u(this,t)},e.prototype.add=function(t){var e=this;return this.postCore({body:JSON.stringify(t)}).then(function(t){return{data:t,event:e.getById(t.id)}})},e}(o.GraphQueryableCollection);e.Events=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t){return this.patchCore({body:JSON.stringify(t)})},e.prototype.delete=function(){return this.deleteCore()},e}(o.GraphQueryableInstance);e.Event=u},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(35),i=n(398),a=function(t){function e(e,n){return void 0===n&&(n=\\\"conversations\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.add=function(t){return this.postCore({body:JSON.stringify(t)})},e.prototype.getById=function(t){return new c(this,t)},e}(o.GraphQueryableCollection);e.Conversations=a;var s=function(t){function e(e,n){return void 0===n&&(n=\\\"threads\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){return new l(this,t)},e.prototype.add=function(t){return this.postCore({body:JSON.stringify(t)})},e}(o.GraphQueryableCollection);e.Threads=s;var u=function(t){function e(e,n){return void 0===n&&(n=\\\"posts\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){return new p(this,t)},e.prototype.add=function(t){return this.postCore({body:JSON.stringify(t)})},e}(o.GraphQueryableCollection);e.Posts=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"threads\\\",{get:function(){return new s(this)},enumerable:!0,configurable:!0}),e.prototype.update=function(t){return this.patchCore({body:JSON.stringify(t)})},e.prototype.delete=function(){return this.deleteCore()},e}(o.GraphQueryableInstance);e.Conversation=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"posts\\\",{get:function(){return new u(this)},enumerable:!0,configurable:!0}),e.prototype.reply=function(t){return this.clone(e,\\\"reply\\\").postCore({body:JSON.stringify({post:t})})},e.prototype.delete=function(){return this.deleteCore()},e}(o.GraphQueryableInstance);e.Thread=l;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,\\\"attachments\\\",{get:function(){return new i.Attachments(this)},enumerable:!0,configurable:!0}),e.prototype.delete=function(){return this.deleteCore()},e.prototype.forward=function(t){return this.clone(e,\\\"forward\\\").postCore({body:JSON.stringify(t)})},e.prototype.reply=function(t){return this.clone(e,\\\"reply\\\").postCore({body:JSON.stringify({post:t})})},e}(o.GraphQueryableInstance);e.Post=p;var f=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.add=function(t){return this.clone(e,\\\"$ref\\\").postCore({body:JSON.stringify({\\\"@odata.id\\\":t})})},e.prototype.remove=function(t){var n=this.clone(e,\\\"$ref\\\");return n.query.add(\\\"$id\\\",t),n.deleteCore()},e}(o.GraphQueryableCollection);e.Senders=f},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(35),i=function(t){function e(e,n){return void 0===n&&(n=\\\"attachments\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){return new a(this,t)},e.prototype.addFile=function(t,e){return this.postCore({body:JSON.stringify({\\\"@odata.type\\\":\\\"#microsoft.graph.fileAttachment\\\",contentBytes:e,name:t})})},e}(o.GraphQueryableCollection);e.Attachments=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.GraphQueryableInstance);e.Attachment=a},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(35),i=function(t){function e(e,n){return void 0===n&&(n=\\\"planner/plans\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getById=function(t){return new a(this,t)},e}(o.GraphQueryableCollection);e.Plans=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.GraphQueryableInstance);e.Plan=a},function(t,e,n){\\\"use strict\\\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(35),i=n(48),a=function(t){function e(e,n){return void 0===n&&(n=\\\"photo\\\"),t.call(this,e,n)||this}return r(e,t),e.prototype.getBlob=function(){return this.clone(e,\\\"$value\\\",!1).get(new i.BlobFileParser)},e.prototype.getBuffer=function(){return this.clone(e,\\\"$value\\\",!1).get(new i.BufferFileParser)},e.prototype.setContent=function(t){return this.clone(e,\\\"$value\\\",!1).patchCore({body:t})},e}(o.GraphQueryableInstance);e.Photo=a},function(t,e,n){\\\"use strict\\\";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,\\\"__esModule\\\",{value:!0}),r(n(402));var o=n(54);e.Dictionary=o.Dictionary;var i=n(1);e.Util=i.Util,r(n(34)),r(n(20)),r(n(76))},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(173);e.CachingConfigurationProvider=r.default;var o=n(403);e.SPListConfigurationProvider=o.default},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(173),o=function(){function t(t,e){void 0===e&&(e=\\\"config\\\"),this.sourceWeb=t,this.sourceListTitle=e}return Object.defineProperty(t.prototype,\\\"web\\\",{get:function(){return this.sourceWeb},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\\\"listTitle\\\",{get:function(){return this.sourceListTitle},enumerable:!0,configurable:!0}),t.prototype.getConfiguration=function(){return this.web.lists.getByTitle(this.listTitle).items.select(\\\"Title\\\",\\\"Value\\\").getAs().then(function(t){return t.reduce(function(t,e){return Object.defineProperty(t,e.Title,{configurable:!1,enumerable:!1,value:e.Value,writable:!1})},{})})},t.prototype.asCaching=function(){var t=\\\"splist_\\\"+this.web.toUrl()+\\\"+\\\"+this.listTitle;return new r.default(this,t)},t}();e.default=o},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(405))},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(35);e.GraphQueryable=r.GraphQueryable,e.GraphQueryableCollection=r.GraphQueryableCollection,e.GraphQueryableInstance=r.GraphQueryableInstance,e.GraphQueryableSearchableCollection=r.GraphQueryableSearchableCollection},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(110);e.HttpClient=r.HttpClient;var o=n(407);e.SPRequestExecutorClient=o.SPRequestExecutorClient;var i=n(408);e.NodeFetchClient=i.NodeFetchClient;var a=n(159);e.FetchClient=a.FetchClient;var s=n(172);e.GraphHttpClient=s.GraphHttpClient},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(1),o=n(20),i=function(){function t(){this.convertToResponse=function(t){var e=new Headers;for(var n in t.headers)t.headers[n]&&e.append(n,t.headers[n]);var r=204===t.statusCode?null:t.body;return new Response(r,{headers:e,status:t.statusCode,statusText:t.statusText})}}return t.prototype.fetch=function(t,e){var n=this;if(\\\"undefined\\\"==typeof SP||void 0===SP.RequestExecutor)throw new o.SPRequestExecutorUndefinedException;var i,a,s=t.substring(0,t.indexOf(\\\"/_api\\\")),u=new SP.RequestExecutor(s),c={};if(e.headers&&e.headers instanceof Headers)for(i=e.headers.entries(),a=i.next();!a.done;)c[a.value[0]]=a.value[1],a=i.next();else c=e.headers;var l=[\\\"files/add\\\",\\\"files/addTemplateFile\\\",\\\"file/startUpload\\\",\\\"file/continueUpload\\\",\\\"file/finishUpload\\\",\\\"attachmentfiles/add\\\"],p=new RegExp(l.join(\\\"|\\\"),\\\"i\\\").test(t);return new Promise(function(o,i){var a={error:function(t){i(n.convertToResponse(t))},headers:c,method:e.method,success:function(t){o(n.convertToResponse(t))},url:t};e.body&&(a=r.Util.extend(a,{body:e.body}),p&&(a=r.Util.extend(a,{binaryStringRequestBody:!0}))),u.executeAsync(a)})},t}();e.SPRequestExecutorClient=i},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(20),o=function(){function t(){}return t.prototype.fetch=function(){throw new r.NodeFetchClientUnsupportedException},t}();e.NodeFetchClient=o},function(t,e,n){\\\"use strict\\\";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,\\\"__esModule\\\",{value:!0}),r(n(77)),r(n(48)),r(n(161)),r(n(108))},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(411))},function(t,e,n){\\\"use strict\\\";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var o=n(168);e.AppCatalog=o.AppCatalog,e.App=o.App,r(n(169));var i=n(117);e.ODataBatch=i.ODataBatch;var a=n(114);e.Field=a.Field,e.Fields=a.Fields;var s=n(49);e.CheckinType=s.CheckinType,e.WebPartsPersonalizationScope=s.WebPartsPersonalizationScope,e.MoveOperations=s.MoveOperations,e.TemplateFileType=s.TemplateFileType,e.File=s.File,e.Files=s.Files;var u=n(81);e.Folder=u.Folder,e.Folders=u.Folders;var c=n(61);e.Item=c.Item,e.Items=c.Items,e.ItemVersion=c.ItemVersion,e.ItemVersions=c.ItemVersions,e.PagedItemCollection=c.PagedItemCollection;var l=n(116);e.NavigationNodes=l.NavigationNodes,e.NavigationNode=l.NavigationNode;var p=n(78);e.List=p.List,e.Lists=p.Lists;var f=n(30);e.spExtractODataId=f.spExtractODataId,e.spODataEntity=f.spODataEntity,e.spODataEntityArray=f.spODataEntityArray;var h=n(6);e.SharePointQueryable=h.SharePointQueryable,e.SharePointQueryableInstance=h.SharePointQueryableInstance,e.SharePointQueryableCollection=h.SharePointQueryableCollection;var d=n(111);e.RoleDefinitionBindings=d.RoleDefinitionBindings;var y=n(160);e.Search=y.Search,e.SearchQueryBuilder=y.SearchQueryBuilder,e.SearchResults=y.SearchResults,e.SortDirection=y.SortDirection,e.ReorderingRuleMatchType=y.ReorderingRuleMatchType,e.QueryPropertyValueType=y.QueryPropertyValueType,e.SearchBuiltInSourceId=y.SearchBuiltInSourceId;var g=n(162);e.SearchSuggest=g.SearchSuggest,e.SearchSuggestResult=g.SearchSuggestResult;var v=n(163);e.Site=v.Site,r(n(170)),r(n(80));var m=n(171);e.UtilityMethod=m.UtilityMethod;var b=n(166);e.WebPartDefinitions=b.WebPartDefinitions,e.WebPartDefinition=b.WebPartDefinition,e.WebPart=b.WebPart;var _=n(60);e.Web=_.Web}]);</script></body>\\n\\n</html>\"","\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__export(require(\"./Playlist\"));\n\n__export(require(\"./Videos\"));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar BCPlaylistType;\n\n(function (BCPlaylistType) {\n  BCPlaylistType[\"Manual\"] = \"EXPLICIT\";\n  BCPlaylistType[\"ActivatedDateOldestFirst\"] = \"ACTIVATED_OLDEST_TO_NEWEST\";\n  BCPlaylistType[\"ActivatedDateNewestFirst\"] = \"ACTIVATED_NEWEST_TO_OLDEST\";\n  BCPlaylistType[\"Alphabetical\"] = \"ALPHABETICAL\";\n  BCPlaylistType[\"TotalPlays\"] = \"PLAYS_TOTAL\";\n  BCPlaylistType[\"TrailingWeekPlays\"] = \"PLAYS_TRAILING_WEEK\";\n  BCPlaylistType[\"StartDateOldestFirst\"] = \"START_DATE_OLDEST_TO_NEWEST\";\n  BCPlaylistType[\"StartDateNewestFirst\"] = \"START_DATE_NEWEST_TO_OLDEST\";\n})(BCPlaylistType = exports.BCPlaylistType || (exports.BCPlaylistType = {}));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar BCVideoTextTrackKind;\n\n(function (BCVideoTextTrackKind) {\n  BCVideoTextTrackKind[\"Captions\"] = \"captions\";\n  BCVideoTextTrackKind[\"Subtitles\"] = \"subtitles\";\n  BCVideoTextTrackKind[\"Descriptions\"] = \"descriptions\";\n  BCVideoTextTrackKind[\"Chapters\"] = \"chapters\";\n  BCVideoTextTrackKind[\"Metadata\"] = \"metadata\";\n})(BCVideoTextTrackKind = exports.BCVideoTextTrackKind || (exports.BCVideoTextTrackKind = {}));","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Endpoints_1 = require(\"./Endpoints\");\n\nvar utils_1 = require(\"./utils\");\n\nvar cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\n\nvar AssetsApi =\n/*#__PURE__*/\nfunction () {\n  function AssetsApi(accessTokenService) {\n    _classCallCheck(this, AssetsApi);\n\n    this.accessTokenService = accessTokenService;\n  }\n\n  _createClass(AssetsApi, [{\n    key: \"getThumbnailList\",\n    value: function getThumbnailList(accountId, videoId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/videos/\").concat(videoId, \"/assets/thumbnail?\").concat(utils_1.getQueryString({}));\n                _context.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context.sent;\n\n                if (!(response.status === 204)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", undefined);\n\n              case 9:\n                return _context.abrupt(\"return\", response.json());\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }]);\n\n  return AssetsApi;\n}();\n\nexports.AssetsApi = AssetsApi;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _1 = require(\".\");\n\nvar BrightcoveApiGateway =\n/*#__PURE__*/\nfunction () {\n  function BrightcoveApiGateway(accessTokenService, errorCallback) {\n    _classCallCheck(this, BrightcoveApiGateway);\n\n    if (!accessTokenService) {\n      throw new Error('accessTokenService must be specified.');\n    }\n\n    this._accessTokenService = accessTokenService;\n    this._errorCallback = errorCallback;\n    this._assetsApi = new _1.AssetsApi(this._accessTokenService);\n    this._dynamicIngestApi = new _1.DynamicIngestApi(this._accessTokenService);\n    this._experiencesApi = new _1.ExperiencesApi(this._accessTokenService);\n    this._foldersApi = new _1.FoldersApi(this._accessTokenService);\n    this._ingestProfilesApi = new _1.IngestProfilesApi(this._accessTokenService);\n    this._playerManagementApi = new _1.PlayerManagementApi(this._accessTokenService);\n    this._playlistsApi = new _1.PlaylistsApi(this._accessTokenService);\n    this._videosApi = new _1.VideosApi(this._accessTokenService);\n  }\n\n  _createClass(BrightcoveApiGateway, [{\n    key: \"accessTokenService\",\n    get: function get() {\n      return this._accessTokenService;\n    }\n  }, {\n    key: \"assetsApi\",\n    get: function get() {\n      return this._assetsApi;\n    }\n  }, {\n    key: \"dynamicIngestApi\",\n    get: function get() {\n      return this._dynamicIngestApi;\n    }\n  }, {\n    key: \"experiencesApi\",\n    get: function get() {\n      return this._experiencesApi;\n    }\n  }, {\n    key: \"foldersApi\",\n    get: function get() {\n      return this._foldersApi;\n    }\n  }, {\n    key: \"ingestProfilesApi\",\n    get: function get() {\n      return this._ingestProfilesApi;\n    }\n  }, {\n    key: \"playerManagementApi\",\n    get: function get() {\n      return this._playerManagementApi;\n    }\n  }, {\n    key: \"playlistsApi\",\n    get: function get() {\n      return this._playlistsApi;\n    }\n  }, {\n    key: \"videosApi\",\n    get: function get() {\n      return this._videosApi;\n    }\n  }]);\n\n  return BrightcoveApiGateway;\n}();\n\nexports.BrightcoveApiGateway = BrightcoveApiGateway;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Endpoints_1 = require(\"./Endpoints\");\n\nvar cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar ClientCredentialsApi =\n/*#__PURE__*/\nfunction () {\n  function ClientCredentialsApi(accessTokenService) {\n    _classCallCheck(this, ClientCredentialsApi);\n\n    this.accessTokenService = accessTokenService;\n  }\n\n  _createClass(ClientCredentialsApi, [{\n    key: \"getClientCredentialById\",\n    value: function getClientCredentialById(accountId, clientId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var accessToken, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context.sent;\n                _context.next = 5;\n                return cross_fetch_1.default(\"\".concat(Endpoints_1.ClientCredentialsEndpointUrl, \"/\").concat(clientId, \"?\").concat(utils_1.getQueryString({})), {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 5:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.json());\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }]);\n\n  return ClientCredentialsApi;\n}();\n\nexports.ClientCredentialsApi = ClientCredentialsApi;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Endpoints_1 = require(\"./Endpoints\");\n\nvar uuid_1 = __importDefault(require(\"uuid\"));\n\nvar uuidv4 = uuid_1.default.v4;\n\nvar lodash_1 = require(\"lodash\");\n\nvar cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar DynamicIngestApi =\n/*#__PURE__*/\nfunction () {\n  function DynamicIngestApi(accessTokenService) {\n    _classCallCheck(this, DynamicIngestApi);\n\n    this.accessTokenService = accessTokenService;\n  }\n\n  _createClass(DynamicIngestApi, [{\n    key: \"getUploadUrls\",\n    value: function getUploadUrls(accountId, videoId, fileName) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context.sent;\n\n                if (fileName) {\n                  fileName = lodash_1.kebabCase(fileName);\n                  fileName = encodeURIComponent(fileName);\n                } else {\n                  fileName = uuidv4();\n                }\n\n                url = \"\".concat(Endpoints_1.IngestEndpointUrl, \"/\").concat(accountId, \"/videos/\").concat(videoId, \"/upload-urls/bcsp-\").concat(fileName, \"?\").concat(utils_1.getQueryString({}));\n                _context.next = 7;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 7:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.json());\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"makeIngestRequest\",\n    value: function makeIngestRequest(accountId, videoId, apiRequestUrl, ingestProfile) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context2.sent;\n                url = \"\".concat(Endpoints_1.IngestEndpointUrl, \"/\").concat(accountId, \"/videos/\").concat(videoId, \"/ingest-requests\");\n                _context2.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  },\n                  body: JSON.stringify({\n                    master: {\n                      url: apiRequestUrl\n                    },\n                    profile: ingestProfile,\n                    'capture-images': true\n                  })\n                });\n\n              case 6:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"addTextTracks\",\n    value: function addTextTracks(accountId, videoId, textTracks) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var accessToken, url, newTracks, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, tt, response;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context3.sent;\n                url = \"\".concat(Endpoints_1.IngestEndpointUrl, \"/\").concat(accountId, \"/videos/\").concat(videoId, \"/ingest-requests\");\n                newTracks = [];\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context3.prev = 8;\n\n                for (_iterator = textTracks[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  tt = _step.value;\n                  newTracks.push({\n                    url: tt.src || '',\n                    srclang: tt.srclang || '',\n                    kind: tt.kind || '',\n                    label: tt.label || undefined,\n                    default: !!tt.default\n                  });\n                }\n\n                _context3.next = 16;\n                break;\n\n              case 12:\n                _context3.prev = 12;\n                _context3.t0 = _context3[\"catch\"](8);\n                _didIteratorError = true;\n                _iteratorError = _context3.t0;\n\n              case 16:\n                _context3.prev = 16;\n                _context3.prev = 17;\n\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                  _iterator.return();\n                }\n\n              case 19:\n                _context3.prev = 19;\n\n                if (!_didIteratorError) {\n                  _context3.next = 22;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 22:\n                return _context3.finish(19);\n\n              case 23:\n                return _context3.finish(16);\n\n              case 24:\n                _context3.next = 26;\n                return cross_fetch_1.default(url, {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  },\n                  body: JSON.stringify({\n                    profile: 'multi-platform-standard-static',\n                    text_tracks: newTracks\n                  })\n                });\n\n              case 26:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.json());\n\n              case 28:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[8, 12, 16, 24], [17,, 19, 23]]);\n      }));\n    }\n  }, {\n    key: \"addCustomImages\",\n    value: function addCustomImages(accountId, videoId, posterUrl, thumbnailUrl) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var accessToken, url, requestBody, response;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context4.sent;\n                url = \"\".concat(Endpoints_1.IngestEndpointUrl, \"/\").concat(accountId, \"/videos/\").concat(videoId, \"/ingest-requests\");\n\n                if (!(!posterUrl && !thumbnailUrl)) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 6:\n                requestBody = {\n                  profile: 'multi-platform-standard-static'\n                };\n\n                if (posterUrl) {\n                  requestBody.poster = {\n                    url: posterUrl,\n                    width: 1280,\n                    height: 720\n                  };\n                }\n\n                if (thumbnailUrl) {\n                  requestBody.thumbnail = {\n                    url: thumbnailUrl,\n                    width: 160,\n                    height: 90\n                  };\n                }\n\n                _context4.next = 11;\n                return cross_fetch_1.default(url, {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  },\n                  body: JSON.stringify(requestBody)\n                });\n\n              case 11:\n                response = _context4.sent;\n                return _context4.abrupt(\"return\", response.json());\n\n              case 13:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }]);\n\n  return DynamicIngestApi;\n}();\n\nexports.DynamicIngestApi = DynamicIngestApi;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Endpoints_1 = require(\"./Endpoints\");\n\nvar cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar ExperiencesApi =\n/*#__PURE__*/\nfunction () {\n  function ExperiencesApi(accessTokenService) {\n    _classCallCheck(this, ExperiencesApi);\n\n    this.accessTokenService = accessTokenService;\n  }\n\n  _createClass(ExperiencesApi, [{\n    key: \"getExperiences\",\n    value: function getExperiences(accountId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context.sent;\n                url = \"\".concat(Endpoints_1.ExperiencesEndpointUrl, \"/\").concat(accountId, \"/experiences?\").concat(utils_1.getQueryString({}));\n                _context.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"getExperienceById\",\n    value: function getExperienceById(accountId, experienceId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context2.sent;\n                url = \"\".concat(Endpoints_1.ExperiencesEndpointUrl, \"/\").concat(accountId, \"/experiences/\").concat(experienceId, \"?\").concat(utils_1.getQueryString({}));\n                _context2.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"publishExperience\",\n    value: function publishExperience(accountId, experienceId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context3.sent;\n                url = \"\".concat(Endpoints_1.ExperiencesEndpointUrl, \"/\").concat(accountId, \"/experiences/\").concat(experienceId, \"/actions/publish\");\n                _context3.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'POST',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }]);\n\n  return ExperiencesApi;\n}();\n\nexports.ExperiencesApi = ExperiencesApi;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Endpoints_1 = require(\"./Endpoints\");\n\nvar cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar FoldersApi =\n/*#__PURE__*/\nfunction () {\n  function FoldersApi(accessTokenService) {\n    _classCallCheck(this, FoldersApi);\n\n    this.accessTokenService = accessTokenService;\n  }\n\n  _createClass(FoldersApi, [{\n    key: \"getFolders\",\n    value: function getFolders(accountId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/folders?\").concat(utils_1.getQueryString({}));\n                _context.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"addVideoToFolder\",\n    value: function addVideoToFolder(accountId, folderId, videoId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context2.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/folders/\").concat(folderId, \"/videos/\").concat(videoId);\n                _context2.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'PUT',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context2.sent;\n\n                if (!(response.status !== 204)) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                throw new Error('An error occurred while adding the video to the specified folder.');\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"getVideosInFolder\",\n    value: function getVideosInFolder(accountId, folderId, options) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context3.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/folders/\").concat(folderId, \"/videos\");\n                _context3.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context3.sent;\n\n                if (!(response.status !== 204)) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                throw new Error('An error occurred while adding the video to the specified folder.');\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }]);\n\n  return FoldersApi;\n}();\n\nexports.FoldersApi = FoldersApi;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Endpoints_1 = require(\"./Endpoints\");\n\nvar cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar IngestProfilesApi =\n/*#__PURE__*/\nfunction () {\n  function IngestProfilesApi(accessTokenService) {\n    _classCallCheck(this, IngestProfilesApi);\n\n    this.accessTokenService = accessTokenService;\n  }\n\n  _createClass(IngestProfilesApi, [{\n    key: \"getDefaultProfile\",\n    value: function getDefaultProfile(accountId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context.sent;\n                url = \"\".concat(Endpoints_1.IngestProfilesEndpointUrl, \"/\").concat(accountId, \"/configuration?\").concat(utils_1.getQueryString({}));\n                _context.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"getAllIngestProfiles\",\n    value: function getAllIngestProfiles(accountId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context2.sent;\n                url = \"\".concat(Endpoints_1.IngestProfilesEndpointUrl, \"/\").concat(accountId, \"/profiles?\").concat(utils_1.getQueryString({}));\n                _context2.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }]);\n\n  return IngestProfilesApi;\n}();\n\nexports.IngestProfilesApi = IngestProfilesApi;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Endpoints_1 = require(\"./Endpoints\");\n\nvar cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar PlayerManagementApi =\n/*#__PURE__*/\nfunction () {\n  function PlayerManagementApi(accessTokenService) {\n    _classCallCheck(this, PlayerManagementApi);\n\n    this.accessTokenService = accessTokenService;\n  }\n\n  _createClass(PlayerManagementApi, [{\n    key: \"getAllPlayers\",\n    value: function getAllPlayers(accountId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var accessToken, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context.sent;\n                _context.next = 5;\n                return cross_fetch_1.default(\"\".concat(Endpoints_1.PlayerManagementEndpointUrl, \"/\").concat(accountId, \"/players?\").concat(utils_1.getQueryString({})), {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 5:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.json());\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"getPlayerEmbeds\",\n    value: function getPlayerEmbeds(accountId, playerId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var accessToken, response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context2.sent;\n                _context2.next = 5;\n                return cross_fetch_1.default(\"\".concat(Endpoints_1.PlayerManagementEndpointUrl, \"/\").concat(accountId, \"/players/\").concat(playerId, \"/embeds?\").concat(utils_1.getQueryString({})), {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 5:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.json());\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }]);\n\n  return PlayerManagementApi;\n}();\n\nexports.PlayerManagementApi = PlayerManagementApi;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _1 = require(\".\");\n\nvar Endpoints_1 = require(\"./Endpoints\");\n\nvar utils_1 = require(\"./utils\");\n\nvar cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\n\nvar lodash_1 = require(\"lodash\");\n\nvar PlaylistsApi =\n/*#__PURE__*/\nfunction () {\n  function PlaylistsApi(accessTokenService) {\n    _classCallCheck(this, PlaylistsApi);\n\n    this.accessTokenService = accessTokenService;\n  }\n\n  _createClass(PlaylistsApi, [{\n    key: \"createPlaylist\",\n    value: function createPlaylist(accountId, playlist) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var accessToken, url, playlistRequest, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/playlists\");\n\n                if (playlist.type === _1.BCPlaylistType.Manual) {\n                  playlistRequest = lodash_1.pick(playlist, ['name', 'description', 'favorite', 'reference_id', 'type', 'video_ids']);\n                } else {\n                  playlistRequest = lodash_1.pick(playlist, ['name', 'description', 'favorite', 'reference_id', 'type', 'search', 'limit']);\n                }\n\n                _context.next = 7;\n                return cross_fetch_1.default(url, {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  },\n                  body: JSON.stringify(playlistRequest)\n                });\n\n              case 7:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.json());\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"getPlaylists\",\n    value: function getPlaylists(accountId, options) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context2.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/playlists\");\n\n                if (options) {\n                  url += '?' + utils_1.getQueryString(options);\n                }\n\n                _context2.next = 7;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 7:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.json());\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"getPlaylistById\",\n    value: function getPlaylistById(accountId, playlistId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context3.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/playlists/\").concat(playlistId, \"?\").concat(utils_1.getQueryString({}));\n                _context3.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }, {\n    key: \"getVideosInPlaylist\",\n    value: function getVideosInPlaylist(accountId, playlistId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context4.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/playlists/\").concat(playlistId, \"/videos?\").concat(utils_1.getQueryString({}));\n                _context4.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context4.sent;\n                return _context4.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }, {\n    key: \"updatePlaylist\",\n    value: function updatePlaylist(accountId, playlistId, playlist) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5() {\n        var accessToken, url, playlistRequest, response;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context5.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/playlists/\").concat(playlistId);\n\n                if (playlist.type === _1.BCPlaylistType.Manual) {\n                  playlistRequest = lodash_1.pick(playlist, ['name', 'description', 'favorite', 'reference_id', 'type', 'video_ids']);\n                } else {\n                  playlistRequest = lodash_1.pick(playlist, ['name', 'description', 'favorite', 'reference_id', 'type', 'search', 'limit']);\n                }\n\n                _context5.next = 7;\n                return cross_fetch_1.default(url, {\n                  method: 'PATCH',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  },\n                  body: JSON.stringify(playlistRequest)\n                });\n\n              case 7:\n                response = _context5.sent;\n                return _context5.abrupt(\"return\", response.json());\n\n              case 9:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n    }\n  }, {\n    key: \"deletePlaylist\",\n    value: function deletePlaylist(accountId, playlistId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var accessToken, url;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context6.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/playlists/\").concat(playlistId);\n                _context6.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'DELETE',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n    }\n  }]);\n\n  return PlaylistsApi;\n}();\n\nexports.PlaylistsApi = PlaylistsApi;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/oceanswave/Projects/brightcove-cms-connector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\n\nvar Endpoints_1 = require(\"./Endpoints\");\n\nvar utils_1 = require(\"./utils\");\n\nvar VideosApi =\n/*#__PURE__*/\nfunction () {\n  function VideosApi(accessTokenService) {\n    _classCallCheck(this, VideosApi);\n\n    this.accessTokenService = accessTokenService;\n  }\n\n  _createClass(VideosApi, [{\n    key: \"createVideo\",\n    value: function createVideo(accountId, name, tags) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/videos\");\n                _context.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  },\n                  body: JSON.stringify({\n                    name: name,\n                    tags: tags\n                  })\n                });\n\n              case 6:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"getVideos\",\n    value: function getVideos(accountId, options) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context2.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/videos\");\n\n                if (options) {\n                  url += '?' + utils_1.getQueryString(options);\n                }\n\n                _context2.next = 7;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 7:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.json());\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"getVideoById\",\n    value: function getVideoById(accountId, videoId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context3.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/videos/\").concat(videoId, \"?\").concat(utils_1.getQueryString({}));\n                _context3.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }, {\n    key: \"updateVideo\",\n    value: function updateVideo(accountId, videoId, video) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context4.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/videos/\").concat(videoId);\n                _context4.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'PATCH',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  },\n                  body: JSON.stringify(video)\n                });\n\n              case 6:\n                response = _context4.sent;\n                return _context4.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }, {\n    key: \"getVideoInjestJobs\",\n    value: function getVideoInjestJobs(accountId, videoId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context5.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/videos/\").concat(videoId, \"/ingest_jobs?\").concat(utils_1.getQueryString({}));\n                _context5.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context5.sent;\n                return _context5.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n    }\n  }, {\n    key: \"getVideoIngestJobStatus\",\n    value: function getVideoIngestJobStatus(accountId, videoId, ingestJobId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context6.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/videos/\").concat(videoId, \"/ingest_jobs/\").concat(ingestJobId, \"?\").concat(utils_1.getQueryString({}));\n                _context6.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context6.sent;\n                return _context6.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n    }\n  }, {\n    key: \"getVideoCount\",\n    value: function getVideoCount(accountId, options) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context7.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/counts/videos\");\n\n                if (options) {\n                  url += '?' + utils_1.getQueryString(options);\n                }\n\n                _context7.next = 7;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 7:\n                response = _context7.sent;\n                return _context7.abrupt(\"return\", response.json());\n\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n    }\n  }, {\n    key: \"getCustomFields\",\n    value: function getCustomFields(accountId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8() {\n        var accessToken, url, response;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return this.accessTokenService.obtainAccessToken(accountId);\n\n              case 2:\n                accessToken = _context8.sent;\n                url = \"\".concat(Endpoints_1.CmsEndpointUrl, \"/\").concat(accountId, \"/video_fields?\").concat(utils_1.getQueryString({}));\n                _context8.next = 6;\n                return cross_fetch_1.default(url, {\n                  method: 'GET',\n                  cache: 'no-cache',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"\".concat(accessToken.token_type, \" \").concat(accessToken.access_token)\n                  }\n                });\n\n              case 6:\n                response = _context8.sent;\n                return _context8.abrupt(\"return\", response.json());\n\n              case 8:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n    }\n  }]);\n\n  return VideosApi;\n}();\n\nexports.VideosApi = VideosApi;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AccessTokenEndpointUrl = 'https://oauth.brightcove.com/v4/access_token';\nexports.ClientCredentialsEndpointUrl = 'https://oauth.brightcove.com/v4/client_credentials';\nexports.CmsEndpointUrl = 'https://cms.api.brightcove.com/v1/accounts';\nexports.IngestEndpointUrl = 'https://ingest.api.brightcove.com/v1/accounts';\nexports.PlayerManagementEndpointUrl = 'https://players.api.brightcove.com/v2/accounts';\nexports.ExperiencesEndpointUrl = 'https://experiences.api.brightcove.com/v1/accounts';\nexports.IngestProfilesEndpointUrl = 'https://ingestion.api.brightcove.com/v1/accounts';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction getQueryString(params) {\n  var queryTerms = [];\n  var esc = encodeURIComponent;\n\n  for (var _i = 0, _Object$keys = Object.keys(params); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    var value = params[key];\n\n    if (value === undefined || value === null || value === '') {\n      continue;\n    }\n\n    queryTerms.push(\"\".concat(esc(key), \"=\").concat(esc(value)));\n  }\n\n  queryTerms.push(\"v=\".concat(new Date().getTime()));\n  return queryTerms.join('&');\n}\n\nexports.getQueryString = getQueryString;"],"sourceRoot":""}